(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Do(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Te={},$n=[],$t=()=>{},gd=()=>!1,os=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Bo=e=>e.startsWith("onUpdate:"),Ye=Object.assign,Go=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},md=Object.prototype.hasOwnProperty,Ae=(e,t)=>md.call(e,t),he=Array.isArray,Hn=e=>as(e)==="[object Map]",Yc=e=>as(e)==="[object Set]",fe=e=>typeof e=="function",Ve=e=>typeof e=="string",pn=e=>typeof e=="symbol",Ne=e=>e!==null&&typeof e=="object",Xc=e=>(Ne(e)||fe(e))&&fe(e.then)&&fe(e.catch),Zc=Object.prototype.toString,as=e=>Zc.call(e),pd=e=>as(e).slice(8,-1),Qc=e=>as(e)==="[object Object]",Vo=e=>Ve(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Qi=Do(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ls=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},vd=/-(\w)/g,Pt=ls(e=>e.replace(vd,(t,n)=>n?n.toUpperCase():"")),_d=/\B([A-Z])/g,rn=ls(e=>e.replace(_d,"-$1").toLowerCase()),cs=ls(e=>e.charAt(0).toUpperCase()+e.slice(1)),ks=ls(e=>e?`on${cs(e)}`:""),yt=(e,t)=>!Object.is(e,t),Os=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Jc=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},yd=e=>{const t=parseFloat(e);return isNaN(t)?e:t},bd=e=>{const t=Ve(e)?Number(e):NaN;return isNaN(t)?e:t};let ya;const us=()=>ya||(ya=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function An(e){if(he(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=Ve(i)?xd(i):An(i);if(r)for(const s in r)t[s]=r[s]}return t}else if(Ve(e)||Ne(e))return e}const Sd=/;(?![^(]*\))/g,Cd=/:([^]+)/,wd=/\/\*[^]*?\*\//g;function xd(e){const t={};return e.replace(wd,"").split(Sd).forEach(n=>{if(n){const i=n.split(Cd);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Uo(e){let t="";if(Ve(e))t=e;else if(he(e))for(let n=0;n<e.length;n++){const i=Uo(e[n]);i&&(t+=i+" ")}else if(Ne(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Pd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Td=Do(Pd);function eu(e){return!!e||e===""}const tu=e=>!!(e&&e.__v_isRef===!0),ar=e=>Ve(e)?e:e==null?"":he(e)||Ne(e)&&(e.toString===Zc||!fe(e.toString))?tu(e)?ar(e.value):JSON.stringify(e,nu,2):String(e),nu=(e,t)=>tu(t)?nu(e,t.value):Hn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r],s)=>(n[Ms(i,s)+" =>"]=r,n),{})}:Yc(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ms(n))}:pn(t)?Ms(t):Ne(t)&&!he(t)&&!Qc(t)?String(t):t,Ms=(e,t="")=>{var n;return pn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ct;class Ed{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ct,!t&&Ct&&(this.index=(Ct.scopes||(Ct.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ct;try{return Ct=this,t()}finally{Ct=n}}}on(){Ct=this}off(){Ct=this.parent}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Rd(){return Ct}let Fe;const Fs=new WeakSet;class iu{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ct&&Ct.active&&Ct.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Fs.has(this)&&(Fs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||su(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ba(this),ou(this);const t=Fe,n=Lt;Fe=this,Lt=!0;try{return this.fn()}finally{au(this),Fe=t,Lt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)zo(t);this.deps=this.depsTail=void 0,ba(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Fs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ho(this)&&this.run()}get dirty(){return ho(this)}}let ru=0,Ji,er;function su(e,t=!1){if(e.flags|=8,t){e.next=er,er=e;return}e.next=Ji,Ji=e}function $o(){ru++}function Ho(){if(--ru>0)return;if(er){let t=er;for(er=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Ji;){let t=Ji;for(Ji=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function ou(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function au(e){let t,n=e.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),zo(i),Ad(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}e.deps=t,e.depsTail=n}function ho(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(lu(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function lu(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===lr))return;e.globalVersion=lr;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!ho(e)){e.flags&=-3;return}const n=Fe,i=Lt;Fe=e,Lt=!0;try{ou(e);const r=e.fn(e._value);(t.version===0||yt(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Fe=n,Lt=i,au(e),e.flags&=-3}}function zo(e,t=!1){const{dep:n,prevSub:i,nextSub:r}=e;if(i&&(i.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)zo(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ad(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Lt=!0;const cu=[];function vn(){cu.push(Lt),Lt=!1}function _n(){const e=cu.pop();Lt=e===void 0?!0:e}function ba(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Fe;Fe=void 0;try{t()}finally{Fe=n}}}let lr=0;class kd{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class hs{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Fe||!Lt||Fe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Fe)n=this.activeLink=new kd(Fe,this),Fe.deps?(n.prevDep=Fe.depsTail,Fe.depsTail.nextDep=n,Fe.depsTail=n):Fe.deps=Fe.depsTail=n,uu(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Fe.depsTail,n.nextDep=void 0,Fe.depsTail.nextDep=n,Fe.depsTail=n,Fe.deps===n&&(Fe.deps=i)}return n}trigger(t){this.version++,lr++,this.notify(t)}notify(t){$o();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ho()}}}function uu(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)uu(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const fo=new WeakMap,Rn=Symbol(""),go=Symbol(""),cr=Symbol("");function at(e,t,n){if(Lt&&Fe){let i=fo.get(e);i||fo.set(e,i=new Map);let r=i.get(n);r||(i.set(n,r=new hs),r.map=i,r.key=n),r.track()}}function Qt(e,t,n,i,r,s){const o=fo.get(e);if(!o){lr++;return}const a=l=>{l&&l.trigger()};if($o(),t==="clear")o.forEach(a);else{const l=he(e),u=l&&Vo(n);if(l&&n==="length"){const c=Number(i);o.forEach((h,g)=>{(g==="length"||g===cr||!pn(g)&&g>=c)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(cr)),t){case"add":l?u&&a(o.get("length")):(a(o.get(Rn)),Hn(e)&&a(o.get(go)));break;case"delete":l||(a(o.get(Rn)),Hn(e)&&a(o.get(go)));break;case"set":Hn(e)&&a(o.get(Rn));break}}Ho()}function On(e){const t=Pe(e);return t===e?t:(at(t,"iterate",cr),Ot(e)?t:t.map(lt))}function ds(e){return at(e=Pe(e),"iterate",cr),e}const Od={__proto__:null,[Symbol.iterator](){return Ls(this,Symbol.iterator,lt)},concat(...e){return On(this).concat(...e.map(t=>he(t)?On(t):t))},entries(){return Ls(this,"entries",e=>(e[1]=lt(e[1]),e))},every(e,t){return zt(this,"every",e,t,void 0,arguments)},filter(e,t){return zt(this,"filter",e,t,n=>n.map(lt),arguments)},find(e,t){return zt(this,"find",e,t,lt,arguments)},findIndex(e,t){return zt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return zt(this,"findLast",e,t,lt,arguments)},findLastIndex(e,t){return zt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return zt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Is(this,"includes",e)},indexOf(...e){return Is(this,"indexOf",e)},join(e){return On(this).join(e)},lastIndexOf(...e){return Is(this,"lastIndexOf",e)},map(e,t){return zt(this,"map",e,t,void 0,arguments)},pop(){return ii(this,"pop")},push(...e){return ii(this,"push",e)},reduce(e,...t){return Sa(this,"reduce",e,t)},reduceRight(e,...t){return Sa(this,"reduceRight",e,t)},shift(){return ii(this,"shift")},some(e,t){return zt(this,"some",e,t,void 0,arguments)},splice(...e){return ii(this,"splice",e)},toReversed(){return On(this).toReversed()},toSorted(e){return On(this).toSorted(e)},toSpliced(...e){return On(this).toSpliced(...e)},unshift(...e){return ii(this,"unshift",e)},values(){return Ls(this,"values",lt)}};function Ls(e,t,n){const i=ds(e),r=i[t]();return i!==e&&!Ot(e)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const Md=Array.prototype;function zt(e,t,n,i,r,s){const o=ds(e),a=o!==e&&!Ot(e),l=o[t];if(l!==Md[t]){const h=l.apply(e,s);return a?lt(h):h}let u=n;o!==e&&(a?u=function(h,g){return n.call(this,lt(h),g,e)}:n.length>2&&(u=function(h,g){return n.call(this,h,g,e)}));const c=l.call(o,u,i);return a&&r?r(c):c}function Sa(e,t,n,i){const r=ds(e);let s=n;return r!==e&&(Ot(e)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,e)}):s=function(o,a,l){return n.call(this,o,lt(a),l,e)}),r[t](s,...i)}function Is(e,t,n){const i=Pe(e);at(i,"iterate",cr);const r=i[t](...n);return(r===-1||r===!1)&&qo(n[0])?(n[0]=Pe(n[0]),i[t](...n)):r}function ii(e,t,n=[]){vn(),$o();const i=Pe(e)[t].apply(e,n);return Ho(),_n(),i}const Fd=Do("__proto__,__v_isRef,__isVue"),hu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(pn));function Ld(e){pn(e)||(e=String(e));const t=Pe(this);return at(t,"has",e),t.hasOwnProperty(e)}class du{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?zd:pu:s?mu:gu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=he(t);if(!r){let l;if(o&&(l=Od[n]))return l;if(n==="hasOwnProperty")return Ld}const a=Reflect.get(t,n,rt(t)?t:i);return(pn(n)?hu.has(n):Fd(n))||(r||at(t,"get",n),s)?a:rt(a)?o&&Vo(n)?a:a.value:Ne(a)?r?_u(a):Xe(a):a}}class fu extends du{constructor(t=!1){super(!1,t)}set(t,n,i,r){let s=t[n];if(!this._isShallow){const l=kn(s);if(!Ot(i)&&!kn(i)&&(s=Pe(s),i=Pe(i)),!he(t)&&rt(s)&&!rt(i))return l?!1:(s.value=i,!0)}const o=he(t)&&Vo(n)?Number(n)<t.length:Ae(t,n),a=Reflect.set(t,n,i,rt(t)?t:r);return t===Pe(r)&&(o?yt(i,s)&&Qt(t,"set",n,i):Qt(t,"add",n,i)),a}deleteProperty(t,n){const i=Ae(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&Qt(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!pn(n)||!hu.has(n))&&at(t,"has",n),i}ownKeys(t){return at(t,"iterate",he(t)?"length":Rn),Reflect.ownKeys(t)}}class Id extends du{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Nd=new fu,Dd=new Id,Bd=new fu(!0);const mo=e=>e,Rr=e=>Reflect.getPrototypeOf(e);function Gd(e,t,n){return function(...i){const r=this.__v_raw,s=Pe(r),o=Hn(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=r[e](...i),c=n?mo:t?po:lt;return!t&&at(s,"iterate",l?go:Rn),{next(){const{value:h,done:g}=u.next();return g?{value:h,done:g}:{value:a?[c(h[0]),c(h[1])]:c(h),done:g}},[Symbol.iterator](){return this}}}}function Ar(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Vd(e,t){const n={get(r){const s=this.__v_raw,o=Pe(s),a=Pe(r);e||(yt(r,a)&&at(o,"get",r),at(o,"get",a));const{has:l}=Rr(o),u=t?mo:e?po:lt;if(l.call(o,r))return u(s.get(r));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(r)},get size(){const r=this.__v_raw;return!e&&at(Pe(r),"iterate",Rn),Reflect.get(r,"size",r)},has(r){const s=this.__v_raw,o=Pe(s),a=Pe(r);return e||(yt(r,a)&&at(o,"has",r),at(o,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const o=this,a=o.__v_raw,l=Pe(a),u=t?mo:e?po:lt;return!e&&at(l,"iterate",Rn),a.forEach((c,h)=>r.call(s,u(c),u(h),o))}};return Ye(n,e?{add:Ar("add"),set:Ar("set"),delete:Ar("delete"),clear:Ar("clear")}:{add(r){!t&&!Ot(r)&&!kn(r)&&(r=Pe(r));const s=Pe(this);return Rr(s).has.call(s,r)||(s.add(r),Qt(s,"add",r,r)),this},set(r,s){!t&&!Ot(s)&&!kn(s)&&(s=Pe(s));const o=Pe(this),{has:a,get:l}=Rr(o);let u=a.call(o,r);u||(r=Pe(r),u=a.call(o,r));const c=l.call(o,r);return o.set(r,s),u?yt(s,c)&&Qt(o,"set",r,s):Qt(o,"add",r,s),this},delete(r){const s=Pe(this),{has:o,get:a}=Rr(s);let l=o.call(s,r);l||(r=Pe(r),l=o.call(s,r)),a&&a.call(s,r);const u=s.delete(r);return l&&Qt(s,"delete",r,void 0),u},clear(){const r=Pe(this),s=r.size!==0,o=r.clear();return s&&Qt(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Gd(r,e,t)}),n}function jo(e,t){const n=Vd(e,t);return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Ae(n,r)&&r in i?n:i,r,s)}const Ud={get:jo(!1,!1)},$d={get:jo(!1,!0)},Hd={get:jo(!0,!1)};const gu=new WeakMap,mu=new WeakMap,pu=new WeakMap,zd=new WeakMap;function jd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wd(e){return e.__v_skip||!Object.isExtensible(e)?0:jd(pd(e))}function Xe(e){return kn(e)?e:Wo(e,!1,Nd,Ud,gu)}function vu(e){return Wo(e,!1,Bd,$d,mu)}function _u(e){return Wo(e,!0,Dd,Hd,pu)}function Wo(e,t,n,i,r){if(!Ne(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const o=Wd(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return r.set(e,a),a}function zn(e){return kn(e)?zn(e.__v_raw):!!(e&&e.__v_isReactive)}function kn(e){return!!(e&&e.__v_isReadonly)}function Ot(e){return!!(e&&e.__v_isShallow)}function qo(e){return e?!!e.__v_raw:!1}function Pe(e){const t=e&&e.__v_raw;return t?Pe(t):e}function qd(e){return!Ae(e,"__v_skip")&&Object.isExtensible(e)&&Jc(e,"__v_skip",!0),e}const lt=e=>Ne(e)?Xe(e):e,po=e=>Ne(e)?_u(e):e;function rt(e){return e?e.__v_isRef===!0:!1}function ae(e){return yu(e,!1)}function Kd(e){return yu(e,!0)}function yu(e,t){return rt(e)?e:new Yd(e,t)}class Yd{constructor(t,n){this.dep=new hs,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Pe(t),this._value=n?t:lt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||Ot(t)||kn(t);t=i?t:Pe(t),yt(t,n)&&(this._rawValue=t,this._value=i?t:lt(t),this.dep.trigger())}}function _e(e){return rt(e)?e.value:e}const Xd={get:(e,t,n)=>t==="__v_raw"?e:_e(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return rt(r)&&!rt(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function bu(e){return zn(e)?e:new Proxy(e,Xd)}class Zd{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new hs,{get:i,set:r}=t(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=r}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Qd(e){return new Zd(e)}class Jd{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new hs(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=lr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Fe!==this)return su(this,!0),!0}get value(){const t=this.dep.track();return lu(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ef(e,t,n=!1){let i,r;return fe(e)?i=e:(i=e.get,r=e.set),new Jd(i,r,n)}const kr={},Wr=new WeakMap;let Tn;function tf(e,t=!1,n=Tn){if(n){let i=Wr.get(n);i||Wr.set(n,i=[]),i.push(e)}}function nf(e,t,n=Te){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,u=b=>r?b:Ot(b)||r===!1||r===0?Jt(b,1):Jt(b);let c,h,g,d,m=!1,v=!1;if(rt(e)?(h=()=>e.value,m=Ot(e)):zn(e)?(h=()=>u(e),m=!0):he(e)?(v=!0,m=e.some(b=>zn(b)||Ot(b)),h=()=>e.map(b=>{if(rt(b))return b.value;if(zn(b))return u(b);if(fe(b))return l?l(b,2):b()})):fe(e)?t?h=l?()=>l(e,2):e:h=()=>{if(g){vn();try{g()}finally{_n()}}const b=Tn;Tn=c;try{return l?l(e,3,[d]):e(d)}finally{Tn=b}}:h=$t,t&&r){const b=h,w=r===!0?1/0:r;h=()=>Jt(b(),w)}const y=Rd(),S=()=>{c.stop(),y&&y.active&&Go(y.effects,c)};if(s&&t){const b=t;t=(...w)=>{b(...w),S()}}let p=v?new Array(e.length).fill(kr):kr;const f=b=>{if(!(!(c.flags&1)||!c.dirty&&!b))if(t){const w=c.run();if(r||m||(v?w.some((R,I)=>yt(R,p[I])):yt(w,p))){g&&g();const R=Tn;Tn=c;try{const I=[w,p===kr?void 0:v&&p[0]===kr?[]:p,d];l?l(t,3,I):t(...I),p=w}finally{Tn=R}}}else c.run()};return a&&a(f),c=new iu(h),c.scheduler=o?()=>o(f,!1):f,d=b=>tf(b,!1,c),g=c.onStop=()=>{const b=Wr.get(c);if(b){if(l)l(b,4);else for(const w of b)w();Wr.delete(c)}},t?i?f(!0):p=c.run():o?o(f.bind(null,!0),!0):c.run(),S.pause=c.pause.bind(c),S.resume=c.resume.bind(c),S.stop=S,S}function Jt(e,t=1/0,n){if(t<=0||!Ne(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,rt(e))Jt(e.value,t,n);else if(he(e))for(let i=0;i<e.length;i++)Jt(e[i],t,n);else if(Yc(e)||Hn(e))e.forEach(i=>{Jt(i,t,n)});else if(Qc(e)){for(const i in e)Jt(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Jt(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function br(e,t,n,i){try{return i?e(...i):e()}catch(r){fs(r,t,n)}}function Nt(e,t,n,i){if(fe(e)){const r=br(e,t,n,i);return r&&Xc(r)&&r.catch(s=>{fs(s,t,n)}),r}if(he(e)){const r=[];for(let s=0;s<e.length;s++)r.push(Nt(e[s],t,n,i));return r}}function fs(e,t,n,i=!0){const r=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Te;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](e,l,u)===!1)return}a=a.parent}if(s){vn(),br(s,null,10,[e,l,u]),_n();return}}rf(e,n,r,i,o)}function rf(e,t,n,i=!0,r=!1){if(r)throw e;console.error(e)}const ft=[];let Vt=-1;const jn=[];let cn=null,Bn=0;const Su=Promise.resolve();let qr=null;function ct(e){const t=qr||Su;return e?t.then(this?e.bind(this):e):t}function sf(e){let t=Vt+1,n=ft.length;for(;t<n;){const i=t+n>>>1,r=ft[i],s=ur(r);s<e||s===e&&r.flags&2?t=i+1:n=i}return t}function Ko(e){if(!(e.flags&1)){const t=ur(e),n=ft[ft.length-1];!n||!(e.flags&2)&&t>=ur(n)?ft.push(e):ft.splice(sf(t),0,e),e.flags|=1,Cu()}}function Cu(){qr||(qr=Su.then(xu))}function of(e){he(e)?jn.push(...e):cn&&e.id===-1?cn.splice(Bn+1,0,e):e.flags&1||(jn.push(e),e.flags|=1),Cu()}function Ca(e,t,n=Vt+1){for(;n<ft.length;n++){const i=ft[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;ft.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function wu(e){if(jn.length){const t=[...new Set(jn)].sort((n,i)=>ur(n)-ur(i));if(jn.length=0,cn){cn.push(...t);return}for(cn=t,Bn=0;Bn<cn.length;Bn++){const n=cn[Bn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}cn=null,Bn=0}}const ur=e=>e.id==null?e.flags&2?-1:1/0:e.id;function xu(e){try{for(Vt=0;Vt<ft.length;Vt++){const t=ft[Vt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),br(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Vt<ft.length;Vt++){const t=ft[Vt];t&&(t.flags&=-2)}Vt=-1,ft.length=0,wu(),qr=null,(ft.length||jn.length)&&xu()}}let St=null,Pu=null;function Kr(e){const t=St;return St=e,Pu=e&&e.type.__scopeId||null,t}function Ee(e,t=St,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&Na(-1);const s=Kr(t);let o;try{o=e(...r)}finally{Kr(s),i._d&&Na(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function hr(e,t){if(St===null)return e;const n=bs(St),i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,o,a,l=Te]=t[r];s&&(fe(s)&&(s={mounted:s,updated:s}),s.deep&&Jt(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function bn(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(vn(),Nt(l,n,8,[e.el,a,e,t]),_n())}}const Tu=Symbol("_vte"),Eu=e=>e.__isTeleport,tr=e=>e&&(e.disabled||e.disabled===""),wa=e=>e&&(e.defer||e.defer===""),xa=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Pa=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,vo=(e,t)=>{const n=e&&e.to;return Ve(n)?t?t(n):null:n},Ru={name:"Teleport",__isTeleport:!0,process(e,t,n,i,r,s,o,a,l,u){const{mc:c,pc:h,pbc:g,o:{insert:d,querySelector:m,createText:v,createComment:y}}=u,S=tr(t.props);let{shapeFlag:p,children:f,dynamicChildren:b}=t;if(e==null){const w=t.el=v(""),R=t.anchor=v("");d(w,n,i),d(R,n,i);const I=(x,E)=>{p&16&&(r&&r.isCE&&(r.ce._teleportTarget=x),c(f,x,E,r,s,o,a,l))},T=()=>{const x=t.target=vo(t.props,m),E=ku(x,t,v,d);x&&(o!=="svg"&&xa(x)?o="svg":o!=="mathml"&&Pa(x)&&(o="mathml"),S||(I(x,E),Ur(t,!1)))};S&&(I(n,R),Ur(t,!0)),wa(t.props)?dt(()=>{T(),t.el.__isMounted=!0},s):T()}else{if(wa(t.props)&&!e.el.__isMounted){dt(()=>{Ru.process(e,t,n,i,r,s,o,a,l,u),delete e.el.__isMounted},s);return}t.el=e.el,t.targetStart=e.targetStart;const w=t.anchor=e.anchor,R=t.target=e.target,I=t.targetAnchor=e.targetAnchor,T=tr(e.props),x=T?n:R,E=T?w:I;if(o==="svg"||xa(R)?o="svg":(o==="mathml"||Pa(R))&&(o="mathml"),b?(g(e.dynamicChildren,b,x,r,s,o,a),Jo(e,t,!0)):l||h(e,t,x,E,r,s,o,a,!1),S)T?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Or(t,n,w,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const A=t.target=vo(t.props,m);A&&Or(t,A,null,u,0)}else T&&Or(t,R,I,u,1);Ur(t,S)}},remove(e,t,n,{um:i,o:{remove:r}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:h,props:g}=e;if(h&&(r(u),r(c)),s&&r(l),o&16){const d=s||!tr(g);for(let m=0;m<a.length;m++){const v=a[m];i(v,t,n,d,!!v.dynamicChildren)}}},move:Or,hydrate:af};function Or(e,t,n,{o:{insert:i},m:r},s=2){s===0&&i(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,h=s===2;if(h&&i(o,t,n),(!h||tr(c))&&l&16)for(let g=0;g<u.length;g++)r(u[g],t,n,2);h&&i(a,t,n)}function af(e,t,n,i,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},h){const g=t.target=vo(t.props,l);if(g){const d=tr(t.props),m=g._lpa||g.firstChild;if(t.shapeFlag&16)if(d)t.anchor=h(o(e),t,a(e),n,i,r,s),t.targetStart=m,t.targetAnchor=m&&o(m);else{t.anchor=o(e);let v=m;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,g._lpa=t.targetAnchor&&o(t.targetAnchor);break}}v=o(v)}t.targetAnchor||ku(g,t,c,u),h(m&&o(m),t,g,n,i,r,s)}Ur(t,d)}return t.anchor&&o(t.anchor)}const Au=Ru;function Ur(e,t){const n=e.ctx;if(n&&n.ut){let i,r;for(t?(i=e.el,r=e.anchor):(i=e.targetStart,r=e.targetAnchor);i&&i!==r;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function ku(e,t,n,i){const r=t.targetStart=n(""),s=t.targetAnchor=n("");return r[Tu]=s,e&&(i(r,e),i(s,e)),s}const un=Symbol("_leaveCb"),Mr=Symbol("_enterCb");function lf(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ut(()=>{e.isMounted=!0}),Bt(()=>{e.isUnmounting=!0}),e}const At=[Function,Array],Ou={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:At,onEnter:At,onAfterEnter:At,onEnterCancelled:At,onBeforeLeave:At,onLeave:At,onAfterLeave:At,onLeaveCancelled:At,onBeforeAppear:At,onAppear:At,onAfterAppear:At,onAppearCancelled:At},Mu=e=>{const t=e.subTree;return t.component?Mu(t.component):t},cf={name:"BaseTransition",props:Ou,setup(e,{slots:t}){const n=Et(),i=lf();return()=>{const r=t.default&&Iu(t.default(),!0);if(!r||!r.length)return;const s=Fu(r),o=Pe(e),{mode:a}=o;if(i.isLeaving)return Ns(s);const l=Ta(s);if(!l)return Ns(s);let u=_o(l,o,i,n,h=>u=h);l.type!==bt&&dr(l,u);let c=n.subTree&&Ta(n.subTree);if(c&&c.type!==bt&&!En(l,c)&&Mu(n).type!==bt){let h=_o(c,o,i,n);if(dr(c,h),a==="out-in"&&l.type!==bt)return i.isLeaving=!0,h.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,c=void 0},Ns(s);a==="in-out"&&l.type!==bt?h.delayLeave=(g,d,m)=>{const v=Lu(i,c);v[String(c.key)]=c,g[un]=()=>{d(),g[un]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{m(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function Fu(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==bt){t=n;break}}return t}const uf=cf;function Lu(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function _o(e,t,n,i,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:g,onLeave:d,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:y,onAppear:S,onAfterAppear:p,onAppearCancelled:f}=t,b=String(e.key),w=Lu(n,e),R=(x,E)=>{x&&Nt(x,i,9,E)},I=(x,E)=>{const A=E[1];R(x,E),he(x)?x.every(M=>M.length<=1)&&A():x.length<=1&&A()},T={mode:o,persisted:a,beforeEnter(x){let E=l;if(!n.isMounted)if(s)E=y||l;else return;x[un]&&x[un](!0);const A=w[b];A&&En(e,A)&&A.el[un]&&A.el[un](),R(E,[x])},enter(x){let E=u,A=c,M=h;if(!n.isMounted)if(s)E=S||u,A=p||c,M=f||h;else return;let _=!1;const k=x[Mr]=C=>{_||(_=!0,C?R(M,[x]):R(A,[x]),T.delayedLeave&&T.delayedLeave(),x[Mr]=void 0)};E?I(E,[x,k]):k()},leave(x,E){const A=String(e.key);if(x[Mr]&&x[Mr](!0),n.isUnmounting)return E();R(g,[x]);let M=!1;const _=x[un]=k=>{M||(M=!0,E(),k?R(v,[x]):R(m,[x]),x[un]=void 0,w[A]===e&&delete w[A])};w[A]=e,d?I(d,[x,_]):_()},clone(x){const E=_o(x,t,n,i,r);return r&&r(E),E}};return T}function Ns(e){if(gs(e))return e=mn(e),e.children=null,e}function Ta(e){if(!gs(e))return Eu(e.type)&&e.children?Fu(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&fe(n.default))return n.default()}}function dr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,dr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Iu(e,t=!1,n){let i=[],r=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Qe?(o.patchFlag&128&&r++,i=i.concat(Iu(o.children,t,a))):(t||o.type!==bt)&&i.push(a!=null?mn(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function we(e,t){return fe(e)?Ye({name:e.name},t,{setup:e}):e}function Nu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Yr(e,t,n,i,r=!1){if(he(e)){e.forEach((m,v)=>Yr(m,t&&(he(t)?t[v]:t),n,i,r));return}if(nr(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Yr(e,t,n,i.component.subTree);return}const s=i.shapeFlag&4?bs(i.component):i.el,o=r?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===Te?a.refs={}:a.refs,h=a.setupState,g=Pe(h),d=h===Te?()=>!1:m=>Ae(g,m);if(u!=null&&u!==l&&(Ve(u)?(c[u]=null,d(u)&&(h[u]=null)):rt(u)&&(u.value=null)),fe(l))br(l,a,12,[o,c]);else{const m=Ve(l),v=rt(l);if(m||v){const y=()=>{if(e.f){const S=m?d(l)?h[l]:c[l]:l.value;r?he(S)&&Go(S,s):he(S)?S.includes(s)||S.push(s):m?(c[l]=[s],d(l)&&(h[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else m?(c[l]=o,d(l)&&(h[l]=o)):v&&(l.value=o,e.k&&(c[e.k]=o))};o?(y.id=-1,dt(y,n)):y()}}}us().requestIdleCallback;us().cancelIdleCallback;const nr=e=>!!e.type.__asyncLoader,gs=e=>e.type.__isKeepAlive;function Sr(e,t){Du(e,"a",t)}function Zn(e,t){Du(e,"da",t)}function Du(e,t,n=it){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(ms(t,i,n),n){let r=n.parent;for(;r&&r.parent;)gs(r.parent.vnode)&&hf(i,t,n,r),r=r.parent}}function hf(e,t,n,i){const r=ms(t,e,i,!0);Qn(()=>{Go(i[t],r)},n)}function ms(e,t,n=it,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{vn();const a=Cr(n),l=Nt(t,n,e,o);return a(),_n(),l});return i?r.unshift(s):r.push(s),s}}const sn=e=>(t,n=it)=>{(!pr||e==="sp")&&ms(e,(...i)=>t(...i),n)},df=sn("bm"),ut=sn("m"),ff=sn("bu"),Yo=sn("u"),Bt=sn("bum"),Qn=sn("um"),gf=sn("sp"),mf=sn("rtg"),pf=sn("rtc");function vf(e,t=it){ms("ec",e,t)}const Xo="components",_f="directives";function ke(e,t){return Zo(Xo,e,!0,t)||e}const Bu=Symbol.for("v-ndc");function yf(e){return Ve(e)?Zo(Xo,e,!1)||e:e||Bu}function bf(e){return Zo(_f,e)}function Zo(e,t,n=!0,i=!1){const r=St||it;if(r){const s=r.type;if(e===Xo){const a=l0(s,!1);if(a&&(a===t||a===Pt(t)||a===cs(Pt(t))))return s}const o=Ea(r[e]||s[e],t)||Ea(r.appContext[e],t);return!o&&i?s:o}}function Ea(e,t){return e&&(e[t]||e[Pt(t)]||e[cs(Pt(t))])}function ps(e,t,n,i){let r;const s=n,o=he(e);if(o||Ve(e)){const a=o&&zn(e);let l=!1;a&&(l=!Ot(e),e=ds(e)),r=new Array(e.length);for(let u=0,c=e.length;u<c;u++)r[u]=t(l?lt(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,s)}else if(Ne(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,s));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=t(e[c],c,l,s)}}else r=[];return r}function Sf(e,t){for(let n=0;n<t.length;n++){const i=t[n];if(he(i))for(let r=0;r<i.length;r++)e[i[r].name]=i[r].fn;else i&&(e[i.name]=i.key?(...r)=>{const s=i.fn(...r);return s&&(s.key=i.key),s}:i.fn)}return e}const yo=e=>e?rh(e)?bs(e):yo(e.parent):null,ir=Ye(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>yo(e.parent),$root:e=>yo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Vu(e),$forceUpdate:e=>e.f||(e.f=()=>{Ko(e.update)}),$nextTick:e=>e.n||(e.n=ct.bind(e.proxy)),$watch:e=>zf.bind(e)}),Ds=(e,t)=>e!==Te&&!e.__isScriptSetup&&Ae(e,t),Cf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(Ds(i,t))return o[t]=1,i[t];if(r!==Te&&Ae(r,t))return o[t]=2,r[t];if((u=e.propsOptions[0])&&Ae(u,t))return o[t]=3,s[t];if(n!==Te&&Ae(n,t))return o[t]=4,n[t];bo&&(o[t]=0)}}const c=ir[t];let h,g;if(c)return t==="$attrs"&&at(e.attrs,"get",""),c(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==Te&&Ae(n,t))return o[t]=4,n[t];if(g=l.config.globalProperties,Ae(g,t))return g[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:s}=e;return Ds(r,t)?(r[t]=n,!0):i!==Te&&Ae(i,t)?(i[t]=n,!0):Ae(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||e!==Te&&Ae(e,o)||Ds(t,o)||(a=s[0])&&Ae(a,o)||Ae(i,o)||Ae(ir,o)||Ae(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ae(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Xr(e){return he(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Ra(e,t){return!e||!t?e||t:he(e)&&he(t)?e.concat(t):Ye({},Xr(e),Xr(t))}let bo=!0;function wf(e){const t=Vu(e),n=e.proxy,i=e.ctx;bo=!1,t.beforeCreate&&Aa(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:g,beforeUpdate:d,updated:m,activated:v,deactivated:y,beforeDestroy:S,beforeUnmount:p,destroyed:f,unmounted:b,render:w,renderTracked:R,renderTriggered:I,errorCaptured:T,serverPrefetch:x,expose:E,inheritAttrs:A,components:M,directives:_,filters:k}=t;if(u&&xf(u,i,null),o)for(const L in o){const B=o[L];fe(B)&&(i[L]=B.bind(n))}if(r){const L=r.call(n,n);Ne(L)&&(e.data=Xe(L))}if(bo=!0,s)for(const L in s){const B=s[L],W=fe(B)?B.bind(n,n):fe(B.get)?B.get.bind(n,n):$t,z=!fe(B)&&fe(B.set)?B.set.bind(n):$t,$=ue({get:W,set:z});Object.defineProperty(i,L,{enumerable:!0,configurable:!0,get:()=>$.value,set:X=>$.value=X})}if(a)for(const L in a)Gu(a[L],i,n,L);if(l){const L=fe(l)?l.call(n):l;Reflect.ownKeys(L).forEach(B=>{gn(B,L[B])})}c&&Aa(c,e,"c");function O(L,B){he(B)?B.forEach(W=>L(W.bind(n))):B&&L(B.bind(n))}if(O(df,h),O(ut,g),O(ff,d),O(Yo,m),O(Sr,v),O(Zn,y),O(vf,T),O(pf,R),O(mf,I),O(Bt,p),O(Qn,b),O(gf,x),he(E))if(E.length){const L=e.exposed||(e.exposed={});E.forEach(B=>{Object.defineProperty(L,B,{get:()=>n[B],set:W=>n[B]=W})})}else e.exposed||(e.exposed={});w&&e.render===$t&&(e.render=w),A!=null&&(e.inheritAttrs=A),M&&(e.components=M),_&&(e.directives=_),x&&Nu(e)}function xf(e,t,n=$t){he(e)&&(e=So(e));for(const i in e){const r=e[i];let s;Ne(r)?"default"in r?s=mt(r.from||i,r.default,!0):s=mt(r.from||i):s=mt(r),rt(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[i]=s}}function Aa(e,t,n){Nt(he(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function Gu(e,t,n,i){let r=i.includes(".")?Qu(n,i):()=>n[i];if(Ve(e)){const s=t[e];fe(s)&&be(r,s)}else if(fe(e))be(r,e.bind(n));else if(Ne(e))if(he(e))e.forEach(s=>Gu(s,t,n,i));else{const s=fe(e.handler)?e.handler.bind(n):t[e.handler];fe(s)&&be(r,s,e)}}function Vu(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(u=>Zr(l,u,o,!0)),Zr(l,t,o)),Ne(t)&&s.set(t,l),l}function Zr(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&Zr(e,s,n,!0),r&&r.forEach(o=>Zr(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const a=Pf[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Pf={data:ka,props:Oa,emits:Oa,methods:Zi,computed:Zi,beforeCreate:ht,created:ht,beforeMount:ht,mounted:ht,beforeUpdate:ht,updated:ht,beforeDestroy:ht,beforeUnmount:ht,destroyed:ht,unmounted:ht,activated:ht,deactivated:ht,errorCaptured:ht,serverPrefetch:ht,components:Zi,directives:Zi,watch:Ef,provide:ka,inject:Tf};function ka(e,t){return t?e?function(){return Ye(fe(e)?e.call(this,this):e,fe(t)?t.call(this,this):t)}:t:e}function Tf(e,t){return Zi(So(e),So(t))}function So(e){if(he(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ht(e,t){return e?[...new Set([].concat(e,t))]:t}function Zi(e,t){return e?Ye(Object.create(null),e,t):t}function Oa(e,t){return e?he(e)&&he(t)?[...new Set([...e,...t])]:Ye(Object.create(null),Xr(e),Xr(t??{})):t}function Ef(e,t){if(!e)return t;if(!t)return e;const n=Ye(Object.create(null),e);for(const i in t)n[i]=ht(e[i],t[i]);return n}function Uu(){return{app:null,config:{isNativeTag:gd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Rf=0;function Af(e,t){return function(i,r=null){fe(i)||(i=Ye({},i)),r!=null&&!Ne(r)&&(r=null);const s=Uu(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:Rf++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:u0,get config(){return s.config},set config(c){},use(c,...h){return o.has(c)||(c&&fe(c.install)?(o.add(c),c.install(u,...h)):fe(c)&&(o.add(c),c(u,...h))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,h){return h?(s.components[c]=h,u):s.components[c]},directive(c,h){return h?(s.directives[c]=h,u):s.directives[c]},mount(c,h,g){if(!l){const d=u._ceVNode||U(i,r);return d.appContext=s,g===!0?g="svg":g===!1&&(g=void 0),e(d,c,g),l=!0,u._container=c,c.__vue_app__=u,bs(d.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Nt(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,h){return s.provides[c]=h,u},runWithContext(c){const h=Wn;Wn=u;try{return c()}finally{Wn=h}}};return u}}let Wn=null;function gn(e,t){if(it){let n=it.provides;const i=it.parent&&it.parent.provides;i===n&&(n=it.provides=Object.create(i)),n[e]=t}}function mt(e,t,n=!1){const i=it||St;if(i||Wn){const r=Wn?Wn._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&fe(t)?t.call(i&&i.proxy):t}}const $u={},Hu=()=>Object.create($u),zu=e=>Object.getPrototypeOf(e)===$u;function kf(e,t,n,i=!1){const r={},s=Hu();e.propsDefaults=Object.create(null),ju(e,t,r,s);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:vu(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function Of(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=e,a=Pe(r),[l]=e.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let g=c[h];if(_s(e.emitsOptions,g))continue;const d=t[g];if(l)if(Ae(s,g))d!==s[g]&&(s[g]=d,u=!0);else{const m=Pt(g);r[m]=Co(l,a,m,d,e,!1)}else d!==s[g]&&(s[g]=d,u=!0)}}}else{ju(e,t,r,s)&&(u=!0);let c;for(const h in a)(!t||!Ae(t,h)&&((c=rn(h))===h||!Ae(t,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(r[h]=Co(l,a,h,void 0,e,!0)):delete r[h]);if(s!==a)for(const h in s)(!t||!Ae(t,h))&&(delete s[h],u=!0)}u&&Qt(e.attrs,"set","")}function ju(e,t,n,i){const[r,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Qi(l))continue;const u=t[l];let c;r&&Ae(r,c=Pt(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:_s(e.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,o=!0)}if(s){const l=Pe(n),u=a||Te;for(let c=0;c<s.length;c++){const h=s[c];n[h]=Co(r,l,h,u[h],e,!Ae(u,h))}}return o}function Co(e,t,n,i,r,s){const o=e[n];if(o!=null){const a=Ae(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&fe(l)){const{propsDefaults:u}=r;if(n in u)i=u[n];else{const c=Cr(r);i=u[n]=l.call(null,t),c()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===rn(n))&&(i=!0))}return i}const Mf=new WeakMap;function Wu(e,t,n=!1){const i=n?Mf:t.propsCache,r=i.get(e);if(r)return r;const s=e.props,o={},a=[];let l=!1;if(!fe(e)){const c=h=>{l=!0;const[g,d]=Wu(h,t,!0);Ye(o,g),d&&a.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return Ne(e)&&i.set(e,$n),$n;if(he(s))for(let c=0;c<s.length;c++){const h=Pt(s[c]);Ma(h)&&(o[h]=Te)}else if(s)for(const c in s){const h=Pt(c);if(Ma(h)){const g=s[c],d=o[h]=he(g)||fe(g)?{type:g}:Ye({},g),m=d.type;let v=!1,y=!0;if(he(m))for(let S=0;S<m.length;++S){const p=m[S],f=fe(p)&&p.name;if(f==="Boolean"){v=!0;break}else f==="String"&&(y=!1)}else v=fe(m)&&m.name==="Boolean";d[0]=v,d[1]=y,(v||Ae(d,"default"))&&a.push(h)}}const u=[o,a];return Ne(e)&&i.set(e,u),u}function Ma(e){return e[0]!=="$"&&!Qi(e)}const qu=e=>e[0]==="_"||e==="$stable",Qo=e=>he(e)?e.map(Ut):[Ut(e)],Ff=(e,t,n)=>{if(t._n)return t;const i=Ee((...r)=>Qo(t(...r)),n);return i._c=!1,i},Ku=(e,t,n)=>{const i=e._ctx;for(const r in e){if(qu(r))continue;const s=e[r];if(fe(s))t[r]=Ff(r,s,i);else if(s!=null){const o=Qo(s);t[r]=()=>o}}},Yu=(e,t)=>{const n=Qo(t);e.slots.default=()=>n},Xu=(e,t,n)=>{for(const i in t)(n||i!=="_")&&(e[i]=t[i])},Lf=(e,t,n)=>{const i=e.slots=Hu();if(e.vnode.shapeFlag&32){const r=t._;r?(Xu(i,t,n),n&&Jc(i,"_",r,!0)):Ku(t,i)}else t&&Yu(e,t)},If=(e,t,n)=>{const{vnode:i,slots:r}=e;let s=!0,o=Te;if(i.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:Xu(r,t,n):(s=!t.$stable,Ku(t,r)),o=t}else t&&(Yu(e,t),o={default:1});if(s)for(const a in r)!qu(a)&&o[a]==null&&delete r[a]},dt=Zf;function Nf(e){return Df(e)}function Df(e,t){const n=us();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:g,setScopeId:d=$t,insertStaticContent:m}=e,v=(F,N,G,H=null,Y=null,K=null,ee=void 0,ie=null,te=!!N.dynamicChildren)=>{if(F===N)return;F&&!En(F,N)&&(H=P(F),X(F,Y,K,!0),F=null),N.patchFlag===-2&&(te=!1,N.dynamicChildren=null);const{type:J,ref:oe,shapeFlag:re}=N;switch(J){case ys:y(F,N,G,H);break;case bt:S(F,N,G,H);break;case Gs:F==null&&p(N,G,H,ee);break;case Qe:M(F,N,G,H,Y,K,ee,ie,te);break;default:re&1?w(F,N,G,H,Y,K,ee,ie,te):re&6?_(F,N,G,H,Y,K,ee,ie,te):(re&64||re&128)&&J.process(F,N,G,H,Y,K,ee,ie,te,j)}oe!=null&&Y&&Yr(oe,F&&F.ref,K,N||F,!N)},y=(F,N,G,H)=>{if(F==null)i(N.el=a(N.children),G,H);else{const Y=N.el=F.el;N.children!==F.children&&u(Y,N.children)}},S=(F,N,G,H)=>{F==null?i(N.el=l(N.children||""),G,H):N.el=F.el},p=(F,N,G,H)=>{[F.el,F.anchor]=m(F.children,N,G,H,F.el,F.anchor)},f=({el:F,anchor:N},G,H)=>{let Y;for(;F&&F!==N;)Y=g(F),i(F,G,H),F=Y;i(N,G,H)},b=({el:F,anchor:N})=>{let G;for(;F&&F!==N;)G=g(F),r(F),F=G;r(N)},w=(F,N,G,H,Y,K,ee,ie,te)=>{N.type==="svg"?ee="svg":N.type==="math"&&(ee="mathml"),F==null?R(N,G,H,Y,K,ee,ie,te):x(F,N,Y,K,ee,ie,te)},R=(F,N,G,H,Y,K,ee,ie)=>{let te,J;const{props:oe,shapeFlag:re,transition:le,dirs:ce}=F;if(te=F.el=o(F.type,K,oe&&oe.is,oe),re&8?c(te,F.children):re&16&&T(F.children,te,null,H,Y,Bs(F,K),ee,ie),ce&&bn(F,null,H,"created"),I(te,F,F.scopeId,ee,H),oe){for(const Ce in oe)Ce!=="value"&&!Qi(Ce)&&s(te,Ce,null,oe[Ce],K,H);"value"in oe&&s(te,"value",null,oe.value,K),(J=oe.onVnodeBeforeMount)&&Gt(J,H,F)}ce&&bn(F,null,H,"beforeMount");const de=Bf(Y,le);de&&le.beforeEnter(te),i(te,N,G),((J=oe&&oe.onVnodeMounted)||de||ce)&&dt(()=>{J&&Gt(J,H,F),de&&le.enter(te),ce&&bn(F,null,H,"mounted")},Y)},I=(F,N,G,H,Y)=>{if(G&&d(F,G),H)for(let K=0;K<H.length;K++)d(F,H[K]);if(Y){let K=Y.subTree;if(N===K||th(K.type)&&(K.ssContent===N||K.ssFallback===N)){const ee=Y.vnode;I(F,ee,ee.scopeId,ee.slotScopeIds,Y.parent)}}},T=(F,N,G,H,Y,K,ee,ie,te=0)=>{for(let J=te;J<F.length;J++){const oe=F[J]=ie?hn(F[J]):Ut(F[J]);v(null,oe,N,G,H,Y,K,ee,ie)}},x=(F,N,G,H,Y,K,ee)=>{const ie=N.el=F.el;let{patchFlag:te,dynamicChildren:J,dirs:oe}=N;te|=F.patchFlag&16;const re=F.props||Te,le=N.props||Te;let ce;if(G&&Sn(G,!1),(ce=le.onVnodeBeforeUpdate)&&Gt(ce,G,N,F),oe&&bn(N,F,G,"beforeUpdate"),G&&Sn(G,!0),(re.innerHTML&&le.innerHTML==null||re.textContent&&le.textContent==null)&&c(ie,""),J?E(F.dynamicChildren,J,ie,G,H,Bs(N,Y),K):ee||B(F,N,ie,null,G,H,Bs(N,Y),K,!1),te>0){if(te&16)A(ie,re,le,G,Y);else if(te&2&&re.class!==le.class&&s(ie,"class",null,le.class,Y),te&4&&s(ie,"style",re.style,le.style,Y),te&8){const de=N.dynamicProps;for(let Ce=0;Ce<de.length;Ce++){const me=de[Ce],ze=re[me],Ge=le[me];(Ge!==ze||me==="value")&&s(ie,me,ze,Ge,Y,G)}}te&1&&F.children!==N.children&&c(ie,N.children)}else!ee&&J==null&&A(ie,re,le,G,Y);((ce=le.onVnodeUpdated)||oe)&&dt(()=>{ce&&Gt(ce,G,N,F),oe&&bn(N,F,G,"updated")},H)},E=(F,N,G,H,Y,K,ee)=>{for(let ie=0;ie<N.length;ie++){const te=F[ie],J=N[ie],oe=te.el&&(te.type===Qe||!En(te,J)||te.shapeFlag&70)?h(te.el):G;v(te,J,oe,null,H,Y,K,ee,!0)}},A=(F,N,G,H,Y)=>{if(N!==G){if(N!==Te)for(const K in N)!Qi(K)&&!(K in G)&&s(F,K,N[K],null,Y,H);for(const K in G){if(Qi(K))continue;const ee=G[K],ie=N[K];ee!==ie&&K!=="value"&&s(F,K,ie,ee,Y,H)}"value"in G&&s(F,"value",N.value,G.value,Y)}},M=(F,N,G,H,Y,K,ee,ie,te)=>{const J=N.el=F?F.el:a(""),oe=N.anchor=F?F.anchor:a("");let{patchFlag:re,dynamicChildren:le,slotScopeIds:ce}=N;ce&&(ie=ie?ie.concat(ce):ce),F==null?(i(J,G,H),i(oe,G,H),T(N.children||[],G,oe,Y,K,ee,ie,te)):re>0&&re&64&&le&&F.dynamicChildren?(E(F.dynamicChildren,le,G,Y,K,ee,ie),(N.key!=null||Y&&N===Y.subTree)&&Jo(F,N,!0)):B(F,N,G,oe,Y,K,ee,ie,te)},_=(F,N,G,H,Y,K,ee,ie,te)=>{N.slotScopeIds=ie,F==null?N.shapeFlag&512?Y.ctx.activate(N,G,H,ee,te):k(N,G,H,Y,K,ee,te):C(F,N,te)},k=(F,N,G,H,Y,K,ee)=>{const ie=F.component=i0(F,H,Y);if(gs(F)&&(ie.ctx.renderer=j),r0(ie,!1,ee),ie.asyncDep){if(Y&&Y.registerDep(ie,O,ee),!F.el){const te=ie.subTree=U(bt);S(null,te,N,G)}}else O(ie,F,N,G,Y,K,ee)},C=(F,N,G)=>{const H=N.component=F.component;if(Yf(F,N,G))if(H.asyncDep&&!H.asyncResolved){L(H,N,G);return}else H.next=N,H.update();else N.el=F.el,H.vnode=N},O=(F,N,G,H,Y,K,ee)=>{const ie=()=>{if(F.isMounted){let{next:re,bu:le,u:ce,parent:de,vnode:Ce}=F;{const je=Zu(F);if(je){re&&(re.el=Ce.el,L(F,re,ee)),je.asyncDep.then(()=>{F.isUnmounted||ie()});return}}let me=re,ze;Sn(F,!1),re?(re.el=Ce.el,L(F,re,ee)):re=Ce,le&&Os(le),(ze=re.props&&re.props.onVnodeBeforeUpdate)&&Gt(ze,de,re,Ce),Sn(F,!0);const Ge=La(F),Ze=F.subTree;F.subTree=Ge,v(Ze,Ge,h(Ze.el),P(Ze),F,Y,K),re.el=Ge.el,me===null&&Xf(F,Ge.el),ce&&dt(ce,Y),(ze=re.props&&re.props.onVnodeUpdated)&&dt(()=>Gt(ze,de,re,Ce),Y)}else{let re;const{el:le,props:ce}=N,{bm:de,m:Ce,parent:me,root:ze,type:Ge}=F,Ze=nr(N);Sn(F,!1),de&&Os(de),!Ze&&(re=ce&&ce.onVnodeBeforeMount)&&Gt(re,me,N),Sn(F,!0);{ze.ce&&ze.ce._injectChildStyle(Ge);const je=F.subTree=La(F);v(null,je,G,H,F,Y,K),N.el=je.el}if(Ce&&dt(Ce,Y),!Ze&&(re=ce&&ce.onVnodeMounted)){const je=N;dt(()=>Gt(re,me,je),Y)}(N.shapeFlag&256||me&&nr(me.vnode)&&me.vnode.shapeFlag&256)&&F.a&&dt(F.a,Y),F.isMounted=!0,N=G=H=null}};F.scope.on();const te=F.effect=new iu(ie);F.scope.off();const J=F.update=te.run.bind(te),oe=F.job=te.runIfDirty.bind(te);oe.i=F,oe.id=F.uid,te.scheduler=()=>Ko(oe),Sn(F,!0),J()},L=(F,N,G)=>{N.component=F;const H=F.vnode.props;F.vnode=N,F.next=null,Of(F,N.props,H,G),If(F,N.children,G),vn(),Ca(F),_n()},B=(F,N,G,H,Y,K,ee,ie,te=!1)=>{const J=F&&F.children,oe=F?F.shapeFlag:0,re=N.children,{patchFlag:le,shapeFlag:ce}=N;if(le>0){if(le&128){z(J,re,G,H,Y,K,ee,ie,te);return}else if(le&256){W(J,re,G,H,Y,K,ee,ie,te);return}}ce&8?(oe&16&&se(J,Y,K),re!==J&&c(G,re)):oe&16?ce&16?z(J,re,G,H,Y,K,ee,ie,te):se(J,Y,K,!0):(oe&8&&c(G,""),ce&16&&T(re,G,H,Y,K,ee,ie,te))},W=(F,N,G,H,Y,K,ee,ie,te)=>{F=F||$n,N=N||$n;const J=F.length,oe=N.length,re=Math.min(J,oe);let le;for(le=0;le<re;le++){const ce=N[le]=te?hn(N[le]):Ut(N[le]);v(F[le],ce,G,null,Y,K,ee,ie,te)}J>oe?se(F,Y,K,!0,!1,re):T(N,G,H,Y,K,ee,ie,te,re)},z=(F,N,G,H,Y,K,ee,ie,te)=>{let J=0;const oe=N.length;let re=F.length-1,le=oe-1;for(;J<=re&&J<=le;){const ce=F[J],de=N[J]=te?hn(N[J]):Ut(N[J]);if(En(ce,de))v(ce,de,G,null,Y,K,ee,ie,te);else break;J++}for(;J<=re&&J<=le;){const ce=F[re],de=N[le]=te?hn(N[le]):Ut(N[le]);if(En(ce,de))v(ce,de,G,null,Y,K,ee,ie,te);else break;re--,le--}if(J>re){if(J<=le){const ce=le+1,de=ce<oe?N[ce].el:H;for(;J<=le;)v(null,N[J]=te?hn(N[J]):Ut(N[J]),G,de,Y,K,ee,ie,te),J++}}else if(J>le)for(;J<=re;)X(F[J],Y,K,!0),J++;else{const ce=J,de=J,Ce=new Map;for(J=de;J<=le;J++){const nt=N[J]=te?hn(N[J]):Ut(N[J]);nt.key!=null&&Ce.set(nt.key,J)}let me,ze=0;const Ge=le-de+1;let Ze=!1,je=0;const ot=new Array(Ge);for(J=0;J<Ge;J++)ot[J]=0;for(J=ce;J<=re;J++){const nt=F[J];if(ze>=Ge){X(nt,Y,K,!0);continue}let Rt;if(nt.key!=null)Rt=Ce.get(nt.key);else for(me=de;me<=le;me++)if(ot[me-de]===0&&En(nt,N[me])){Rt=me;break}Rt===void 0?X(nt,Y,K,!0):(ot[Rt-de]=J+1,Rt>=je?je=Rt:Ze=!0,v(nt,N[Rt],G,null,Y,K,ee,ie,te),ze++)}const pt=Ze?Gf(ot):$n;for(me=pt.length-1,J=Ge-1;J>=0;J--){const nt=de+J,Rt=N[nt],_a=nt+1<oe?N[nt+1].el:H;ot[J]===0?v(null,Rt,G,_a,Y,K,ee,ie,te):Ze&&(me<0||J!==pt[me]?$(Rt,G,_a,2):me--)}}},$=(F,N,G,H,Y=null)=>{const{el:K,type:ee,transition:ie,children:te,shapeFlag:J}=F;if(J&6){$(F.component.subTree,N,G,H);return}if(J&128){F.suspense.move(N,G,H);return}if(J&64){ee.move(F,N,G,j);return}if(ee===Qe){i(K,N,G);for(let re=0;re<te.length;re++)$(te[re],N,G,H);i(F.anchor,N,G);return}if(ee===Gs){f(F,N,G);return}if(H!==2&&J&1&&ie)if(H===0)ie.beforeEnter(K),i(K,N,G),dt(()=>ie.enter(K),Y);else{const{leave:re,delayLeave:le,afterLeave:ce}=ie,de=()=>i(K,N,G),Ce=()=>{re(K,()=>{de(),ce&&ce()})};le?le(K,de,Ce):Ce()}else i(K,N,G)},X=(F,N,G,H=!1,Y=!1)=>{const{type:K,props:ee,ref:ie,children:te,dynamicChildren:J,shapeFlag:oe,patchFlag:re,dirs:le,cacheIndex:ce}=F;if(re===-2&&(Y=!1),ie!=null&&Yr(ie,null,G,F,!0),ce!=null&&(N.renderCache[ce]=void 0),oe&256){N.ctx.deactivate(F);return}const de=oe&1&&le,Ce=!nr(F);let me;if(Ce&&(me=ee&&ee.onVnodeBeforeUnmount)&&Gt(me,N,F),oe&6)ne(F.component,G,H);else{if(oe&128){F.suspense.unmount(G,H);return}de&&bn(F,null,N,"beforeUnmount"),oe&64?F.type.remove(F,N,G,j,H):J&&!J.hasOnce&&(K!==Qe||re>0&&re&64)?se(J,N,G,!1,!0):(K===Qe&&re&384||!Y&&oe&16)&&se(te,N,G),H&&q(F)}(Ce&&(me=ee&&ee.onVnodeUnmounted)||de)&&dt(()=>{me&&Gt(me,N,F),de&&bn(F,null,N,"unmounted")},G)},q=F=>{const{type:N,el:G,anchor:H,transition:Y}=F;if(N===Qe){Q(G,H);return}if(N===Gs){b(F);return}const K=()=>{r(G),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(F.shapeFlag&1&&Y&&!Y.persisted){const{leave:ee,delayLeave:ie}=Y,te=()=>ee(G,K);ie?ie(F.el,K,te):te()}else K()},Q=(F,N)=>{let G;for(;F!==N;)G=g(F),r(F),F=G;r(N)},ne=(F,N,G)=>{const{bum:H,scope:Y,job:K,subTree:ee,um:ie,m:te,a:J}=F;Fa(te),Fa(J),H&&Os(H),Y.stop(),K&&(K.flags|=8,X(ee,F,N,G)),ie&&dt(ie,N),dt(()=>{F.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},se=(F,N,G,H=!1,Y=!1,K=0)=>{for(let ee=K;ee<F.length;ee++)X(F[ee],N,G,H,Y)},P=F=>{if(F.shapeFlag&6)return P(F.component.subTree);if(F.shapeFlag&128)return F.suspense.next();const N=g(F.anchor||F.el),G=N&&N[Tu];return G?g(G):N};let D=!1;const V=(F,N,G)=>{F==null?N._vnode&&X(N._vnode,null,null,!0):v(N._vnode||null,F,N,null,null,null,G),N._vnode=F,D||(D=!0,Ca(),wu(),D=!1)},j={p:v,um:X,m:$,r:q,mt:k,mc:T,pc:B,pbc:E,n:P,o:e};return{render:V,hydrate:void 0,createApp:Af(V)}}function Bs({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Sn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Bf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Jo(e,t,n=!1){const i=e.children,r=t.children;if(he(i)&&he(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=hn(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&Jo(o,a)),a.type===ys&&(a.el=o.el)}}function Gf(e){const t=e.slice(),n=[0];let i,r,s,o,a;const l=e.length;for(i=0;i<l;i++){const u=e[i];if(u!==0){if(r=n[n.length-1],e[r]<u){t[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<u?s=a+1:o=a;u<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function Zu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Zu(t)}function Fa(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Vf=Symbol.for("v-scx"),Uf=()=>mt(Vf);function $f(e,t){return vs(e,null,t)}function Hf(e,t){return vs(e,null,{flush:"sync"})}function be(e,t,n){return vs(e,t,n)}function vs(e,t,n=Te){const{immediate:i,deep:r,flush:s,once:o}=n,a=Ye({},n),l=t&&i||!t&&s!=="post";let u;if(pr){if(s==="sync"){const d=Uf();u=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=$t,d.resume=$t,d.pause=$t,d}}const c=it;a.call=(d,m,v)=>Nt(d,c,m,v);let h=!1;s==="post"?a.scheduler=d=>{dt(d,c&&c.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(d,m)=>{m?d():Ko(d)}),a.augmentJob=d=>{t&&(d.flags|=4),h&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const g=nf(e,t,a);return pr&&(u?u.push(g):l&&g()),g}function zf(e,t,n){const i=this.proxy,r=Ve(e)?e.includes(".")?Qu(i,e):()=>i[e]:e.bind(i,i);let s;fe(t)?s=t:(s=t.handler,n=t);const o=Cr(this),a=vs(r,s.bind(i),n);return o(),a}function Qu(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function jf(e,t,n=Te){const i=Et(),r=Pt(t),s=rn(t),o=Ju(e,r),a=Qd((l,u)=>{let c,h=Te,g;return Hf(()=>{const d=e[r];yt(c,d)&&(c=d,u())}),{get(){return l(),n.get?n.get(c):c},set(d){const m=n.set?n.set(d):d;if(!yt(m,c)&&!(h!==Te&&yt(d,h)))return;const v=i.vnode.props;v&&(t in v||r in v||s in v)&&(`onUpdate:${t}`in v||`onUpdate:${r}`in v||`onUpdate:${s}`in v)||(c=d,u()),i.emit(`update:${t}`,m),yt(d,m)&&yt(d,h)&&!yt(m,g)&&u(),h=d,g=m}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||Te:a,done:!1}:{done:!0}}}},a}const Ju=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Pt(t)}Modifiers`]||e[`${rn(t)}Modifiers`];function Wf(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Te;let r=n;const s=t.startsWith("update:"),o=s&&Ju(i,t.slice(7));o&&(o.trim&&(r=n.map(c=>Ve(c)?c.trim():c)),o.number&&(r=n.map(yd)));let a,l=i[a=ks(t)]||i[a=ks(Pt(t))];!l&&s&&(l=i[a=ks(rn(t))]),l&&Nt(l,e,6,r);const u=i[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Nt(u,e,6,r)}}function eh(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const s=e.emits;let o={},a=!1;if(!fe(e)){const l=u=>{const c=eh(u,t,!0);c&&(a=!0,Ye(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(Ne(e)&&i.set(e,null),null):(he(s)?s.forEach(l=>o[l]=null):Ye(o,s),Ne(e)&&i.set(e,o),o)}function _s(e,t){return!e||!os(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ae(e,t[0].toLowerCase()+t.slice(1))||Ae(e,rn(t))||Ae(e,t))}function La(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:g,setupState:d,ctx:m,inheritAttrs:v}=e,y=Kr(e);let S,p;try{if(n.shapeFlag&4){const b=r||i,w=b;S=Ut(u.call(w,b,c,h,d,g,m)),p=a}else{const b=t;S=Ut(b.length>1?b(h,{attrs:a,slots:o,emit:l}):b(h,null)),p=t.props?a:qf(a)}}catch(b){rr.length=0,fs(b,e,1),S=U(bt)}let f=S;if(p&&v!==!1){const b=Object.keys(p),{shapeFlag:w}=f;b.length&&w&7&&(s&&b.some(Bo)&&(p=Kf(p,s)),f=mn(f,p,!1,!0))}return n.dirs&&(f=mn(f,null,!1,!0),f.dirs=f.dirs?f.dirs.concat(n.dirs):n.dirs),n.transition&&dr(f,n.transition),S=f,Kr(y),S}const qf=e=>{let t;for(const n in e)(n==="class"||n==="style"||os(n))&&((t||(t={}))[n]=e[n]);return t},Kf=(e,t)=>{const n={};for(const i in e)(!Bo(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Yf(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?Ia(i,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const g=c[h];if(o[g]!==i[g]&&!_s(u,g))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Ia(i,o,u):!0:!!o;return!1}function Ia(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!_s(n,s))return!0}return!1}function Xf({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const th=e=>e.__isSuspense;function Zf(e,t){t&&t.pendingBranch?he(e)?t.effects.push(...e):t.effects.push(e):of(e)}const Qe=Symbol.for("v-fgt"),ys=Symbol.for("v-txt"),bt=Symbol.for("v-cmt"),Gs=Symbol.for("v-stc"),rr=[];let xt=null;function De(e=!1){rr.push(xt=e?null:[])}function Qf(){rr.pop(),xt=rr[rr.length-1]||null}let fr=1;function Na(e,t=!1){fr+=e,e<0&&xt&&t&&(xt.hasOnce=!0)}function nh(e){return e.dynamicChildren=fr>0?xt||$n:null,Qf(),fr>0&&xt&&xt.push(e),e}function Tt(e,t,n,i,r,s){return nh(tn(e,t,n,i,r,s,!0))}function It(e,t,n,i,r){return nh(U(e,t,n,i,r,!0))}function gr(e){return e?e.__v_isVNode===!0:!1}function En(e,t){return e.type===t.type&&e.key===t.key}const ih=({key:e})=>e??null,$r=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ve(e)||rt(e)||fe(e)?{i:St,r:e,k:t,f:!!n}:e:null);function tn(e,t=null,n=null,i=0,r=null,s=e===Qe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ih(t),ref:t&&$r(t),scopeId:Pu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:St};return a?(ea(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Ve(n)?8:16),fr>0&&!o&&xt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&xt.push(l),l}const U=Jf;function Jf(e,t=null,n=null,i=0,r=null,s=!1){if((!e||e===Bu)&&(e=bt),gr(e)){const a=mn(e,t,!0);return n&&ea(a,n),fr>0&&!s&&xt&&(a.shapeFlag&6?xt[xt.indexOf(e)]=a:xt.push(a)),a.patchFlag=-2,a}if(c0(e)&&(e=e.__vccOpts),t){t=e0(t);let{class:a,style:l}=t;a&&!Ve(a)&&(t.class=Uo(a)),Ne(l)&&(qo(l)&&!he(l)&&(l=Ye({},l)),t.style=An(l))}const o=Ve(e)?1:th(e)?128:Eu(e)?64:Ne(e)?4:fe(e)?2:0;return tn(e,t,n,i,r,o,s,!0)}function e0(e){return e?qo(e)||zu(e)?Ye({},e):e:null}function mn(e,t,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=e,u=t?et(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&ih(u),ref:t&&t.ref?n&&s?he(s)?s.concat($r(t)):[s,$r(t)]:$r(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Qe?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&mn(e.ssContent),ssFallback:e.ssFallback&&mn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&dr(c,l.clone(c)),c}function en(e=" ",t=0){return U(ys,null,e,t)}function mr(e="",t=!1){return t?(De(),It(bt,null,e)):U(bt,null,e)}function Ut(e){return e==null||typeof e=="boolean"?U(bt):he(e)?U(Qe,null,e.slice()):gr(e)?hn(e):U(ys,null,String(e))}function hn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:mn(e)}function ea(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(he(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),ea(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!zu(t)?t._ctx=St:r===3&&St&&(St.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else fe(t)?(t={default:t,_ctx:St},n=32):(t=String(t),i&64?(n=16,t=[en(t)]):n=8);e.children=t,e.shapeFlag|=n}function et(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=Uo([t.class,i.class]));else if(r==="style")t.style=An([t.style,i.style]);else if(os(r)){const s=t[r],o=i[r];o&&s!==o&&!(he(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}function Gt(e,t,n,i=null){Nt(e,t,7,[n,i])}const t0=Uu();let n0=0;function i0(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||t0,s={uid:n0++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ed(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wu(i,r),emitsOptions:eh(i,r),emit:null,emitted:null,propsDefaults:Te,inheritAttrs:i.inheritAttrs,ctx:Te,data:Te,props:Te,attrs:Te,slots:Te,refs:Te,setupState:Te,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Wf.bind(null,s),e.ce&&e.ce(s),s}let it=null;const Et=()=>it||St;let Qr,wo;{const e=us(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};Qr=t("__VUE_INSTANCE_SETTERS__",n=>it=n),wo=t("__VUE_SSR_SETTERS__",n=>pr=n)}const Cr=e=>{const t=it;return Qr(e),e.scope.on(),()=>{e.scope.off(),Qr(t)}},Da=()=>{it&&it.scope.off(),Qr(null)};function rh(e){return e.vnode.shapeFlag&4}let pr=!1;function r0(e,t=!1,n=!1){t&&wo(t);const{props:i,children:r}=e.vnode,s=rh(e);kf(e,i,s,t),Lf(e,r,n);const o=s?s0(e,t):void 0;return t&&wo(!1),o}function s0(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Cf);const{setup:i}=n;if(i){vn();const r=e.setupContext=i.length>1?a0(e):null,s=Cr(e),o=br(i,e,0,[e.props,r]),a=Xc(o);if(_n(),s(),(a||e.sp)&&!nr(e)&&Nu(e),a){if(o.then(Da,Da),t)return o.then(l=>{Ba(e,l)}).catch(l=>{fs(l,e,0)});e.asyncDep=o}else Ba(e,o)}else sh(e)}function Ba(e,t,n){fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ne(t)&&(e.setupState=bu(t)),sh(e)}function sh(e,t,n){const i=e.type;e.render||(e.render=i.render||$t);{const r=Cr(e);vn();try{wf(e)}finally{_n(),r()}}}const o0={get(e,t){return at(e,"get",""),e[t]}};function a0(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,o0),slots:e.slots,emit:e.emit,expose:t}}function bs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(bu(qd(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ir)return ir[n](e)},has(t,n){return n in t||n in ir}})):e.proxy}function l0(e,t=!0){return fe(e)?e.displayName||e.name:e.name||t&&e.__name}function c0(e){return fe(e)&&"__vccOpts"in e}const ue=(e,t)=>ef(e,t,pr);function wr(e,t,n){const i=arguments.length;return i===2?Ne(t)&&!he(t)?gr(t)?U(e,null,[t]):U(e,t):U(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&gr(n)&&(n=[n]),U(e,t,n))}const u0="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xo;const Ga=typeof window<"u"&&window.trustedTypes;if(Ga)try{xo=Ga.createPolicy("vue",{createHTML:e=>e})}catch{}const oh=xo?e=>xo.createHTML(e):e=>e,h0="http://www.w3.org/2000/svg",d0="http://www.w3.org/1998/Math/MathML",Zt=typeof document<"u"?document:null,Va=Zt&&Zt.createElement("template"),f0={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?Zt.createElementNS(h0,e):t==="mathml"?Zt.createElementNS(d0,e):n?Zt.createElement(e,{is:n}):Zt.createElement(e);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>Zt.createTextNode(e),createComment:e=>Zt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Zt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{Va.innerHTML=oh(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const a=Va.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},on="transition",ri="animation",vr=Symbol("_vtc"),ah={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},g0=Ye({},Ou,ah),m0=e=>(e.displayName="Transition",e.props=g0,e),lh=m0((e,{slots:t})=>wr(uf,p0(e),t)),Cn=(e,t=[])=>{he(e)?e.forEach(n=>n(...t)):e&&e(...t)},Ua=e=>e?he(e)?e.some(t=>t.length>1):e.length>1:!1;function p0(e){const t={};for(const M in e)M in ah||(t[M]=e[M]);if(e.css===!1)return t;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=e,m=v0(r),v=m&&m[0],y=m&&m[1],{onBeforeEnter:S,onEnter:p,onEnterCancelled:f,onLeave:b,onLeaveCancelled:w,onBeforeAppear:R=S,onAppear:I=p,onAppearCancelled:T=f}=t,x=(M,_,k,C)=>{M._enterCancelled=C,wn(M,_?c:a),wn(M,_?u:o),k&&k()},E=(M,_)=>{M._isLeaving=!1,wn(M,h),wn(M,d),wn(M,g),_&&_()},A=M=>(_,k)=>{const C=M?I:p,O=()=>x(_,M,k);Cn(C,[_,O]),$a(()=>{wn(_,M?l:s),jt(_,M?c:a),Ua(C)||Ha(_,i,v,O)})};return Ye(t,{onBeforeEnter(M){Cn(S,[M]),jt(M,s),jt(M,o)},onBeforeAppear(M){Cn(R,[M]),jt(M,l),jt(M,u)},onEnter:A(!1),onAppear:A(!0),onLeave(M,_){M._isLeaving=!0;const k=()=>E(M,_);jt(M,h),M._enterCancelled?(jt(M,g),Wa()):(Wa(),jt(M,g)),$a(()=>{M._isLeaving&&(wn(M,h),jt(M,d),Ua(b)||Ha(M,i,y,k))}),Cn(b,[M,k])},onEnterCancelled(M){x(M,!1,void 0,!0),Cn(f,[M])},onAppearCancelled(M){x(M,!0,void 0,!0),Cn(T,[M])},onLeaveCancelled(M){E(M),Cn(w,[M])}})}function v0(e){if(e==null)return null;if(Ne(e))return[Vs(e.enter),Vs(e.leave)];{const t=Vs(e);return[t,t]}}function Vs(e){return bd(e)}function jt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[vr]||(e[vr]=new Set)).add(t)}function wn(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[vr];n&&(n.delete(t),n.size||(e[vr]=void 0))}function $a(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let _0=0;function Ha(e,t,n,i){const r=e._endId=++_0,s=()=>{r===e._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=y0(e,t);if(!o)return i();const u=o+"end";let c=0;const h=()=>{e.removeEventListener(u,g),s()},g=d=>{d.target===e&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),e.addEventListener(u,g)}function y0(e,t){const n=window.getComputedStyle(e),i=m=>(n[m]||"").split(", "),r=i(`${on}Delay`),s=i(`${on}Duration`),o=za(r,s),a=i(`${ri}Delay`),l=i(`${ri}Duration`),u=za(a,l);let c=null,h=0,g=0;t===on?o>0&&(c=on,h=o,g=s.length):t===ri?u>0&&(c=ri,h=u,g=l.length):(h=Math.max(o,u),c=h>0?o>u?on:ri:null,g=c?c===on?s.length:l.length:0);const d=c===on&&/\b(transform|all)(,|$)/.test(i(`${on}Property`).toString());return{type:c,timeout:h,propCount:g,hasTransform:d}}function za(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>ja(n)+ja(e[i])))}function ja(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Wa(){return document.body.offsetHeight}function b0(e,t,n){const i=e[vr];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Jr=Symbol("_vod"),ch=Symbol("_vsh"),es={beforeMount(e,{value:t},{transition:n}){e[Jr]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):si(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),si(e,!0),i.enter(e)):i.leave(e,()=>{si(e,!1)}):si(e,t))},beforeUnmount(e,{value:t}){si(e,t)}};function si(e,t){e.style.display=t?e[Jr]:"none",e[ch]=!t}const S0=Symbol(""),C0=/(^|;)\s*display\s*:/;function w0(e,t,n){const i=e.style,r=Ve(n);let s=!1;if(n&&!r){if(t)if(Ve(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Hr(i,a,"")}else for(const o in t)n[o]==null&&Hr(i,o,"");for(const o in n)o==="display"&&(s=!0),Hr(i,o,n[o])}else if(r){if(t!==n){const o=i[S0];o&&(n+=";"+o),i.cssText=n,s=C0.test(n)}}else t&&e.removeAttribute("style");Jr in e&&(e[Jr]=s?i.display:"",e[ch]&&(i.display="none"))}const qa=/\s*!important$/;function Hr(e,t,n){if(he(n))n.forEach(i=>Hr(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=x0(e,t);qa.test(n)?e.setProperty(rn(i),n.replace(qa,""),"important"):e[i]=n}}const Ka=["Webkit","Moz","ms"],Us={};function x0(e,t){const n=Us[t];if(n)return n;let i=Pt(t);if(i!=="filter"&&i in e)return Us[t]=i;i=cs(i);for(let r=0;r<Ka.length;r++){const s=Ka[r]+i;if(s in e)return Us[t]=s}return t}const Ya="http://www.w3.org/1999/xlink";function Xa(e,t,n,i,r,s=Td(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ya,t.slice(6,t.length)):e.setAttributeNS(Ya,t,n):n==null||s&&!eu(n)?e.removeAttribute(t):e.setAttribute(t,s?"":pn(n)?String(n):n)}function Za(e,t,n,i,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?oh(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=eu(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(r||t)}function P0(e,t,n,i){e.addEventListener(t,n,i)}function T0(e,t,n,i){e.removeEventListener(t,n,i)}const Qa=Symbol("_vei");function E0(e,t,n,i,r=null){const s=e[Qa]||(e[Qa]={}),o=s[t];if(i&&o)o.value=i;else{const[a,l]=R0(t);if(i){const u=s[t]=O0(i,r);P0(e,a,u,l)}else o&&(T0(e,a,o,l),s[t]=void 0)}}const Ja=/(?:Once|Passive|Capture)$/;function R0(e){let t;if(Ja.test(e)){t={};let i;for(;i=e.match(Ja);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):rn(e.slice(2)),t]}let $s=0;const A0=Promise.resolve(),k0=()=>$s||(A0.then(()=>$s=0),$s=Date.now());function O0(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Nt(M0(i,n.value),t,5,[i])};return n.value=e,n.attached=k0(),n}function M0(e,t){if(he(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const el=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,F0=(e,t,n,i,r,s)=>{const o=r==="svg";t==="class"?b0(e,i,o):t==="style"?w0(e,n,i):os(t)?Bo(t)||E0(e,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):L0(e,t,i,o))?(Za(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Xa(e,t,i,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ve(i))?Za(e,Pt(t),i,s,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Xa(e,t,i,o))};function L0(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&el(t)&&fe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return el(t)&&Ve(n)?!1:t in e}const I0={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},N0=(e,t)=>{const n=e._withKeys||(e._withKeys={}),i=t.join(".");return n[i]||(n[i]=r=>{if(!("key"in r))return;const s=rn(r.key);if(t.some(o=>o===s||I0[o]===s))return e(r)})},D0=Ye({patchProp:F0},f0);let tl;function B0(){return tl||(tl=Nf(D0))}const uh=(...e)=>{const t=B0().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=V0(i);if(!r)return;const s=t._component;!fe(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,G0(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function G0(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function V0(e){return Ve(e)?document.querySelector(e):e}var nl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function U0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zr={exports:{}},oi={},Hs={},zs={},il;function pe(){return il||(il=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;const t=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof nl<"u"?nl:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.3.19",isBrowser:n(),isUnminified:/param/.test((function(r){}).toString()),dblClickWindow:400,getAngle(r){return e.Konva.angleDeg?r*t:r},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isTransforming(){var r;return(r=e.Konva.Transformer)===null||r===void 0?void 0:r.isTransforming()},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(r){e.glob.Konva=r}};const i=r=>{e.Konva[r.prototype.getClassName()]=r};e._registerNode=i,e.Konva._injectGlobal(e.Konva)}(zs)),zs}var js={},rl;function He(){return rl||(rl=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=pe();class n{constructor(b=[1,0,0,1,0,0]){this.dirty=!1,this.m=b&&b.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(b){b.m[0]=this.m[0],b.m[1]=this.m[1],b.m[2]=this.m[2],b.m[3]=this.m[3],b.m[4]=this.m[4],b.m[5]=this.m[5]}point(b){const w=this.m;return{x:w[0]*b.x+w[2]*b.y+w[4],y:w[1]*b.x+w[3]*b.y+w[5]}}translate(b,w){return this.m[4]+=this.m[0]*b+this.m[2]*w,this.m[5]+=this.m[1]*b+this.m[3]*w,this}scale(b,w){return this.m[0]*=b,this.m[1]*=b,this.m[2]*=w,this.m[3]*=w,this}rotate(b){const w=Math.cos(b),R=Math.sin(b),I=this.m[0]*w+this.m[2]*R,T=this.m[1]*w+this.m[3]*R,x=this.m[0]*-R+this.m[2]*w,E=this.m[1]*-R+this.m[3]*w;return this.m[0]=I,this.m[1]=T,this.m[2]=x,this.m[3]=E,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(b,w){const R=this.m[0]+this.m[2]*w,I=this.m[1]+this.m[3]*w,T=this.m[2]+this.m[0]*b,x=this.m[3]+this.m[1]*b;return this.m[0]=R,this.m[1]=I,this.m[2]=T,this.m[3]=x,this}multiply(b){const w=this.m[0]*b.m[0]+this.m[2]*b.m[1],R=this.m[1]*b.m[0]+this.m[3]*b.m[1],I=this.m[0]*b.m[2]+this.m[2]*b.m[3],T=this.m[1]*b.m[2]+this.m[3]*b.m[3],x=this.m[0]*b.m[4]+this.m[2]*b.m[5]+this.m[4],E=this.m[1]*b.m[4]+this.m[3]*b.m[5]+this.m[5];return this.m[0]=w,this.m[1]=R,this.m[2]=I,this.m[3]=T,this.m[4]=x,this.m[5]=E,this}invert(){const b=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),w=this.m[3]*b,R=-this.m[1]*b,I=-this.m[2]*b,T=this.m[0]*b,x=b*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),E=b*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=w,this.m[1]=R,this.m[2]=I,this.m[3]=T,this.m[4]=x,this.m[5]=E,this}getMatrix(){return this.m}decompose(){const b=this.m[0],w=this.m[1],R=this.m[2],I=this.m[3],T=this.m[4],x=this.m[5],E=b*I-w*R,A={x:T,y:x,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(b!=0||w!=0){const M=Math.sqrt(b*b+w*w);A.rotation=w>0?Math.acos(b/M):-Math.acos(b/M),A.scaleX=M,A.scaleY=E/M,A.skewX=(b*R+w*I)/E,A.skewY=0}else if(R!=0||I!=0){const M=Math.sqrt(R*R+I*I);A.rotation=Math.PI/2-(I>0?Math.acos(-R/M):-Math.acos(R/M)),A.scaleX=E/M,A.scaleY=M,A.skewX=0,A.skewY=(b*R+w*I)/E}return A.rotation=e.Util._getRotation(A.rotation),A}}e.Transform=n;const i="[object Array]",r="[object Number]",s="[object String]",o="[object Boolean]",a=Math.PI/180,l=180/Math.PI,u="#",c="",h="0",g="Konva warning: ",d="Konva error: ",m="rgb(",v={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},y=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let S=[];const p=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(f){setTimeout(f,60)};e.Util={_isElement(f){return!!(f&&f.nodeType==1)},_isFunction(f){return!!(f&&f.constructor&&f.call&&f.apply)},_isPlainObject(f){return!!f&&f.constructor===Object},_isArray(f){return Object.prototype.toString.call(f)===i},_isNumber(f){return Object.prototype.toString.call(f)===r&&!isNaN(f)&&isFinite(f)},_isString(f){return Object.prototype.toString.call(f)===s},_isBoolean(f){return Object.prototype.toString.call(f)===o},isObject(f){return f instanceof Object},isValidSelector(f){if(typeof f!="string")return!1;const b=f[0];return b==="#"||b==="."||b===b.toUpperCase()},_sign(f){return f===0||f>0?1:-1},requestAnimFrame(f){S.push(f),S.length===1&&p(function(){const b=S;S=[],b.forEach(function(w){w()})})},createCanvasElement(){const f=document.createElement("canvas");try{f.style=f.style||{}}catch{}return f},createImageElement(){return document.createElement("img")},_isInDocument(f){for(;f=f.parentNode;)if(f==document)return!0;return!1},_urlToImage(f,b){const w=e.Util.createImageElement();w.onload=function(){b(w)},w.src=f},_rgbToHex(f,b,w){return((1<<24)+(f<<16)+(b<<8)+w).toString(16).slice(1)},_hexToRgb(f){f=f.replace(u,c);const b=parseInt(f,16);return{r:b>>16&255,g:b>>8&255,b:b&255}},getRandomColor(){let f=(Math.random()*16777215<<0).toString(16);for(;f.length<6;)f=h+f;return u+f},getRGB(f){let b;return f in v?(b=v[f],{r:b[0],g:b[1],b:b[2]}):f[0]===u?this._hexToRgb(f.substring(1)):f.substr(0,4)===m?(b=y.exec(f.replace(/ /g,"")),{r:parseInt(b[1],10),g:parseInt(b[2],10),b:parseInt(b[3],10)}):{r:0,g:0,b:0}},colorToRGBA(f){return f=f||"black",e.Util._namedColorToRBA(f)||e.Util._hex3ColorToRGBA(f)||e.Util._hex4ColorToRGBA(f)||e.Util._hex6ColorToRGBA(f)||e.Util._hex8ColorToRGBA(f)||e.Util._rgbColorToRGBA(f)||e.Util._rgbaColorToRGBA(f)||e.Util._hslColorToRGBA(f)},_namedColorToRBA(f){const b=v[f.toLowerCase()];return b?{r:b[0],g:b[1],b:b[2],a:1}:null},_rgbColorToRGBA(f){if(f.indexOf("rgb(")===0){f=f.match(/rgb\(([^)]+)\)/)[1];const b=f.split(/ *, */).map(Number);return{r:b[0],g:b[1],b:b[2],a:1}}},_rgbaColorToRGBA(f){if(f.indexOf("rgba(")===0){f=f.match(/rgba\(([^)]+)\)/)[1];const b=f.split(/ *, */).map((w,R)=>w.slice(-1)==="%"?R===3?parseInt(w)/100:parseInt(w)/100*255:Number(w));return{r:b[0],g:b[1],b:b[2],a:b[3]}}},_hex8ColorToRGBA(f){if(f[0]==="#"&&f.length===9)return{r:parseInt(f.slice(1,3),16),g:parseInt(f.slice(3,5),16),b:parseInt(f.slice(5,7),16),a:parseInt(f.slice(7,9),16)/255}},_hex6ColorToRGBA(f){if(f[0]==="#"&&f.length===7)return{r:parseInt(f.slice(1,3),16),g:parseInt(f.slice(3,5),16),b:parseInt(f.slice(5,7),16),a:1}},_hex4ColorToRGBA(f){if(f[0]==="#"&&f.length===5)return{r:parseInt(f[1]+f[1],16),g:parseInt(f[2]+f[2],16),b:parseInt(f[3]+f[3],16),a:parseInt(f[4]+f[4],16)/255}},_hex3ColorToRGBA(f){if(f[0]==="#"&&f.length===4)return{r:parseInt(f[1]+f[1],16),g:parseInt(f[2]+f[2],16),b:parseInt(f[3]+f[3],16),a:1}},_hslColorToRGBA(f){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(f)){const[b,...w]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(f),R=Number(w[0])/360,I=Number(w[1])/100,T=Number(w[2])/100;let x,E,A;if(I===0)return A=T*255,{r:Math.round(A),g:Math.round(A),b:Math.round(A),a:1};T<.5?x=T*(1+I):x=T+I-T*I;const M=2*T-x,_=[0,0,0];for(let k=0;k<3;k++)E=R+1/3*-(k-1),E<0&&E++,E>1&&E--,6*E<1?A=M+(x-M)*6*E:2*E<1?A=x:3*E<2?A=M+(x-M)*(2/3-E)*6:A=M,_[k]=A*255;return{r:Math.round(_[0]),g:Math.round(_[1]),b:Math.round(_[2]),a:1}}},haveIntersection(f,b){return!(b.x>f.x+f.width||b.x+b.width<f.x||b.y>f.y+f.height||b.y+b.height<f.y)},cloneObject(f){const b={};for(const w in f)this._isPlainObject(f[w])?b[w]=this.cloneObject(f[w]):this._isArray(f[w])?b[w]=this.cloneArray(f[w]):b[w]=f[w];return b},cloneArray(f){return f.slice(0)},degToRad(f){return f*a},radToDeg(f){return f*l},_degToRad(f){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(f)},_radToDeg(f){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(f)},_getRotation(f){return t.Konva.angleDeg?e.Util.radToDeg(f):f},_capitalize(f){return f.charAt(0).toUpperCase()+f.slice(1)},throw(f){throw new Error(d+f)},error(f){console.error(d+f)},warn(f){t.Konva.showWarnings&&console.warn(g+f)},each(f,b){for(const w in f)b(w,f[w])},_inRange(f,b,w){return b<=f&&f<w},_getProjectionToSegment(f,b,w,R,I,T){let x,E,A;const M=(f-w)*(f-w)+(b-R)*(b-R);if(M==0)x=f,E=b,A=(I-w)*(I-w)+(T-R)*(T-R);else{const _=((I-f)*(w-f)+(T-b)*(R-b))/M;_<0?(x=f,E=b,A=(f-I)*(f-I)+(b-T)*(b-T)):_>1?(x=w,E=R,A=(w-I)*(w-I)+(R-T)*(R-T)):(x=f+_*(w-f),E=b+_*(R-b),A=(x-I)*(x-I)+(E-T)*(E-T))}return[x,E,A]},_getProjectionToLine(f,b,w){const R=e.Util.cloneObject(f);let I=Number.MAX_VALUE;return b.forEach(function(T,x){if(!w&&x===b.length-1)return;const E=b[(x+1)%b.length],A=e.Util._getProjectionToSegment(T.x,T.y,E.x,E.y,f.x,f.y),M=A[0],_=A[1],k=A[2];k<I&&(R.x=M,R.y=_,I=k)}),R},_prepareArrayForTween(f,b,w){const R=[],I=[];if(f.length>b.length){const x=b;b=f,f=x}for(let x=0;x<f.length;x+=2)R.push({x:f[x],y:f[x+1]});for(let x=0;x<b.length;x+=2)I.push({x:b[x],y:b[x+1]});const T=[];return I.forEach(function(x){const E=e.Util._getProjectionToLine(x,R,w);T.push(E.x),T.push(E.y)}),T},_prepareToStringify(f){let b;f.visitedByCircularReferenceRemoval=!0;for(const w in f)if(f.hasOwnProperty(w)&&f[w]&&typeof f[w]=="object"){if(b=Object.getOwnPropertyDescriptor(f,w),f[w].visitedByCircularReferenceRemoval||e.Util._isElement(f[w]))if(b.configurable)delete f[w];else return null;else if(e.Util._prepareToStringify(f[w])===null)if(b.configurable)delete f[w];else return null}return delete f.visitedByCircularReferenceRemoval,f},_assign(f,b){for(const w in b)f[w]=b[w];return f},_getFirstPointerId(f){return f.touches?f.changedTouches[0].identifier:f.pointerId||999},releaseCanvas(...f){t.Konva.releaseCanvasOnDestroy&&f.forEach(b=>{b.width=0,b.height=0})},drawRoundedRectPath(f,b,w,R){let I=0,T=0,x=0,E=0;typeof R=="number"?I=T=x=E=Math.min(R,b/2,w/2):(I=Math.min(R[0]||0,b/2,w/2),T=Math.min(R[1]||0,b/2,w/2),E=Math.min(R[2]||0,b/2,w/2),x=Math.min(R[3]||0,b/2,w/2)),f.moveTo(I,0),f.lineTo(b-T,0),f.arc(b-T,T,T,Math.PI*3/2,0,!1),f.lineTo(b,w-E),f.arc(b-E,w-E,E,0,Math.PI/2,!1),f.lineTo(x,w),f.arc(x,w-x,x,Math.PI/2,Math.PI,!1),f.lineTo(0,I),f.arc(I,I,I,Math.PI,Math.PI*3/2,!1)}}}(js)),js}var ai={},Ws={},vt={},sl;function Se(){if(sl)return vt;sl=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.RGBComponent=i,vt.alphaComponent=r,vt.getNumberValidator=s,vt.getNumberOrArrayOfNumbersValidator=o,vt.getNumberOrAutoValidator=a,vt.getStringValidator=l,vt.getStringOrGradientValidator=u,vt.getFunctionValidator=c,vt.getNumberArrayValidator=h,vt.getBooleanValidator=g,vt.getComponentValidator=d;const e=pe(),t=He();function n(m){return t.Util._isString(m)?'"'+m+'"':Object.prototype.toString.call(m)==="[object Number]"||t.Util._isBoolean(m)?m:Object.prototype.toString.call(m)}function i(m){return m>255?255:m<0?0:Math.round(m)}function r(m){return m>1?1:m<1e-4?1e-4:m}function s(){if(e.Konva.isUnminified)return function(m,v){return t.Util._isNumber(m)||t.Util.warn(n(m)+' is a not valid value for "'+v+'" attribute. The value should be a number.'),m}}function o(m){if(e.Konva.isUnminified)return function(v,y){let S=t.Util._isNumber(v),p=t.Util._isArray(v)&&v.length==m;return!S&&!p&&t.Util.warn(n(v)+' is a not valid value for "'+y+'" attribute. The value should be a number or Array<number>('+m+")"),v}}function a(){if(e.Konva.isUnminified)return function(m,v){var y=t.Util._isNumber(m),S=m==="auto";return y||S||t.Util.warn(n(m)+' is a not valid value for "'+v+'" attribute. The value should be a number or "auto".'),m}}function l(){if(e.Konva.isUnminified)return function(m,v){return t.Util._isString(m)||t.Util.warn(n(m)+' is a not valid value for "'+v+'" attribute. The value should be a string.'),m}}function u(){if(e.Konva.isUnminified)return function(m,v){const y=t.Util._isString(m),S=Object.prototype.toString.call(m)==="[object CanvasGradient]"||m&&m.addColorStop;return y||S||t.Util.warn(n(m)+' is a not valid value for "'+v+'" attribute. The value should be a string or a native gradient.'),m}}function c(){if(e.Konva.isUnminified)return function(m,v){return t.Util._isFunction(m)||t.Util.warn(n(m)+' is a not valid value for "'+v+'" attribute. The value should be a function.'),m}}function h(){if(e.Konva.isUnminified)return function(m,v){const y=Int8Array?Object.getPrototypeOf(Int8Array):null;return y&&m instanceof y||(t.Util._isArray(m)?m.forEach(function(S){t.Util._isNumber(S)||t.Util.warn('"'+v+'" attribute has non numeric element '+S+". Make sure that all elements are numbers.")}):t.Util.warn(n(m)+' is a not valid value for "'+v+'" attribute. The value should be a array of numbers.')),m}}function g(){if(e.Konva.isUnminified)return function(m,v){var y=m===!0||m===!1;return y||t.Util.warn(n(m)+' is a not valid value for "'+v+'" attribute. The value should be a boolean.'),m}}function d(m){if(e.Konva.isUnminified)return function(v,y){return v==null||t.Util.isObject(v)||t.Util.warn(n(v)+' is a not valid value for "'+y+'" attribute. The value should be an object with properties '+m),v}}return vt}var ol;function ve(){return ol||(ol=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=He(),n=Se(),i="get",r="set";e.Factory={addGetterSetter(s,o,a,l,u){e.Factory.addGetter(s,o,a),e.Factory.addSetter(s,o,l,u),e.Factory.addOverloadedGetterSetter(s,o)},addGetter(s,o,a){var l=i+t.Util._capitalize(o);s.prototype[l]=s.prototype[l]||function(){const u=this.attrs[o];return u===void 0?a:u}},addSetter(s,o,a,l){var u=r+t.Util._capitalize(o);s.prototype[u]||e.Factory.overWriteSetter(s,o,a,l)},overWriteSetter(s,o,a,l){var u=r+t.Util._capitalize(o);s.prototype[u]=function(c){return a&&c!==void 0&&c!==null&&(c=a.call(this,c,o)),this._setAttr(o,c),l&&l.call(this),this}},addComponentsGetterSetter(s,o,a,l,u){const c=a.length,h=t.Util._capitalize,g=i+h(o),d=r+h(o);s.prototype[g]=function(){const v={};for(let y=0;y<c;y++){const S=a[y];v[S]=this.getAttr(o+h(S))}return v};const m=(0,n.getComponentValidator)(a);s.prototype[d]=function(v){const y=this.attrs[o];l&&(v=l.call(this,v,o)),m&&m.call(this,v,o);for(const S in v)v.hasOwnProperty(S)&&this._setAttr(o+h(S),v[S]);return v||a.forEach(S=>{this._setAttr(o+h(S),void 0)}),this._fireChangeEvent(o,y,v),u&&u.call(this),this},e.Factory.addOverloadedGetterSetter(s,o)},addOverloadedGetterSetter(s,o){var a=t.Util._capitalize(o),l=r+a,u=i+a;s.prototype[o]=function(){return arguments.length?(this[l](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter(s,o,a,l){t.Util.error("Adding deprecated "+o);const u=i+t.Util._capitalize(o),c=o+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[u]=function(){t.Util.error(c);const h=this.attrs[o];return h===void 0?a:h},e.Factory.addSetter(s,o,l,function(){t.Util.error(c)}),e.Factory.addOverloadedGetterSetter(s,o)},backCompat(s,o){t.Util.each(o,function(a,l){const u=s.prototype[l],c=i+t.Util._capitalize(a),h=r+t.Util._capitalize(a);function g(){u.apply(this,arguments),t.Util.error('"'+a+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}s.prototype[a]=g,s.prototype[c]=g,s.prototype[h]=g})},afterSetFilter(){this._filterUpToDate=!1}}}(Ws)),Ws}var Wt={},qt={},al;function hh(){if(al)return qt;al=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.HitContext=qt.SceneContext=qt.Context=void 0;const e=He(),t=pe();function n(S){const p=[],f=S.length,b=e.Util;for(let w=0;w<f;w++){let R=S[w];b._isNumber(R)?R=Math.round(R*1e3)/1e3:b._isString(R)||(R=R+""),p.push(R)}return p}const i=",",r="(",s=")",o="([",a="])",l=";",u="()",c="=",h=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],g=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],d=100;let m=class{constructor(p){this.canvas=p,t.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(p){p.fillEnabled()&&this._fill(p)}_fill(p){}strokeShape(p){p.hasStroke()&&this._stroke(p)}_stroke(p){}fillStrokeShape(p){p.attrs.fillAfterStrokeEnabled?(this.strokeShape(p),this.fillShape(p)):(this.fillShape(p),this.strokeShape(p))}getTrace(p,f){let b=this.traceArr,w=b.length,R="",I,T,x,E;for(I=0;I<w;I++)T=b[I],x=T.method,x?(E=T.args,R+=x,p?R+=u:e.Util._isArray(E[0])?R+=o+E.join(i)+a:(f&&(E=E.map(A=>typeof A=="number"?Math.floor(A):A)),R+=r+E.join(i)+s)):(R+=T.property,p||(R+=c+T.val)),R+=l;return R}clearTrace(){this.traceArr=[]}_trace(p){let f=this.traceArr,b;f.push(p),b=f.length,b>=d&&f.shift()}reset(){const p=this.getCanvas().getPixelRatio();this.setTransform(1*p,0,0,1*p,0,0)}getCanvas(){return this.canvas}clear(p){const f=this.getCanvas();p?this.clearRect(p.x||0,p.y||0,p.width||0,p.height||0):this.clearRect(0,0,f.getWidth()/f.pixelRatio,f.getHeight()/f.pixelRatio)}_applyLineCap(p){const f=p.attrs.lineCap;f&&this.setAttr("lineCap",f)}_applyOpacity(p){const f=p.getAbsoluteOpacity();f!==1&&this.setAttr("globalAlpha",f)}_applyLineJoin(p){const f=p.attrs.lineJoin;f&&this.setAttr("lineJoin",f)}setAttr(p,f){this._context[p]=f}arc(p,f,b,w,R,I){this._context.arc(p,f,b,w,R,I)}arcTo(p,f,b,w,R){this._context.arcTo(p,f,b,w,R)}beginPath(){this._context.beginPath()}bezierCurveTo(p,f,b,w,R,I){this._context.bezierCurveTo(p,f,b,w,R,I)}clearRect(p,f,b,w){this._context.clearRect(p,f,b,w)}clip(...p){this._context.clip.apply(this._context,p)}closePath(){this._context.closePath()}createImageData(p,f){const b=arguments;if(b.length===2)return this._context.createImageData(p,f);if(b.length===1)return this._context.createImageData(p)}createLinearGradient(p,f,b,w){return this._context.createLinearGradient(p,f,b,w)}createPattern(p,f){return this._context.createPattern(p,f)}createRadialGradient(p,f,b,w,R,I){return this._context.createRadialGradient(p,f,b,w,R,I)}drawImage(p,f,b,w,R,I,T,x,E){const A=arguments,M=this._context;A.length===3?M.drawImage(p,f,b):A.length===5?M.drawImage(p,f,b,w,R):A.length===9&&M.drawImage(p,f,b,w,R,I,T,x,E)}ellipse(p,f,b,w,R,I,T,x){this._context.ellipse(p,f,b,w,R,I,T,x)}isPointInPath(p,f,b,w){return b?this._context.isPointInPath(b,p,f,w):this._context.isPointInPath(p,f,w)}fill(...p){this._context.fill.apply(this._context,p)}fillRect(p,f,b,w){this._context.fillRect(p,f,b,w)}strokeRect(p,f,b,w){this._context.strokeRect(p,f,b,w)}fillText(p,f,b,w){w?this._context.fillText(p,f,b,w):this._context.fillText(p,f,b)}measureText(p){return this._context.measureText(p)}getImageData(p,f,b,w){return this._context.getImageData(p,f,b,w)}lineTo(p,f){this._context.lineTo(p,f)}moveTo(p,f){this._context.moveTo(p,f)}rect(p,f,b,w){this._context.rect(p,f,b,w)}roundRect(p,f,b,w,R){this._context.roundRect(p,f,b,w,R)}putImageData(p,f,b){this._context.putImageData(p,f,b)}quadraticCurveTo(p,f,b,w){this._context.quadraticCurveTo(p,f,b,w)}restore(){this._context.restore()}rotate(p){this._context.rotate(p)}save(){this._context.save()}scale(p,f){this._context.scale(p,f)}setLineDash(p){this._context.setLineDash?this._context.setLineDash(p):"mozDash"in this._context?this._context.mozDash=p:"webkitLineDash"in this._context&&(this._context.webkitLineDash=p)}getLineDash(){return this._context.getLineDash()}setTransform(p,f,b,w,R,I){this._context.setTransform(p,f,b,w,R,I)}stroke(p){p?this._context.stroke(p):this._context.stroke()}strokeText(p,f,b,w){this._context.strokeText(p,f,b,w)}transform(p,f,b,w,R,I){this._context.transform(p,f,b,w,R,I)}translate(p,f){this._context.translate(p,f)}_enableTrace(){let p=this,f=h.length,b=this.setAttr,w,R;const I=function(T){let x=p[T],E;p[T]=function(){return R=n(Array.prototype.slice.call(arguments,0)),E=x.apply(p,arguments),p._trace({method:T,args:R}),E}};for(w=0;w<f;w++)I(h[w]);p.setAttr=function(){b.apply(p,arguments);const T=arguments[0];let x=arguments[1];(T==="shadowOffsetX"||T==="shadowOffsetY"||T==="shadowBlur")&&(x=x/this.canvas.getPixelRatio()),p._trace({property:T,val:x})}}_applyGlobalCompositeOperation(p){const f=p.attrs.globalCompositeOperation;!f||f==="source-over"||this.setAttr("globalCompositeOperation",f)}};qt.Context=m,g.forEach(function(S){Object.defineProperty(m.prototype,S,{get(){return this._context[S]},set(p){this._context[S]=p}})});class v extends m{constructor(p,{willReadFrequently:f=!1}={}){super(p),this._context=p._canvas.getContext("2d",{willReadFrequently:f})}_fillColor(p){const f=p.fill();this.setAttr("fillStyle",f),p._fillFunc(this)}_fillPattern(p){this.setAttr("fillStyle",p._getFillPattern()),p._fillFunc(this)}_fillLinearGradient(p){const f=p._getLinearGradient();f&&(this.setAttr("fillStyle",f),p._fillFunc(this))}_fillRadialGradient(p){const f=p._getRadialGradient();f&&(this.setAttr("fillStyle",f),p._fillFunc(this))}_fill(p){const f=p.fill(),b=p.getFillPriority();if(f&&b==="color"){this._fillColor(p);return}const w=p.getFillPatternImage();if(w&&b==="pattern"){this._fillPattern(p);return}const R=p.getFillLinearGradientColorStops();if(R&&b==="linear-gradient"){this._fillLinearGradient(p);return}const I=p.getFillRadialGradientColorStops();if(I&&b==="radial-gradient"){this._fillRadialGradient(p);return}f?this._fillColor(p):w?this._fillPattern(p):R?this._fillLinearGradient(p):I&&this._fillRadialGradient(p)}_strokeLinearGradient(p){const f=p.getStrokeLinearGradientStartPoint(),b=p.getStrokeLinearGradientEndPoint(),w=p.getStrokeLinearGradientColorStops(),R=this.createLinearGradient(f.x,f.y,b.x,b.y);if(w){for(let I=0;I<w.length;I+=2)R.addColorStop(w[I],w[I+1]);this.setAttr("strokeStyle",R)}}_stroke(p){const f=p.dash(),b=p.getStrokeScaleEnabled();if(p.hasStroke()){if(!b){this.save();const R=this.getCanvas().getPixelRatio();this.setTransform(R,0,0,R,0,0)}this._applyLineCap(p),f&&p.dashEnabled()&&(this.setLineDash(f),this.setAttr("lineDashOffset",p.dashOffset())),this.setAttr("lineWidth",p.strokeWidth()),p.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),p.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(p):this.setAttr("strokeStyle",p.stroke()),p._strokeFunc(this),b||this.restore()}}_applyShadow(p){var f,b,w;const R=(f=p.getShadowRGBA())!==null&&f!==void 0?f:"black",I=(b=p.getShadowBlur())!==null&&b!==void 0?b:5,T=(w=p.getShadowOffset())!==null&&w!==void 0?w:{x:0,y:0},x=p.getAbsoluteScale(),E=this.canvas.getPixelRatio(),A=x.x*E,M=x.y*E;this.setAttr("shadowColor",R),this.setAttr("shadowBlur",I*Math.min(Math.abs(A),Math.abs(M))),this.setAttr("shadowOffsetX",T.x*A),this.setAttr("shadowOffsetY",T.y*M)}}qt.SceneContext=v;class y extends m{constructor(p){super(p),this._context=p._canvas.getContext("2d",{willReadFrequently:!0})}_fill(p){this.save(),this.setAttr("fillStyle",p.colorKey),p._fillFuncHit(this),this.restore()}strokeShape(p){p.hasHitStroke()&&this._stroke(p)}_stroke(p){if(p.hasHitStroke()){const f=p.getStrokeScaleEnabled();if(!f){this.save();const R=this.getCanvas().getPixelRatio();this.setTransform(R,0,0,R,0,0)}this._applyLineCap(p);const b=p.hitStrokeWidth(),w=b==="auto"?p.strokeWidth():b;this.setAttr("lineWidth",w),this.setAttr("strokeStyle",p.colorKey),p._strokeFuncHit(this),f||this.restore()}}}return qt.HitContext=y,qt}var ll;function Ss(){if(ll)return Wt;ll=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.HitCanvas=Wt.SceneCanvas=Wt.Canvas=void 0;const e=He(),t=hh(),n=pe();let i;function r(){if(i)return i;const l=e.Util.createCanvasElement(),u=l.getContext("2d");return i=function(){const c=n.Konva._global.devicePixelRatio||1,h=u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1;return c/h}(),e.Util.releaseCanvas(l),i}let s=class{constructor(u){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const h=(u||{}).pixelRatio||n.Konva.pixelRatio||r();this.pixelRatio=h,this._canvas=e.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(u){const c=this.pixelRatio;this.pixelRatio=u,this.setSize(this.getWidth()/c,this.getHeight()/c)}setWidth(u){this.width=this._canvas.width=u*this.pixelRatio,this._canvas.style.width=u+"px";const c=this.pixelRatio;this.getContext()._context.scale(c,c)}setHeight(u){this.height=this._canvas.height=u*this.pixelRatio,this._canvas.style.height=u+"px";const c=this.pixelRatio;this.getContext()._context.scale(c,c)}getWidth(){return this.width}getHeight(){return this.height}setSize(u,c){this.setWidth(u||0),this.setHeight(c||0)}toDataURL(u,c){try{return this._canvas.toDataURL(u,c)}catch{try{return this._canvas.toDataURL()}catch(g){return e.Util.error("Unable to get data URL. "+g.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Wt.Canvas=s;class o extends s{constructor(u={width:0,height:0,willReadFrequently:!1}){super(u),this.context=new t.SceneContext(this,{willReadFrequently:u.willReadFrequently}),this.setSize(u.width,u.height)}}Wt.SceneCanvas=o;class a extends s{constructor(u={width:0,height:0}){super(u),this.hitCanvas=!0,this.context=new t.HitContext(this),this.setSize(u.width,u.height)}}return Wt.HitCanvas=a,Wt}var qs={},cl;function ta(){return cl||(cl=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=pe(),n=He();e.DD={get isDragging(){let i=!1;return e.DD._dragElements.forEach(r=>{r.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){let i;return e.DD._dragElements.forEach(r=>{i=r.node}),i},_dragElements:new Map,_drag(i){const r=[];e.DD._dragElements.forEach((s,o)=>{const{node:a}=s,l=a.getStage();l.setPointersPositions(i),s.pointerId===void 0&&(s.pointerId=n.Util._getFirstPointerId(i));const u=l._changedPointerPositions.find(c=>c.id===s.pointerId);if(u){if(s.dragStatus!=="dragging"){const c=a.dragDistance();if(Math.max(Math.abs(u.x-s.startPointerPos.x),Math.abs(u.y-s.startPointerPos.y))<c||(a.startDrag({evt:i}),!a.isDragging()))return}a._setDragPosition(i,s),r.push(a)}}),r.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:i},!0)})},_endDragBefore(i){const r=[];e.DD._dragElements.forEach(s=>{const{node:o}=s,a=o.getStage();if(i&&a.setPointersPositions(i),!a._changedPointerPositions.find(c=>c.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,s.dragStatus="stopped");const u=s.node.getLayer()||s.node instanceof t.Konva.Stage&&s.node;u&&r.indexOf(u)===-1&&r.push(u)}),r.forEach(s=>{s.draw()})},_endDragAfter(i){e.DD._dragElements.forEach((r,s)=>{r.dragStatus==="stopped"&&r.node.fire("dragend",{type:"dragend",target:r.node,evt:i},!0),r.dragStatus!=="dragging"&&e.DD._dragElements.delete(s)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("touchcancel",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1),window.addEventListener("touchcancel",e.DD._endDragAfter,!1))}(qs)),qs}var ul;function qe(){if(ul)return ai;ul=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.Node=void 0;const e=He(),t=ve(),n=Ss(),i=pe(),r=ta(),s=Se(),o="absoluteOpacity",a="allEventListeners",l="absoluteTransform",u="absoluteScale",c="canvas",h="Change",g="children",d="konva",m="listening",v="mouseenter",y="mouseleave",S="set",p="Shape",f=" ",b="stage",w="transform",R="Stage",I="visible",T=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(f);let x=1,E=class Po{constructor(_){this._id=x++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(_),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(_){(_===w||_===l)&&this._cache.get(_)?this._cache.get(_).dirty=!0:_?this._cache.delete(_):this._cache.clear()}_getCache(_,k){let C=this._cache.get(_);return(C===void 0||(_===w||_===l)&&C.dirty===!0)&&(C=k.call(this),this._cache.set(_,C)),C}_calculate(_,k,C){if(!this._attachedDepsListeners.get(_)){const O=k.map(L=>L+"Change.konva").join(f);this.on(O,()=>{this._clearCache(_)}),this._attachedDepsListeners.set(_,!0)}return this._getCache(_,C)}_getCanvasCache(){return this._cache.get(c)}_clearSelfAndDescendantCache(_){this._clearCache(_),_===l&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(c)){const{scene:_,filter:k,hit:C}=this._cache.get(c);e.Util.releaseCanvas(_,k,C),this._cache.delete(c)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(_){const k=_||{};let C={};(k.x===void 0||k.y===void 0||k.width===void 0||k.height===void 0)&&(C=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let O=Math.ceil(k.width||C.width),L=Math.ceil(k.height||C.height),B=k.pixelRatio,W=k.x===void 0?Math.floor(C.x):k.x,z=k.y===void 0?Math.floor(C.y):k.y,$=k.offset||0,X=k.drawBorder||!1,q=k.hitCanvasPixelRatio||1;if(!O||!L){e.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const Q=Math.abs(Math.round(C.x)-W)>.5?1:0,ne=Math.abs(Math.round(C.y)-z)>.5?1:0;O+=$*2+Q,L+=$*2+ne,W-=$,z-=$;const se=new n.SceneCanvas({pixelRatio:B,width:O,height:L}),P=new n.SceneCanvas({pixelRatio:B,width:0,height:0,willReadFrequently:!0}),D=new n.HitCanvas({pixelRatio:q,width:O,height:L}),V=se.getContext(),j=D.getContext();return D.isCache=!0,se.isCache=!0,this._cache.delete(c),this._filterUpToDate=!1,k.imageSmoothingEnabled===!1&&(se.getContext()._context.imageSmoothingEnabled=!1,P.getContext()._context.imageSmoothingEnabled=!1),V.save(),j.save(),V.translate(-W,-z),j.translate(-W,-z),this._isUnderCache=!0,this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(u),this.drawScene(se,this),this.drawHit(D,this),this._isUnderCache=!1,V.restore(),j.restore(),X&&(V.save(),V.beginPath(),V.rect(0,0,O,L),V.closePath(),V.setAttr("strokeStyle","red"),V.setAttr("lineWidth",5),V.stroke(),V.restore()),this._cache.set(c,{scene:se,filter:P,hit:D,x:W,y:z}),this._requestDraw(),this}isCached(){return this._cache.has(c)}getClientRect(_){throw new Error('abstract "getClientRect" method call')}_transformedRect(_,k){const C=[{x:_.x,y:_.y},{x:_.x+_.width,y:_.y},{x:_.x+_.width,y:_.y+_.height},{x:_.x,y:_.y+_.height}];let O=1/0,L=1/0,B=-1/0,W=-1/0;const z=this.getAbsoluteTransform(k);return C.forEach(function($){const X=z.point($);O===void 0&&(O=B=X.x,L=W=X.y),O=Math.min(O,X.x),L=Math.min(L,X.y),B=Math.max(B,X.x),W=Math.max(W,X.y)}),{x:O,y:L,width:B-O,height:W-L}}_drawCachedSceneCanvas(_){_.save(),_._applyOpacity(this),_._applyGlobalCompositeOperation(this);const k=this._getCanvasCache();_.translate(k.x,k.y);const C=this._getCachedSceneCanvas(),O=C.pixelRatio;_.drawImage(C._canvas,0,0,C.width/O,C.height/O),_.restore()}_drawCachedHitCanvas(_){const k=this._getCanvasCache(),C=k.hit;_.save(),_.translate(k.x,k.y),_.drawImage(C._canvas,0,0,C.width/C.pixelRatio,C.height/C.pixelRatio),_.restore()}_getCachedSceneCanvas(){let _=this.filters(),k=this._getCanvasCache(),C=k.scene,O=k.filter,L=O.getContext(),B,W,z,$;if(_){if(!this._filterUpToDate){const X=C.pixelRatio;O.setSize(C.width/C.pixelRatio,C.height/C.pixelRatio);try{for(B=_.length,L.clear(),L.drawImage(C._canvas,0,0,C.getWidth()/X,C.getHeight()/X),W=L.getImageData(0,0,O.getWidth(),O.getHeight()),z=0;z<B;z++){if($=_[z],typeof $!="function"){e.Util.error("Filter should be type of function, but got "+typeof $+" instead. Please check correct filters");continue}$.call(this,W),L.putImageData(W,0,0)}}catch(q){e.Util.error("Unable to apply filter. "+q.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return O}return C}on(_,k){if(this._cache&&this._cache.delete(a),arguments.length===3)return this._delegate.apply(this,arguments);let C=_.split(f),O=C.length,L,B,W,z,$;for(L=0;L<O;L++)B=C[L],W=B.split("."),z=W[0],$=W[1]||"",this.eventListeners[z]||(this.eventListeners[z]=[]),this.eventListeners[z].push({name:$,handler:k});return this}off(_,k){let C=(_||"").split(f),O=C.length,L,B,W,z,$,X;if(this._cache&&this._cache.delete(a),!_)for(B in this.eventListeners)this._off(B);for(L=0;L<O;L++)if(W=C[L],z=W.split("."),$=z[0],X=z[1],$)this.eventListeners[$]&&this._off($,X,k);else for(B in this.eventListeners)this._off(B,X,k);return this}dispatchEvent(_){const k={target:this,type:_.type,evt:_};return this.fire(_.type,k),this}addEventListener(_,k){return this.on(_,function(C){k.call(this,C.evt)}),this}removeEventListener(_){return this.off(_),this}_delegate(_,k,C){const O=this;this.on(_,function(L){const B=L.target.findAncestors(k,!0,O);for(let W=0;W<B.length;W++)L=e.Util.cloneObject(L),L.currentTarget=B[W],C.call(B[W],L)})}remove(){return this.isDragging()&&this.stopDrag(),r.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(b),this._clearSelfAndDescendantCache(I),this._clearSelfAndDescendantCache(m)}_remove(){this._clearCaches();const _=this.getParent();_&&_.children&&(_.children.splice(this.index,1),_._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(_){const k="get"+e.Util._capitalize(_);return e.Util._isFunction(this[k])?this[k]():this.attrs[_]}getAncestors(){let _=this.getParent(),k=[];for(;_;)k.push(_),_=_.getParent();return k}getAttrs(){return this.attrs||{}}setAttrs(_){return this._batchTransformChanges(()=>{let k,C;if(!_)return this;for(k in _)k!==g&&(C=S+e.Util._capitalize(k),e.Util._isFunction(this[C])?this[C](_[k]):this._setAttr(k,_[k]))}),this}isListening(){return this._getCache(m,this._isListening)}_isListening(_){if(!this.listening())return!1;const C=this.getParent();return C&&C!==_&&this!==_?C._isListening(_):!0}isVisible(){return this._getCache(I,this._isVisible)}_isVisible(_){if(!this.visible())return!1;const C=this.getParent();return C&&C!==_&&this!==_?C._isVisible(_):!0}shouldDrawHit(_,k=!1){if(_)return this._isVisible(_)&&this._isListening(_);const C=this.getLayer();let O=!1;r.DD._dragElements.forEach(B=>{B.dragStatus==="dragging"&&(B.node.nodeType==="Stage"||B.node.getLayer()===C)&&(O=!0)});const L=!k&&!i.Konva.hitOnDragEnabled&&(O||i.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!L}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let _=this.getDepth(),k=this,C=0,O,L,B,W;function z(X){for(O=[],L=X.length,B=0;B<L;B++)W=X[B],C++,W.nodeType!==p&&(O=O.concat(W.getChildren().slice())),W._id===k._id&&(B=L);O.length>0&&O[0].getDepth()<=_&&z(O)}const $=this.getStage();return k.nodeType!==R&&$&&z($.getChildren()),C}getDepth(){let _=0,k=this.parent;for(;k;)_++,k=k.parent;return _}_batchTransformChanges(_){this._batchingTransformChange=!0,_(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(w),this._clearSelfAndDescendantCache(l)),this._needClearTransformCache=!1}setPosition(_){return this._batchTransformChanges(()=>{this.x(_.x),this.y(_.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const _=this.getStage();if(!_)return null;const k=_.getPointerPosition();if(!k)return null;const C=this.getAbsoluteTransform().copy();return C.invert(),C.point(k)}getAbsolutePosition(_){let k=!1,C=this.parent;for(;C;){if(C.isCached()){k=!0;break}C=C.parent}k&&!_&&(_=!0);const O=this.getAbsoluteTransform(_).getMatrix(),L=new e.Transform,B=this.offset();return L.m=O.slice(),L.translate(B.x,B.y),L.getTranslation()}setAbsolutePosition(_){const{x:k,y:C,...O}=this._clearTransform();this.attrs.x=k,this.attrs.y=C,this._clearCache(w);const L=this._getAbsoluteTransform().copy();return L.invert(),L.translate(_.x,_.y),_={x:this.attrs.x+L.getTranslation().x,y:this.attrs.y+L.getTranslation().y},this._setTransform(O),this.setPosition({x:_.x,y:_.y}),this._clearCache(w),this._clearSelfAndDescendantCache(l),this}_setTransform(_){let k;for(k in _)this.attrs[k]=_[k]}_clearTransform(){const _={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,_}move(_){let k=_.x,C=_.y,O=this.x(),L=this.y();return k!==void 0&&(O+=k),C!==void 0&&(L+=C),this.setPosition({x:O,y:L}),this}_eachAncestorReverse(_,k){let C=[],O=this.getParent(),L,B;if(!(k&&k._id===this._id)){for(C.unshift(this);O&&(!k||O._id!==k._id);)C.unshift(O),O=O.parent;for(L=C.length,B=0;B<L;B++)_(C[B])}}rotate(_){return this.rotation(this.rotation()+_),this}moveToTop(){if(!this.parent)return e.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const _=this.index,k=this.parent.getChildren().length;return _<k-1?(this.parent.children.splice(_,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return e.Util.warn("Node has no parent. moveUp function is ignored."),!1;const _=this.index,k=this.parent.getChildren().length;return _<k-1?(this.parent.children.splice(_,1),this.parent.children.splice(_+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return e.Util.warn("Node has no parent. moveDown function is ignored."),!1;const _=this.index;return _>0?(this.parent.children.splice(_,1),this.parent.children.splice(_-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return e.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const _=this.index;return _>0?(this.parent.children.splice(_,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(_){if(!this.parent)return e.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(_<0||_>=this.parent.children.length)&&e.Util.warn("Unexpected value "+_+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const k=this.index;return this.parent.children.splice(k,1),this.parent.children.splice(_,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(o,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let _=this.opacity();const k=this.getParent();return k&&!k._isUnderCache&&(_*=k.getAbsoluteOpacity()),_}moveTo(_){return this.getParent()!==_&&(this._remove(),_.add(this)),this}toObject(){let _=this.getAttrs(),k,C,O,L,B;const W={attrs:{},className:this.getClassName()};for(k in _)C=_[k],B=e.Util.isObject(C)&&!e.Util._isPlainObject(C)&&!e.Util._isArray(C),!B&&(O=typeof this[k]=="function"&&this[k],delete _[k],L=O?O.call(this):null,_[k]=C,L!==C&&(W.attrs[k]=C));return e.Util._prepareToStringify(W)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(_,k,C){const O=[];k&&this._isMatch(_)&&O.push(this);let L=this.parent;for(;L;){if(L===C)return O;L._isMatch(_)&&O.push(L),L=L.parent}return O}isAncestorOf(_){return!1}findAncestor(_,k,C){return this.findAncestors(_,k,C)[0]}_isMatch(_){if(!_)return!1;if(typeof _=="function")return _(this);let k=_.replace(/ /g,"").split(","),C=k.length,O,L;for(O=0;O<C;O++)if(L=k[O],e.Util.isValidSelector(L)||(e.Util.warn('Selector "'+L+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),e.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),e.Util.warn("Konva is awesome, right?")),L.charAt(0)==="#"){if(this.id()===L.slice(1))return!0}else if(L.charAt(0)==="."){if(this.hasName(L.slice(1)))return!0}else if(this.className===L||this.nodeType===L)return!0;return!1}getLayer(){const _=this.getParent();return _?_.getLayer():null}getStage(){return this._getCache(b,this._getStage)}_getStage(){const _=this.getParent();return _?_.getStage():null}fire(_,k={},C){return k.target=k.target||this,C?this._fireAndBubble(_,k):this._fire(_,k),this}getAbsoluteTransform(_){return _?this._getAbsoluteTransform(_):this._getCache(l,this._getAbsoluteTransform)}_getAbsoluteTransform(_){let k;if(_)return k=new e.Transform,this._eachAncestorReverse(function(C){const O=C.transformsEnabled();O==="all"?k.multiply(C.getTransform()):O==="position"&&k.translate(C.x()-C.offsetX(),C.y()-C.offsetY())},_),k;{k=this._cache.get(l)||new e.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(k):k.reset();const C=this.transformsEnabled();if(C==="all")k.multiply(this.getTransform());else if(C==="position"){const O=this.attrs.x||0,L=this.attrs.y||0,B=this.attrs.offsetX||0,W=this.attrs.offsetY||0;k.translate(O-B,L-W)}return k.dirty=!1,k}}getAbsoluteScale(_){let k=this;for(;k;)k._isUnderCache&&(_=k),k=k.getParent();const O=this.getAbsoluteTransform(_).decompose();return{x:O.scaleX,y:O.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(w,this._getTransform)}_getTransform(){var _,k;const C=this._cache.get(w)||new e.Transform;C.reset();const O=this.x(),L=this.y(),B=i.Konva.getAngle(this.rotation()),W=(_=this.attrs.scaleX)!==null&&_!==void 0?_:1,z=(k=this.attrs.scaleY)!==null&&k!==void 0?k:1,$=this.attrs.skewX||0,X=this.attrs.skewY||0,q=this.attrs.offsetX||0,Q=this.attrs.offsetY||0;return(O!==0||L!==0)&&C.translate(O,L),B!==0&&C.rotate(B),($!==0||X!==0)&&C.skew($,X),(W!==1||z!==1)&&C.scale(W,z),(q!==0||Q!==0)&&C.translate(-1*q,-1*Q),C.dirty=!1,C}clone(_){let k=e.Util.cloneObject(this.attrs),C,O,L,B,W;for(C in _)k[C]=_[C];const z=new this.constructor(k);for(C in this.eventListeners)for(O=this.eventListeners[C],L=O.length,B=0;B<L;B++)W=O[B],W.name.indexOf(d)<0&&(z.eventListeners[C]||(z.eventListeners[C]=[]),z.eventListeners[C].push(W));return z}_toKonvaCanvas(_){_=_||{};const k=this.getClientRect(),C=this.getStage(),O=_.x!==void 0?_.x:Math.floor(k.x),L=_.y!==void 0?_.y:Math.floor(k.y),B=_.pixelRatio||1,W=new n.SceneCanvas({width:_.width||Math.ceil(k.width)||(C?C.width():0),height:_.height||Math.ceil(k.height)||(C?C.height():0),pixelRatio:B}),z=W.getContext(),$=new n.SceneCanvas({width:W.width/W.pixelRatio+Math.abs(O),height:W.height/W.pixelRatio+Math.abs(L),pixelRatio:W.pixelRatio});return _.imageSmoothingEnabled===!1&&(z._context.imageSmoothingEnabled=!1),z.save(),(O||L)&&z.translate(-1*O,-1*L),this.drawScene(W,void 0,$),z.restore(),W}toCanvas(_){return this._toKonvaCanvas(_)._canvas}toDataURL(_){_=_||{};const k=_.mimeType||null,C=_.quality||null,O=this._toKonvaCanvas(_).toDataURL(k,C);return _.callback&&_.callback(O),O}toImage(_){return new Promise((k,C)=>{try{const O=_==null?void 0:_.callback;O&&delete _.callback,e.Util._urlToImage(this.toDataURL(_),function(L){k(L),O==null||O(L)})}catch(O){C(O)}})}toBlob(_){return new Promise((k,C)=>{try{const O=_==null?void 0:_.callback;O&&delete _.callback,this.toCanvas(_).toBlob(L=>{k(L),O==null||O(L)},_==null?void 0:_.mimeType,_==null?void 0:_.quality)}catch(O){C(O)}})}setSize(_){return this.width(_.width),this.height(_.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance}_off(_,k,C){let O=this.eventListeners[_],L,B,W;for(L=0;L<O.length;L++)if(B=O[L].name,W=O[L].handler,(B!=="konva"||k==="konva")&&(!k||B===k)&&(!C||C===W)){if(O.splice(L,1),O.length===0){delete this.eventListeners[_];break}L--}}_fireChangeEvent(_,k,C){this._fire(_+h,{oldVal:k,newVal:C})}addName(_){if(!this.hasName(_)){const k=this.name(),C=k?k+" "+_:_;this.name(C)}return this}hasName(_){if(!_)return!1;const k=this.name();return k?(k||"").split(/\s/g).indexOf(_)!==-1:!1}removeName(_){const k=(this.name()||"").split(/\s/g),C=k.indexOf(_);return C!==-1&&(k.splice(C,1),this.name(k.join(" "))),this}setAttr(_,k){const C=this[S+e.Util._capitalize(_)];return e.Util._isFunction(C)?C.call(this,k):this._setAttr(_,k),this}_requestDraw(){if(i.Konva.autoDrawEnabled){const _=this.getLayer()||this.getStage();_==null||_.batchDraw()}}_setAttr(_,k){const C=this.attrs[_];C===k&&!e.Util.isObject(k)||(k==null?delete this.attrs[_]:this.attrs[_]=k,this._shouldFireChangeEvents&&this._fireChangeEvent(_,C,k),this._requestDraw())}_setComponentAttr(_,k,C){let O;C!==void 0&&(O=this.attrs[_],O||(this.attrs[_]=this.getAttr(_)),this.attrs[_][k]=C,this._fireChangeEvent(_,O,C))}_fireAndBubble(_,k,C){if(k&&this.nodeType===p&&(k.target=this),!((_===v||_===y)&&(C&&(this===C||this.isAncestorOf&&this.isAncestorOf(C))||this.nodeType==="Stage"&&!C))){this._fire(_,k);const L=(_===v||_===y)&&C&&C.isAncestorOf&&C.isAncestorOf(this)&&!C.isAncestorOf(this.parent);(k&&!k.cancelBubble||!k)&&this.parent&&this.parent.isListening()&&!L&&(C&&C.parent?this._fireAndBubble.call(this.parent,_,k,C):this._fireAndBubble.call(this.parent,_,k))}}_getProtoListeners(_){var k,C,O;const L=(k=this._cache.get(a))!==null&&k!==void 0?k:{};let B=L==null?void 0:L[_];if(B===void 0){B=[];let W=Object.getPrototypeOf(this);for(;W;){const z=(O=(C=W.eventListeners)===null||C===void 0?void 0:C[_])!==null&&O!==void 0?O:[];B.push(...z),W=Object.getPrototypeOf(W)}L[_]=B,this._cache.set(a,L)}return B}_fire(_,k){k=k||{},k.currentTarget=this,k.type=_;const C=this._getProtoListeners(_);if(C)for(var O=0;O<C.length;O++)C[O].handler.call(this,k);const L=this.eventListeners[_];if(L)for(var O=0;O<L.length;O++)L[O].handler.call(this,k)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(_){const k=_?_.pointerId:void 0,C=this.getStage(),O=this.getAbsolutePosition();if(!C)return;const L=C._getPointerById(k)||C._changedPointerPositions[0]||O;r.DD._dragElements.set(this._id,{node:this,startPointerPos:L,offset:{x:L.x-O.x,y:L.y-O.y},dragStatus:"ready",pointerId:k})}startDrag(_,k=!0){r.DD._dragElements.has(this._id)||this._createDragElement(_);const C=r.DD._dragElements.get(this._id);C.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:_&&_.evt},k)}_setDragPosition(_,k){const C=this.getStage()._getPointerById(k.pointerId);if(!C)return;let O={x:C.x-k.offset.x,y:C.y-k.offset.y};const L=this.dragBoundFunc();if(L!==void 0){const B=L.call(this,O,_);B?O=B:e.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==O.x||this._lastPos.y!==O.y)&&(this.setAbsolutePosition(O),this._requestDraw()),this._lastPos=O}stopDrag(_){const k=r.DD._dragElements.get(this._id);k&&(k.dragStatus="stopped"),r.DD._endDragBefore(_),r.DD._endDragAfter(_)}setDraggable(_){this._setAttr("draggable",_),this._dragChange()}isDragging(){const _=r.DD._dragElements.get(this._id);return _?_.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(_){if(!(!(_.evt.button!==void 0)||i.Konva.dragButtons.indexOf(_.evt.button)>=0)||this.isDragging())return;let O=!1;r.DD._dragElements.forEach(L=>{this.isAncestorOf(L.node)&&(O=!0)}),O||this._createDragElement(_)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const k=r.DD._dragElements.get(this._id),C=k&&k.dragStatus==="dragging",O=k&&k.dragStatus==="ready";C?this.stopDrag():O&&r.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(_={x:0,y:0}){const k=this.getStage();if(!k)return!1;const C={x:-_.x,y:-_.y,width:k.width()+2*_.x,height:k.height()+2*_.y};return e.Util.haveIntersection(C,this.getClientRect())}static create(_,k){return e.Util._isString(_)&&(_=JSON.parse(_)),this._createNode(_,k)}static _createNode(_,k){let C=Po.prototype.getClassName.call(_),O=_.children,L,B,W;k&&(_.attrs.container=k),i.Konva[C]||(e.Util.warn('Can not find a node with class name "'+C+'". Fallback to "Shape".'),C="Shape");const z=i.Konva[C];if(L=new z(_.attrs),O)for(B=O.length,W=0;W<B;W++)L.add(Po._createNode(O[W]));return L}};ai.Node=E,E.prototype.nodeType="Node",E.prototype._attrsAffectingSize=[],E.prototype.eventListeners={},E.prototype.on.call(E.prototype,T,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(w),this._clearSelfAndDescendantCache(l)}),E.prototype.on.call(E.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(I)}),E.prototype.on.call(E.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(m)}),E.prototype.on.call(E.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(o)});const A=t.Factory.addGetterSetter;return A(E,"zIndex"),A(E,"absolutePosition"),A(E,"position"),A(E,"x",0,(0,s.getNumberValidator)()),A(E,"y",0,(0,s.getNumberValidator)()),A(E,"globalCompositeOperation","source-over",(0,s.getStringValidator)()),A(E,"opacity",1,(0,s.getNumberValidator)()),A(E,"name","",(0,s.getStringValidator)()),A(E,"id","",(0,s.getStringValidator)()),A(E,"rotation",0,(0,s.getNumberValidator)()),t.Factory.addComponentsGetterSetter(E,"scale",["x","y"]),A(E,"scaleX",1,(0,s.getNumberValidator)()),A(E,"scaleY",1,(0,s.getNumberValidator)()),t.Factory.addComponentsGetterSetter(E,"skew",["x","y"]),A(E,"skewX",0,(0,s.getNumberValidator)()),A(E,"skewY",0,(0,s.getNumberValidator)()),t.Factory.addComponentsGetterSetter(E,"offset",["x","y"]),A(E,"offsetX",0,(0,s.getNumberValidator)()),A(E,"offsetY",0,(0,s.getNumberValidator)()),A(E,"dragDistance",void 0,(0,s.getNumberValidator)()),A(E,"width",0,(0,s.getNumberValidator)()),A(E,"height",0,(0,s.getNumberValidator)()),A(E,"listening",!0,(0,s.getBooleanValidator)()),A(E,"preventDefault",!0,(0,s.getBooleanValidator)()),A(E,"filters",void 0,function(M){return this._filterUpToDate=!1,M}),A(E,"visible",!0,(0,s.getBooleanValidator)()),A(E,"transformsEnabled","all",(0,s.getStringValidator)()),A(E,"size"),A(E,"dragBoundFunc"),A(E,"draggable",!1,(0,s.getBooleanValidator)()),t.Factory.backCompat(E,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),ai}var li={},hl;function Cs(){if(hl)return li;hl=1,Object.defineProperty(li,"__esModule",{value:!0}),li.Container=void 0;const e=ve(),t=qe(),n=Se();let i=class extends t.Node{constructor(){super(...arguments),this.children=[]}getChildren(s){if(!s)return this.children||[];const o=this.children||[],a=[];return o.forEach(function(l){s(l)&&a.push(l)}),a}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.destroy()}),this.children=[],this._requestDraw(),this}add(...s){if(s.length===0)return this;if(s.length>1){for(let a=0;a<s.length;a++)this.add(s[a]);return this}const o=s[0];return o.getParent()?(o.moveTo(this),this):(this._validateAdd(o),o.index=this.getChildren().length,o.parent=this,o._clearCaches(),this.getChildren().push(o),this._fire("add",{child:o}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(s){return this._generalFind(s,!1)}findOne(s){const o=this._generalFind(s,!0);return o.length>0?o[0]:void 0}_generalFind(s,o){const a=[];return this._descendants(l=>{const u=l._isMatch(s);return u&&a.push(l),!!(u&&o)}),a}_descendants(s){let o=!1;const a=this.getChildren();for(const l of a){if(o=s(l),o)return!0;if(l.hasChildren()&&(o=l._descendants(s),o))return!0}return!1}toObject(){const s=t.Node.prototype.toObject.call(this);return s.children=[],this.getChildren().forEach(o=>{s.children.push(o.toObject())}),s}isAncestorOf(s){let o=s.getParent();for(;o;){if(o._id===this._id)return!0;o=o.getParent()}return!1}clone(s){const o=t.Node.prototype.clone.call(this,s);return this.getChildren().forEach(function(a){o.add(a.clone())}),o}getAllIntersections(s){const o=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(s)&&o.push(a)}),o}_clearSelfAndDescendantCache(s){var o;super._clearSelfAndDescendantCache(s),!this.isCached()&&((o=this.children)===null||o===void 0||o.forEach(function(a){a._clearSelfAndDescendantCache(s)}))}_setChildrenIndices(){var s;(s=this.children)===null||s===void 0||s.forEach(function(o,a){o.index=a}),this._requestDraw()}drawScene(s,o,a){const l=this.getLayer(),u=s||l&&l.getCanvas(),c=u&&u.getContext(),h=this._getCanvasCache(),g=h&&h.scene,d=u&&u.isCache;if(!this.isVisible()&&!d)return this;if(g){c.save();const m=this.getAbsoluteTransform(o).getMatrix();c.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(c),c.restore()}else this._drawChildren("drawScene",u,o,a);return this}drawHit(s,o){if(!this.shouldDrawHit(o))return this;const a=this.getLayer(),l=s||a&&a.hitCanvas,u=l&&l.getContext(),c=this._getCanvasCache();if(c&&c.hit){u.save();const g=this.getAbsoluteTransform(o).getMatrix();u.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedHitCanvas(u),u.restore()}else this._drawChildren("drawHit",l,o);return this}_drawChildren(s,o,a,l){var u;const c=o&&o.getContext(),h=this.clipWidth(),g=this.clipHeight(),d=this.clipFunc(),m=typeof h=="number"&&typeof g=="number"||d,v=a===this;if(m){c.save();const S=this.getAbsoluteTransform(a);let p=S.getMatrix();c.transform(p[0],p[1],p[2],p[3],p[4],p[5]),c.beginPath();let f;if(d)f=d.call(this,c,this);else{const b=this.clipX(),w=this.clipY();c.rect(b||0,w||0,h,g)}c.clip.apply(c,f),p=S.copy().invert().getMatrix(),c.transform(p[0],p[1],p[2],p[3],p[4],p[5])}const y=!v&&this.globalCompositeOperation()!=="source-over"&&s==="drawScene";y&&(c.save(),c._applyGlobalCompositeOperation(this)),(u=this.children)===null||u===void 0||u.forEach(function(S){S[s](o,a,l)}),y&&c.restore(),m&&c.restore()}getClientRect(s={}){var o;const a=s.skipTransform,l=s.relativeTo;let u,c,h,g,d={x:1/0,y:1/0,width:0,height:0};const m=this;(o=this.children)===null||o===void 0||o.forEach(function(S){if(!S.visible())return;const p=S.getClientRect({relativeTo:m,skipShadow:s.skipShadow,skipStroke:s.skipStroke});p.width===0&&p.height===0||(u===void 0?(u=p.x,c=p.y,h=p.x+p.width,g=p.y+p.height):(u=Math.min(u,p.x),c=Math.min(c,p.y),h=Math.max(h,p.x+p.width),g=Math.max(g,p.y+p.height)))});const v=this.find("Shape");let y=!1;for(let S=0;S<v.length;S++)if(v[S]._isVisible(this)){y=!0;break}return y&&u!==void 0?d={x:u,y:c,width:h-u,height:g-c}:d={x:0,y:0,width:0,height:0},a?d:this._transformedRect(d,l)}};return li.Container=i,e.Factory.addComponentsGetterSetter(i,"clip",["x","y","width","height"]),e.Factory.addGetterSetter(i,"clipX",void 0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"clipY",void 0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"clipWidth",void 0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"clipHeight",void 0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"clipFunc"),li}var Ks={},an={},dl;function dh(){if(dl)return an;dl=1,Object.defineProperty(an,"__esModule",{value:!0}),an.getCapturedShape=i,an.createEvent=r,an.hasPointerCapture=s,an.setPointerCapture=o,an.releaseCapture=a;const e=pe(),t=new Map,n=e.Konva._global.PointerEvent!==void 0;function i(l){return t.get(l)}function r(l){return{evt:l,pointerId:l.pointerId}}function s(l,u){return t.get(l)===u}function o(l,u){a(l),u.getStage()&&(t.set(l,u),n&&u._fire("gotpointercapture",r(new PointerEvent("gotpointercapture"))))}function a(l,u){const c=t.get(l);if(!c)return;const h=c.getStage();h&&h.content,t.delete(l),n&&c._fire("lostpointercapture",r(new PointerEvent("lostpointercapture")))}return an}var fl;function $0(){return fl||(fl=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=He(),n=ve(),i=Cs(),r=pe(),s=Ss(),o=ta(),a=pe(),l=dh(),u="Stage",c="string",h="px",g="mouseout",d="mouseleave",m="mouseover",v="mouseenter",y="mousemove",S="mousedown",p="mouseup",f="pointermove",b="pointerdown",w="pointerup",R="pointercancel",I="lostpointercapture",T="pointerout",x="pointerleave",E="pointerover",A="pointerenter",M="contextmenu",_="touchstart",k="touchend",C="touchmove",O="touchcancel",L="wheel",B=5,W=[[v,"_pointerenter"],[S,"_pointerdown"],[y,"_pointermove"],[p,"_pointerup"],[d,"_pointerleave"],[_,"_pointerdown"],[C,"_pointermove"],[k,"_pointerup"],[O,"_pointercancel"],[m,"_pointerover"],[L,"_wheel"],[M,"_contextmenu"],[b,"_pointerdown"],[f,"_pointermove"],[w,"_pointerup"],[R,"_pointercancel"],[I,"_lostpointercapture"]],z={mouse:{[T]:g,[x]:d,[E]:m,[A]:v,[f]:y,[b]:S,[w]:p,[R]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[T]:"touchout",[x]:"touchleave",[E]:"touchover",[A]:"touchenter",[f]:C,[b]:_,[w]:k,[R]:O,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[T]:T,[x]:x,[E]:E,[A]:A,[f]:f,[b]:b,[w]:w,[R]:R,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},$=se=>se.indexOf("pointer")>=0?"pointer":se.indexOf("touch")>=0?"touch":"mouse",X=se=>{const P=$(se);if(P==="pointer")return r.Konva.pointerEventsEnabled&&z.pointer;if(P==="touch")return z.touch;if(P==="mouse")return z.mouse};function q(se={}){return(se.clipFunc||se.clipWidth||se.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),se}const Q="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class ne extends i.Container{constructor(P){super(q(P)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{q(this.attrs)}),this._checkVisibility()}_validateAdd(P){const D=P.getType()==="Layer",V=P.getType()==="FastLayer";D||V||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const P=this.visible()?"":"none";this.content.style.display=P}setContainer(P){if(typeof P===c){if(P.charAt(0)==="."){const V=P.slice(1);P=document.getElementsByClassName(V)[0]}else{var D;P.charAt(0)!=="#"?D=P:D=P.slice(1),P=document.getElementById(D)}if(!P)throw"Can not find container in document with id "+D}return this._setAttr("container",P),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),P.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const P=this.children,D=P.length;for(let V=0;V<D;V++)P[V].clear();return this}clone(P){return P||(P={}),P.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,P)}destroy(){super.destroy();const P=this.content;P&&t.Util._isInDocument(P)&&this.container().removeChild(P);const D=e.stages.indexOf(this);return D>-1&&e.stages.splice(D,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const P=this._pointerPositions[0]||this._changedPointerPositions[0];return P?{x:P.x,y:P.y}:(t.Util.warn(Q),null)}_getPointerById(P){return this._pointerPositions.find(D=>D.id===P)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(P){P=P||{},P.x=P.x||0,P.y=P.y||0,P.width=P.width||this.width(),P.height=P.height||this.height();const D=new s.SceneCanvas({width:P.width,height:P.height,pixelRatio:P.pixelRatio||1}),V=D.getContext()._context,j=this.children;return(P.x||P.y)&&V.translate(-1*P.x,-1*P.y),j.forEach(function(Z){if(!Z.isVisible())return;const F=Z._toKonvaCanvas(P);V.drawImage(F._canvas,P.x,P.y,F.getWidth()/F.getPixelRatio(),F.getHeight()/F.getPixelRatio())}),D}getIntersection(P){if(!P)return null;const D=this.children,V=D.length,j=V-1;for(let Z=j;Z>=0;Z--){const F=D[Z].getIntersection(P);if(F)return F}return null}_resizeDOM(){const P=this.width(),D=this.height();this.content&&(this.content.style.width=P+h,this.content.style.height=D+h),this.bufferCanvas.setSize(P,D),this.bufferHitCanvas.setSize(P,D),this.children.forEach(V=>{V.setSize({width:P,height:D}),V.draw()})}add(P,...D){if(arguments.length>1){for(let j=0;j<arguments.length;j++)this.add(arguments[j]);return this}super.add(P);const V=this.children.length;return V>B&&t.Util.warn("The stage has "+V+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),P.setSize({width:this.width(),height:this.height()}),P.draw(),r.Konva.isBrowser&&this.content.appendChild(P.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(P){return l.hasPointerCapture(P,this)}setPointerCapture(P){l.setPointerCapture(P,this)}releaseCapture(P){l.releaseCapture(P,this)}getLayers(){return this.children}_bindContentEvents(){r.Konva.isBrowser&&W.forEach(([P,D])=>{this.content.addEventListener(P,V=>{this[D](V)},{passive:!1})})}_pointerenter(P){this.setPointersPositions(P);const D=X(P.type);D&&this._fire(D.pointerenter,{evt:P,target:this,currentTarget:this})}_pointerover(P){this.setPointersPositions(P);const D=X(P.type);D&&this._fire(D.pointerover,{evt:P,target:this,currentTarget:this})}_getTargetShape(P){let D=this[P+"targetShape"];return D&&!D.getStage()&&(D=null),D}_pointerleave(P){const D=X(P.type),V=$(P.type);if(!D)return;this.setPointersPositions(P);const j=this._getTargetShape(V),Z=!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled;j&&Z?(j._fireAndBubble(D.pointerout,{evt:P}),j._fireAndBubble(D.pointerleave,{evt:P}),this._fire(D.pointerleave,{evt:P,target:this,currentTarget:this}),this[V+"targetShape"]=null):Z&&(this._fire(D.pointerleave,{evt:P,target:this,currentTarget:this}),this._fire(D.pointerout,{evt:P,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(P){const D=X(P.type),V=$(P.type);if(!D)return;this.setPointersPositions(P);let j=!1;this._changedPointerPositions.forEach(Z=>{const F=this.getIntersection(Z);if(o.DD.justDragged=!1,r.Konva["_"+V+"ListenClick"]=!0,!F||!F.isListening()){this[V+"ClickStartShape"]=void 0;return}r.Konva.capturePointerEventsEnabled&&F.setPointerCapture(Z.id),this[V+"ClickStartShape"]=F,F._fireAndBubble(D.pointerdown,{evt:P,pointerId:Z.id}),j=!0;const N=P.type.indexOf("touch")>=0;F.preventDefault()&&P.cancelable&&N&&P.preventDefault()}),j||this._fire(D.pointerdown,{evt:P,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(P){const D=X(P.type),V=$(P.type);if(!D||(r.Konva.isDragging()&&o.DD.node.preventDefault()&&P.cancelable&&P.preventDefault(),this.setPointersPositions(P),!(!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled)))return;const Z={};let F=!1;const N=this._getTargetShape(V);this._changedPointerPositions.forEach(G=>{const H=l.getCapturedShape(G.id)||this.getIntersection(G),Y=G.id,K={evt:P,pointerId:Y},ee=N!==H;if(ee&&N&&(N._fireAndBubble(D.pointerout,{...K},H),N._fireAndBubble(D.pointerleave,{...K},H)),H){if(Z[H._id])return;Z[H._id]=!0}H&&H.isListening()?(F=!0,ee&&(H._fireAndBubble(D.pointerover,{...K},N),H._fireAndBubble(D.pointerenter,{...K},N),this[V+"targetShape"]=H),H._fireAndBubble(D.pointermove,{...K})):N&&(this._fire(D.pointerover,{evt:P,target:this,currentTarget:this,pointerId:Y}),this[V+"targetShape"]=null)}),F||this._fire(D.pointermove,{evt:P,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(P){const D=X(P.type),V=$(P.type);if(!D)return;this.setPointersPositions(P);const j=this[V+"ClickStartShape"],Z=this[V+"ClickEndShape"],F={};let N=!1;this._changedPointerPositions.forEach(G=>{const H=l.getCapturedShape(G.id)||this.getIntersection(G);if(H){if(H.releaseCapture(G.id),F[H._id])return;F[H._id]=!0}const Y=G.id,K={evt:P,pointerId:Y};let ee=!1;r.Konva["_"+V+"InDblClickWindow"]?(ee=!0,clearTimeout(this[V+"DblTimeout"])):o.DD.justDragged||(r.Konva["_"+V+"InDblClickWindow"]=!0,clearTimeout(this[V+"DblTimeout"])),this[V+"DblTimeout"]=setTimeout(function(){r.Konva["_"+V+"InDblClickWindow"]=!1},r.Konva.dblClickWindow),H&&H.isListening()?(N=!0,this[V+"ClickEndShape"]=H,H._fireAndBubble(D.pointerup,{...K}),r.Konva["_"+V+"ListenClick"]&&j&&j===H&&(H._fireAndBubble(D.pointerclick,{...K}),ee&&Z&&Z===H&&H._fireAndBubble(D.pointerdblclick,{...K}))):(this[V+"ClickEndShape"]=null,r.Konva["_"+V+"ListenClick"]&&this._fire(D.pointerclick,{evt:P,target:this,currentTarget:this,pointerId:Y}),ee&&this._fire(D.pointerdblclick,{evt:P,target:this,currentTarget:this,pointerId:Y}))}),N||this._fire(D.pointerup,{evt:P,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),r.Konva["_"+V+"ListenClick"]=!1,P.cancelable&&V!=="touch"&&V!=="pointer"&&P.preventDefault()}_contextmenu(P){this.setPointersPositions(P);const D=this.getIntersection(this.getPointerPosition());D&&D.isListening()?D._fireAndBubble(M,{evt:P}):this._fire(M,{evt:P,target:this,currentTarget:this})}_wheel(P){this.setPointersPositions(P);const D=this.getIntersection(this.getPointerPosition());D&&D.isListening()?D._fireAndBubble(L,{evt:P}):this._fire(L,{evt:P,target:this,currentTarget:this})}_pointercancel(P){this.setPointersPositions(P);const D=l.getCapturedShape(P.pointerId)||this.getIntersection(this.getPointerPosition());D&&D._fireAndBubble(w,l.createEvent(P)),l.releaseCapture(P.pointerId)}_lostpointercapture(P){l.releaseCapture(P.pointerId)}setPointersPositions(P){const D=this._getContentPosition();let V=null,j=null;P=P||window.event,P.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(P.touches,Z=>{this._pointerPositions.push({id:Z.identifier,x:(Z.clientX-D.left)/D.scaleX,y:(Z.clientY-D.top)/D.scaleY})}),Array.prototype.forEach.call(P.changedTouches||P.touches,Z=>{this._changedPointerPositions.push({id:Z.identifier,x:(Z.clientX-D.left)/D.scaleX,y:(Z.clientY-D.top)/D.scaleY})})):(V=(P.clientX-D.left)/D.scaleX,j=(P.clientY-D.top)/D.scaleY,this.pointerPos={x:V,y:j},this._pointerPositions=[{x:V,y:j,id:t.Util._getFirstPointerId(P)}],this._changedPointerPositions=[{x:V,y:j,id:t.Util._getFirstPointerId(P)}])}_setPointerPosition(P){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(P)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const P=this.content.getBoundingClientRect();return{top:P.top,left:P.left,scaleX:P.width/this.content.clientWidth||1,scaleY:P.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!r.Konva.isBrowser)return;const P=this.container();if(!P)throw"Stage has no container. A container is required.";P.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),P.appendChild(this.content),this._resizeDOM()}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(P){P.batchDraw()}),this}}e.Stage=ne,ne.prototype.nodeType=u,(0,a._registerNode)(ne),n.Factory.addGetterSetter(ne,"container"),r.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{e.stages.forEach(se=>{se.batchDraw()})})}(Ks)),Ks}var ci={},Ys={},gl;function tt(){return gl||(gl=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=pe(),n=He(),i=ve(),r=qe(),s=Se(),o=pe(),a=dh(),l="hasShadow",u="shadowRGBA",c="patternImage",h="linearGradient",g="radialGradient";let d;function m(){return d||(d=n.Util.createCanvasElement().getContext("2d"),d)}e.shapes={};function v(x){const E=this.attrs.fillRule;E?x.fill(E):x.fill()}function y(x){x.stroke()}function S(x){const E=this.attrs.fillRule;E?x.fill(E):x.fill()}function p(x){x.stroke()}function f(){this._clearCache(l)}function b(){this._clearCache(u)}function w(){this._clearCache(c)}function R(){this._clearCache(h)}function I(){this._clearCache(g)}class T extends r.Node{constructor(E){super(E);let A;for(;A=n.Util.getRandomColor(),!(A&&!(A in e.shapes)););this.colorKey=A,e.shapes[A]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(c,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const A=m().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(A&&A.setTransform){const M=new n.Transform;M.translate(this.fillPatternX(),this.fillPatternY()),M.rotate(t.Konva.getAngle(this.fillPatternRotation())),M.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),M.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const _=M.getMatrix(),k=typeof DOMMatrix>"u"?{a:_[0],b:_[1],c:_[2],d:_[3],e:_[4],f:_[5]}:new DOMMatrix(_);A.setTransform(k)}return A}}_getLinearGradient(){return this._getCache(h,this.__getLinearGradient)}__getLinearGradient(){const E=this.fillLinearGradientColorStops();if(E){const A=m(),M=this.fillLinearGradientStartPoint(),_=this.fillLinearGradientEndPoint(),k=A.createLinearGradient(M.x,M.y,_.x,_.y);for(let C=0;C<E.length;C+=2)k.addColorStop(E[C],E[C+1]);return k}}_getRadialGradient(){return this._getCache(g,this.__getRadialGradient)}__getRadialGradient(){const E=this.fillRadialGradientColorStops();if(E){const A=m(),M=this.fillRadialGradientStartPoint(),_=this.fillRadialGradientEndPoint(),k=A.createRadialGradient(M.x,M.y,this.fillRadialGradientStartRadius(),_.x,_.y,this.fillRadialGradientEndRadius());for(let C=0;C<E.length;C+=2)k.addColorStop(E[C],E[C+1]);return k}}getShadowRGBA(){return this._getCache(u,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const E=n.Util.colorToRGBA(this.shadowColor());if(E)return"rgba("+E.r+","+E.g+","+E.b+","+E.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const E=this.hitStrokeWidth();return E==="auto"?this.hasStroke():this.strokeEnabled()&&!!E}intersects(E){const A=this.getStage();if(!A)return!1;const M=A.bufferHitCanvas;return M.getContext().clear(),this.drawHit(M,void 0,!0),M.context.getImageData(Math.round(E.x),Math.round(E.y),1,1).data[3]>0}destroy(){return r.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(E){var A;if(!((A=this.attrs.perfectDrawEnabled)!==null&&A!==void 0?A:!0))return!1;const _=E||this.hasFill(),k=this.hasStroke(),C=this.getAbsoluteOpacity()!==1;if(_&&k&&C)return!0;const O=this.hasShadow(),L=this.shadowForStrokeEnabled();return!!(_&&k&&O&&L)}setStrokeHitEnabled(E){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),E?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const E=this.size();return{x:this._centroid?-E.width/2:0,y:this._centroid?-E.height/2:0,width:E.width,height:E.height}}getClientRect(E={}){let A=!1,M=this.getParent();for(;M;){if(M.isCached()){A=!0;break}M=M.getParent()}const _=E.skipTransform,k=E.relativeTo||A&&this.getStage()||void 0,C=this.getSelfRect(),L=!E.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,B=C.width+L,W=C.height+L,z=!E.skipShadow&&this.hasShadow(),$=z?this.shadowOffsetX():0,X=z?this.shadowOffsetY():0,q=B+Math.abs($),Q=W+Math.abs(X),ne=z&&this.shadowBlur()||0,se=q+ne*2,P=Q+ne*2,D={width:se,height:P,x:-(L/2+ne)+Math.min($,0)+C.x,y:-(L/2+ne)+Math.min(X,0)+C.y};return _?D:this._transformedRect(D,k)}drawScene(E,A,M){const _=this.getLayer();let k=E||_.getCanvas(),C=k.getContext(),O=this._getCanvasCache(),L=this.getSceneFunc(),B=this.hasShadow(),W,z;const $=k.isCache,X=A===this;if(!this.isVisible()&&!X)return this;if(O){C.save();const Q=this.getAbsoluteTransform(A).getMatrix();return C.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),this._drawCachedSceneCanvas(C),C.restore(),this}if(!L)return this;if(C.save(),this._useBufferCanvas()&&!$){W=this.getStage();const Q=M||W.bufferCanvas;z=Q.getContext(),z.clear(),z.save(),z._applyLineJoin(this);var q=this.getAbsoluteTransform(A).getMatrix();z.transform(q[0],q[1],q[2],q[3],q[4],q[5]),L.call(this,z,this),z.restore();const ne=Q.pixelRatio;B&&C._applyShadow(this),C._applyOpacity(this),C._applyGlobalCompositeOperation(this),C.drawImage(Q._canvas,0,0,Q.width/ne,Q.height/ne)}else{if(C._applyLineJoin(this),!X){var q=this.getAbsoluteTransform(A).getMatrix();C.transform(q[0],q[1],q[2],q[3],q[4],q[5]),C._applyOpacity(this),C._applyGlobalCompositeOperation(this)}B&&C._applyShadow(this),L.call(this,C,this)}return C.restore(),this}drawHit(E,A,M=!1){if(!this.shouldDrawHit(A,M))return this;const _=this.getLayer(),k=E||_.hitCanvas,C=k&&k.getContext(),O=this.hitFunc()||this.sceneFunc(),L=this._getCanvasCache(),B=L&&L.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),B){C.save();const z=this.getAbsoluteTransform(A).getMatrix();return C.transform(z[0],z[1],z[2],z[3],z[4],z[5]),this._drawCachedHitCanvas(C),C.restore(),this}if(!O)return this;if(C.save(),C._applyLineJoin(this),!(this===A)){const z=this.getAbsoluteTransform(A).getMatrix();C.transform(z[0],z[1],z[2],z[3],z[4],z[5])}return O.call(this,C,this),C.restore(),this}drawHitFromCache(E=0){const A=this._getCanvasCache(),M=this._getCachedSceneCanvas(),_=A.hit,k=_.getContext(),C=_.getWidth(),O=_.getHeight();k.clear(),k.drawImage(M._canvas,0,0,C,O);try{const L=k.getImageData(0,0,C,O),B=L.data,W=B.length,z=n.Util._hexToRgb(this.colorKey);for(let $=0;$<W;$+=4)B[$+3]>E?(B[$]=z.r,B[$+1]=z.g,B[$+2]=z.b,B[$+3]=255):B[$+3]=0;k.putImageData(L,0,0)}catch(L){n.Util.error("Unable to draw hit graph from cached scene canvas. "+L.message)}return this}hasPointerCapture(E){return a.hasPointerCapture(E,this)}setPointerCapture(E){a.setPointerCapture(E,this)}releaseCapture(E){a.releaseCapture(E,this)}}e.Shape=T,T.prototype._fillFunc=v,T.prototype._strokeFunc=y,T.prototype._fillFuncHit=S,T.prototype._strokeFuncHit=p,T.prototype._centroid=!1,T.prototype.nodeType="Shape",(0,o._registerNode)(T),T.prototype.eventListeners={},T.prototype.on.call(T.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",f),T.prototype.on.call(T.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",b),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",w),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",R),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",I),i.Factory.addGetterSetter(T,"stroke",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(T,"strokeWidth",2,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(T,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(T,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(T,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(T,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(T,"lineJoin"),i.Factory.addGetterSetter(T,"lineCap"),i.Factory.addGetterSetter(T,"sceneFunc"),i.Factory.addGetterSetter(T,"hitFunc"),i.Factory.addGetterSetter(T,"dash"),i.Factory.addGetterSetter(T,"dashOffset",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"shadowColor",void 0,(0,s.getStringValidator)()),i.Factory.addGetterSetter(T,"shadowBlur",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"shadowOpacity",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(T,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(T,"shadowOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"shadowOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillPatternImage"),i.Factory.addGetterSetter(T,"fill",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(T,"fillPatternX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillPatternY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(T,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(T,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(T,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(T,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(T,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(T,"fillEnabled",!0),i.Factory.addGetterSetter(T,"strokeEnabled",!0),i.Factory.addGetterSetter(T,"shadowEnabled",!0),i.Factory.addGetterSetter(T,"dashEnabled",!0),i.Factory.addGetterSetter(T,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(T,"fillPriority","color"),i.Factory.addComponentsGetterSetter(T,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(T,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(T,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(T,"fillPatternScaleX",1,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillPatternScaleY",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(T,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(T,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(T,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(T,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(T,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(T,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(T,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(T,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(T,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(T,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(T,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(T,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(T,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(T,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(T,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(T,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(T,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(T,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(T,"fillPatternRotation",0),i.Factory.addGetterSetter(T,"fillRule",void 0,(0,s.getStringValidator)()),i.Factory.backCompat(T,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(Ys)),Ys}var ml;function fh(){if(ml)return ci;ml=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.Layer=void 0;const e=He(),t=Cs(),n=qe(),i=ve(),r=Ss(),s=Se(),o=tt(),a=pe(),l="#",u="beforeDraw",c="draw",h=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],g=h.length;let d=class extends t.Container{constructor(v){super(v),this.canvas=new r.SceneCanvas,this.hitCanvas=new r.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(v){return this.getContext().clear(v),this.getHitCanvas().getContext().clear(v),this}setZIndex(v){super.setZIndex(v);const y=this.getStage();return y&&y.content&&(y.content.removeChild(this.getNativeCanvasElement()),v<y.children.length-1?y.content.insertBefore(this.getNativeCanvasElement(),y.children[v+1].getCanvas()._canvas):y.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){n.Node.prototype.moveToTop.call(this);const v=this.getStage();return v&&v.content&&(v.content.removeChild(this.getNativeCanvasElement()),v.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!n.Node.prototype.moveUp.call(this))return!1;const y=this.getStage();return!y||!y.content?!1:(y.content.removeChild(this.getNativeCanvasElement()),this.index<y.children.length-1?y.content.insertBefore(this.getNativeCanvasElement(),y.children[this.index+1].getCanvas()._canvas):y.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(n.Node.prototype.moveDown.call(this)){const v=this.getStage();if(v){const y=v.children;v.content&&(v.content.removeChild(this.getNativeCanvasElement()),v.content.insertBefore(this.getNativeCanvasElement(),y[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(n.Node.prototype.moveToBottom.call(this)){const v=this.getStage();if(v){const y=v.children;v.content&&(v.content.removeChild(this.getNativeCanvasElement()),v.content.insertBefore(this.getNativeCanvasElement(),y[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const v=this.getNativeCanvasElement();return n.Node.prototype.remove.call(this),v&&v.parentNode&&e.Util._isInDocument(v)&&v.parentNode.removeChild(v),this}getStage(){return this.parent}setSize({width:v,height:y}){return this.canvas.setSize(v,y),this.hitCanvas.setSize(v,y),this._setSmoothEnabled(),this}_validateAdd(v){const y=v.getType();y!=="Group"&&y!=="Shape"&&e.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(v){return v=v||{},v.width=v.width||this.getWidth(),v.height=v.height||this.getHeight(),v.x=v.x!==void 0?v.x:this.x(),v.y=v.y!==void 0?v.y:this.y(),n.Node.prototype._toKonvaCanvas.call(this,v)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){e.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){e.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,e.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(v){if(!this.isListening()||!this.isVisible())return null;let y=1,S=!1;for(;;){for(let p=0;p<g;p++){const f=h[p],b=this._getIntersection({x:v.x+f.x*y,y:v.y+f.y*y}),w=b.shape;if(w)return w;if(S=!!b.antialiased,!b.antialiased)break}if(S)y+=1;else return null}}_getIntersection(v){const y=this.hitCanvas.pixelRatio,S=this.hitCanvas.context.getImageData(Math.round(v.x*y),Math.round(v.y*y),1,1).data,p=S[3];if(p===255){const f=e.Util._rgbToHex(S[0],S[1],S[2]),b=o.shapes[l+f];return b?{shape:b}:{antialiased:!0}}else if(p>0)return{antialiased:!0};return{}}drawScene(v,y){const S=this.getLayer(),p=v||S&&S.getCanvas();return this._fire(u,{node:this}),this.clearBeforeDraw()&&p.getContext().clear(),t.Container.prototype.drawScene.call(this,p,y),this._fire(c,{node:this}),this}drawHit(v,y){const S=this.getLayer(),p=v||S&&S.hitCanvas;return S&&S.clearBeforeDraw()&&S.getHitCanvas().getContext().clear(),t.Container.prototype.drawHit.call(this,p,y),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(v){e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(v)}getHitGraphEnabled(v){return e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const v=this.parent;!!this.hitCanvas._canvas.parentNode?v.content.removeChild(this.hitCanvas._canvas):v.content.appendChild(this.hitCanvas._canvas)}destroy(){return e.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return ci.Layer=d,d.prototype.nodeType="Layer",(0,a._registerNode)(d),i.Factory.addGetterSetter(d,"imageSmoothingEnabled",!0),i.Factory.addGetterSetter(d,"clearBeforeDraw",!0),i.Factory.addGetterSetter(d,"hitGraphEnabled",!0,(0,s.getBooleanValidator)()),ci}var ui={},pl;function H0(){if(pl)return ui;pl=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.FastLayer=void 0;const e=He(),t=fh(),n=pe();let i=class extends t.Layer{constructor(s){super(s),this.listening(!1),e.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return ui.FastLayer=i,i.prototype.nodeType="FastLayer",(0,n._registerNode)(i),ui}var hi={},vl;function na(){if(vl)return hi;vl=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.Group=void 0;const e=He(),t=Cs(),n=pe();let i=class extends t.Container{_validateAdd(s){const o=s.getType();o!=="Group"&&o!=="Shape"&&e.Util.throw("You may only add groups and shapes to groups.")}};return hi.Group=i,i.prototype.nodeType="Group",(0,n._registerNode)(i),hi}var di={},_l;function ia(){if(_l)return di;_l=1,Object.defineProperty(di,"__esModule",{value:!0}),di.Animation=void 0;const e=pe(),t=He(),n=function(){return e.glob.performance&&e.glob.performance.now?function(){return e.glob.performance.now()}:function(){return new Date().getTime()}}();let i=class Gn{constructor(s,o){this.id=Gn.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:n(),frameRate:0},this.func=s,this.setLayers(o)}setLayers(s){let o=[];return s&&(o=Array.isArray(s)?s:[s]),this.layers=o,this}getLayers(){return this.layers}addLayer(s){const o=this.layers,a=o.length;for(let l=0;l<a;l++)if(o[l]._id===s._id)return!1;return this.layers.push(s),!0}isRunning(){const o=Gn.animations,a=o.length;for(let l=0;l<a;l++)if(o[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=n(),Gn._addAnimation(this),this}stop(){return Gn._removeAnimation(this),this}_updateFrameObject(s){this.frame.timeDiff=s-this.frame.lastTime,this.frame.lastTime=s,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(s){this.animations.push(s),this._handleAnimation()}static _removeAnimation(s){const o=s.id,a=this.animations,l=a.length;for(let u=0;u<l;u++)if(a[u].id===o){this.animations.splice(u,1);break}}static _runFrames(){const s={},o=this.animations;for(let a=0;a<o.length;a++){const l=o[a],u=l.layers,c=l.func;l._updateFrameObject(n());const h=u.length;let g;if(c?g=c.call(l,l.frame)!==!1:g=!0,!!g)for(let d=0;d<h;d++){const m=u[d];m._id!==void 0&&(s[m._id]=m)}}for(const a in s)s.hasOwnProperty(a)&&s[a].batchDraw()}static _animationLoop(){const s=Gn;s.animations.length?(s._runFrames(),t.Util.requestAnimFrame(s._animationLoop)):s.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,t.Util.requestAnimFrame(this._animationLoop))}};return di.Animation=i,i.animations=[],i.animIdCounter=0,i.animRunning=!1,di}var Xs={},yl;function z0(){return yl||(yl=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=He(),n=ia(),i=qe(),r=pe(),s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},o=1,a=2,l=3,u=["fill","stroke","shadowColor"];let c=0;class h{constructor(m,v,y,S,p,f,b){this.prop=m,this.propFunc=v,this.begin=S,this._pos=S,this.duration=f,this._change=0,this.prevPos=0,this.yoyo=b,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=y,this._change=p-this.begin,this.pause()}fire(m){const v=this[m];v&&v()}setTime(m){m>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():m<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=m,this.update())}getTime(){return this._time}setPosition(m){this.prevPos=this._pos,this.propFunc(m),this._pos=m}getPosition(m){return m===void 0&&(m=this._time),this.func(m,this.begin,this._change,this.duration)}play(){this.state=a,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(m){this.pause(),this._time=m,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const m=this.getTimer()-this._startTime;this.state===a?this.setTime(m):this.state===l&&this.setTime(this.duration-m)}pause(){this.state=o,this.fire("onPause")}getTimer(){return new Date().getTime()}}class g{constructor(m){const v=this,y=m.node,S=y._id,p=m.easing||e.Easings.Linear,f=!!m.yoyo;let b,w;typeof m.duration>"u"?b=.3:m.duration===0?b=.001:b=m.duration,this.node=y,this._id=c++;const R=y.getLayer()||(y instanceof r.Konva.Stage?y.getLayers():null);R||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){v.tween.onEnterFrame()},R),this.tween=new h(w,function(I){v._tweenFunc(I)},p,0,1,b*1e3,f),this._addListeners(),g.attrs[S]||(g.attrs[S]={}),g.attrs[S][this._id]||(g.attrs[S][this._id]={}),g.tweens[S]||(g.tweens[S]={});for(w in m)s[w]===void 0&&this._addAttr(w,m[w]);this.reset(),this.onFinish=m.onFinish,this.onReset=m.onReset,this.onUpdate=m.onUpdate}_addAttr(m,v){const y=this.node,S=y._id;let p,f,b,w,R;const I=g.tweens[S][m];I&&delete g.attrs[S][I][m];let T=y.getAttr(m);if(t.Util._isArray(v))if(p=[],f=Math.max(v.length,T.length),m==="points"&&v.length!==T.length&&(v.length>T.length?(w=T,T=t.Util._prepareArrayForTween(T,v,y.closed())):(b=v,v=t.Util._prepareArrayForTween(v,T,y.closed()))),m.indexOf("fill")===0)for(let x=0;x<f;x++)if(x%2===0)p.push(v[x]-T[x]);else{const E=t.Util.colorToRGBA(T[x]);R=t.Util.colorToRGBA(v[x]),T[x]=E,p.push({r:R.r-E.r,g:R.g-E.g,b:R.b-E.b,a:R.a-E.a})}else for(let x=0;x<f;x++)p.push(v[x]-T[x]);else u.indexOf(m)!==-1?(T=t.Util.colorToRGBA(T),R=t.Util.colorToRGBA(v),p={r:R.r-T.r,g:R.g-T.g,b:R.b-T.b,a:R.a-T.a}):p=v-T;g.attrs[S][this._id][m]={start:T,diff:p,end:v,trueEnd:b,trueStart:w},g.tweens[S][m]=this._id}_tweenFunc(m){const v=this.node,y=g.attrs[v._id][this._id];let S,p,f,b,w,R,I,T;for(S in y){if(p=y[S],f=p.start,b=p.diff,T=p.end,t.Util._isArray(f))if(w=[],I=Math.max(f.length,T.length),S.indexOf("fill")===0)for(R=0;R<I;R++)R%2===0?w.push((f[R]||0)+b[R]*m):w.push("rgba("+Math.round(f[R].r+b[R].r*m)+","+Math.round(f[R].g+b[R].g*m)+","+Math.round(f[R].b+b[R].b*m)+","+(f[R].a+b[R].a*m)+")");else for(R=0;R<I;R++)w.push((f[R]||0)+b[R]*m);else u.indexOf(S)!==-1?w="rgba("+Math.round(f.r+b.r*m)+","+Math.round(f.g+b.g*m)+","+Math.round(f.b+b.b*m)+","+(f.a+b.a*m)+")":w=f+b*m;v.setAttr(S,w)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const m=this.node,v=g.attrs[m._id][this._id];v.points&&v.points.trueEnd&&m.setAttr("points",v.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const m=this.node,v=g.attrs[m._id][this._id];v.points&&v.points.trueStart&&m.points(v.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(m){return this.tween.seek(m*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const m=this.node._id,v=this._id,y=g.tweens[m];this.pause();for(const S in y)delete g.tweens[m][S];delete g.attrs[m][v]}}e.Tween=g,g.attrs={},g.tweens={},i.Node.prototype.to=function(d){const m=d.onFinish;d.node=this,d.onFinish=function(){this.destroy(),m&&m()},new g(d).play()},e.Easings={BackEaseIn(d,m,v,y){return v*(d/=y)*d*((1.70158+1)*d-1.70158)+m},BackEaseOut(d,m,v,y){return v*((d=d/y-1)*d*((1.70158+1)*d+1.70158)+1)+m},BackEaseInOut(d,m,v,y){let S=1.70158;return(d/=y/2)<1?v/2*(d*d*(((S*=1.525)+1)*d-S))+m:v/2*((d-=2)*d*(((S*=1.525)+1)*d+S)+2)+m},ElasticEaseIn(d,m,v,y,S,p){let f=0;return d===0?m:(d/=y)===1?m+v:(p||(p=y*.3),!S||S<Math.abs(v)?(S=v,f=p/4):f=p/(2*Math.PI)*Math.asin(v/S),-(S*Math.pow(2,10*(d-=1))*Math.sin((d*y-f)*(2*Math.PI)/p))+m)},ElasticEaseOut(d,m,v,y,S,p){let f=0;return d===0?m:(d/=y)===1?m+v:(p||(p=y*.3),!S||S<Math.abs(v)?(S=v,f=p/4):f=p/(2*Math.PI)*Math.asin(v/S),S*Math.pow(2,-10*d)*Math.sin((d*y-f)*(2*Math.PI)/p)+v+m)},ElasticEaseInOut(d,m,v,y,S,p){let f=0;return d===0?m:(d/=y/2)===2?m+v:(p||(p=y*(.3*1.5)),!S||S<Math.abs(v)?(S=v,f=p/4):f=p/(2*Math.PI)*Math.asin(v/S),d<1?-.5*(S*Math.pow(2,10*(d-=1))*Math.sin((d*y-f)*(2*Math.PI)/p))+m:S*Math.pow(2,-10*(d-=1))*Math.sin((d*y-f)*(2*Math.PI)/p)*.5+v+m)},BounceEaseOut(d,m,v,y){return(d/=y)<1/2.75?v*(7.5625*d*d)+m:d<2/2.75?v*(7.5625*(d-=1.5/2.75)*d+.75)+m:d<2.5/2.75?v*(7.5625*(d-=2.25/2.75)*d+.9375)+m:v*(7.5625*(d-=2.625/2.75)*d+.984375)+m},BounceEaseIn(d,m,v,y){return v-e.Easings.BounceEaseOut(y-d,0,v,y)+m},BounceEaseInOut(d,m,v,y){return d<y/2?e.Easings.BounceEaseIn(d*2,0,v,y)*.5+m:e.Easings.BounceEaseOut(d*2-y,0,v,y)*.5+v*.5+m},EaseIn(d,m,v,y){return v*(d/=y)*d+m},EaseOut(d,m,v,y){return-v*(d/=y)*(d-2)+m},EaseInOut(d,m,v,y){return(d/=y/2)<1?v/2*d*d+m:-v/2*(--d*(d-2)-1)+m},StrongEaseIn(d,m,v,y){return v*(d/=y)*d*d*d*d+m},StrongEaseOut(d,m,v,y){return v*((d=d/y-1)*d*d*d*d+1)+m},StrongEaseInOut(d,m,v,y){return(d/=y/2)<1?v/2*d*d*d*d*d+m:v/2*((d-=2)*d*d*d*d+2)+m},Linear(d,m,v,y){return v*d/y+m}}}(Xs)),Xs}var bl;function j0(){return bl||(bl=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=pe(),n=He(),i=qe(),r=Cs(),s=$0(),o=fh(),a=H0(),l=na(),u=ta(),c=tt(),h=ia(),g=z0(),d=hh(),m=Ss();e.Konva=n.Util._assign(t.Konva,{Util:n.Util,Transform:n.Transform,Node:i.Node,Container:r.Container,Stage:s.Stage,stages:s.stages,Layer:o.Layer,FastLayer:a.FastLayer,Group:l.Group,DD:u.DD,Shape:c.Shape,shapes:c.shapes,Animation:h.Animation,Tween:g.Tween,Easings:g.Easings,Context:d.Context,Canvas:m.Canvas}),e.default=e.Konva}(Hs)),Hs}var fi={},Sl;function W0(){if(Sl)return fi;Sl=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.Arc=void 0;const e=ve(),t=tt(),n=pe(),i=Se(),r=pe();let s=class extends t.Shape{_sceneFunc(a){const l=n.Konva.getAngle(this.angle()),u=this.clockwise();a.beginPath(),a.arc(0,0,this.outerRadius(),0,l,u),a.arc(0,0,this.innerRadius(),l,0,!u),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}getSelfRect(){const a=this.innerRadius(),l=this.outerRadius(),u=this.clockwise(),c=n.Konva.getAngle(u?360-this.angle():this.angle()),h=Math.cos(Math.min(c,Math.PI)),g=1,d=Math.sin(Math.min(Math.max(Math.PI,c),3*Math.PI/2)),m=Math.sin(Math.min(c,Math.PI/2)),v=h*(h>0?a:l),y=g*l,S=d*(d>0?a:l),p=m*(m>0?l:a);return{x:v,y:u?-1*p:S,width:y-v,height:p-S}}};return fi.Arc=s,s.prototype._centroid=!0,s.prototype.className="Arc",s.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,r._registerNode)(s),e.Factory.addGetterSetter(s,"innerRadius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"outerRadius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"angle",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"clockwise",!1,(0,i.getBooleanValidator)()),fi}var gi={},mi={},Cl;function gh(){if(Cl)return mi;Cl=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.Line=void 0;const e=ve(),t=pe(),n=tt(),i=Se();function r(a,l,u,c,h,g,d){const m=Math.sqrt(Math.pow(u-a,2)+Math.pow(c-l,2)),v=Math.sqrt(Math.pow(h-u,2)+Math.pow(g-c,2)),y=d*m/(m+v),S=d*v/(m+v),p=u-y*(h-a),f=c-y*(g-l),b=u+S*(h-a),w=c+S*(g-l);return[p,f,b,w]}function s(a,l){const u=a.length,c=[];for(let h=2;h<u-2;h+=2){const g=r(a[h-2],a[h-1],a[h],a[h+1],a[h+2],a[h+3],l);isNaN(g[0])||(c.push(g[0]),c.push(g[1]),c.push(a[h]),c.push(a[h+1]),c.push(g[2]),c.push(g[3]))}return c}let o=class extends n.Shape{constructor(l){super(l),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(l){let u=this.points(),c=u.length,h=this.tension(),g=this.closed(),d=this.bezier(),m,v,y;if(c){if(l.beginPath(),l.moveTo(u[0],u[1]),h!==0&&c>4){for(m=this.getTensionPoints(),v=m.length,y=g?0:4,g||l.quadraticCurveTo(m[0],m[1],m[2],m[3]);y<v-2;)l.bezierCurveTo(m[y++],m[y++],m[y++],m[y++],m[y++],m[y++]);g||l.quadraticCurveTo(m[v-2],m[v-1],u[c-2],u[c-1])}else if(d)for(y=2;y<c;)l.bezierCurveTo(u[y++],u[y++],u[y++],u[y++],u[y++],u[y++]);else for(y=2;y<c;y+=2)l.lineTo(u[y],u[y+1]);g?(l.closePath(),l.fillStrokeShape(this)):l.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():s(this.points(),this.tension())}_getTensionPointsClosed(){const l=this.points(),u=l.length,c=this.tension(),h=r(l[u-2],l[u-1],l[0],l[1],l[2],l[3],c),g=r(l[u-4],l[u-3],l[u-2],l[u-1],l[0],l[1],c),d=s(l,c);return[h[2],h[3]].concat(d).concat([g[0],g[1],l[u-2],l[u-1],g[2],g[3],h[0],h[1],l[0],l[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let l=this.points();if(l.length<4)return{x:l[0]||0,y:l[1]||0,width:0,height:0};this.tension()!==0?l=[l[0],l[1],...this._getTensionPoints(),l[l.length-2],l[l.length-1]]:l=this.points();let u=l[0],c=l[0],h=l[1],g=l[1],d,m;for(let v=0;v<l.length/2;v++)d=l[v*2],m=l[v*2+1],u=Math.min(u,d),c=Math.max(c,d),h=Math.min(h,m),g=Math.max(g,m);return{x:u,y:h,width:c-u,height:g-h}}};return mi.Line=o,o.prototype.className="Line",o.prototype._attrsAffectingSize=["points","bezier","tension"],(0,t._registerNode)(o),e.Factory.addGetterSetter(o,"closed",!1),e.Factory.addGetterSetter(o,"bezier",!1),e.Factory.addGetterSetter(o,"tension",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(o,"points",[],(0,i.getNumberArrayValidator)()),mi}var pi={},Zs={},wl;function q0(){return wl||(wl=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(o,a,l)=>{let u,c;const g=l/2;u=0;for(let d=0;d<20;d++)c=g*e.tValues[20][d]+g,u+=e.cValues[20][d]*i(o,a,c);return g*u};e.getCubicArcLength=t;const n=(o,a,l)=>{l===void 0&&(l=1);const u=o[0]-2*o[1]+o[2],c=a[0]-2*a[1]+a[2],h=2*o[1]-2*o[0],g=2*a[1]-2*a[0],d=4*(u*u+c*c),m=4*(u*h+c*g),v=h*h+g*g;if(d===0)return l*Math.sqrt(Math.pow(o[2]-o[0],2)+Math.pow(a[2]-a[0],2));const y=m/(2*d),S=v/d,p=l+y,f=S-y*y,b=p*p+f>0?Math.sqrt(p*p+f):0,w=y*y+f>0?Math.sqrt(y*y+f):0,R=y+Math.sqrt(y*y+f)!==0?f*Math.log(Math.abs((p+b)/(y+w))):0;return Math.sqrt(d)/2*(p*b-y*w+R)};e.getQuadraticArcLength=n;function i(o,a,l){const u=r(1,l,o),c=r(1,l,a),h=u*u+c*c;return Math.sqrt(h)}const r=(o,a,l)=>{const u=l.length-1;let c,h;if(u===0)return 0;if(o===0){h=0;for(let g=0;g<=u;g++)h+=e.binomialCoefficients[u][g]*Math.pow(1-a,u-g)*Math.pow(a,g)*l[g];return h}else{c=new Array(u);for(let g=0;g<u;g++)c[g]=u*(l[g+1]-l[g]);return r(o-1,a,c)}},s=(o,a,l)=>{let u=1,c=o/a,h=(o-l(c))/a,g=0;for(;u>.001;){const d=l(c+h),m=Math.abs(o-d)/a;if(m<u)u=m,c+=h;else{const v=l(c-h),y=Math.abs(o-v)/a;y<u?(u=y,c-=h):h/=2}if(g++,g>500)break}return c};e.t2length=s}(Zs)),Zs}var xl;function ra(){if(xl)return pi;xl=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.Path=void 0;const e=ve(),t=tt(),n=pe(),i=q0();let r=class _t extends t.Shape{constructor(o){super(o),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=_t.parsePathData(this.data()),this.pathLength=_t.getPathLength(this.dataArray)}_sceneFunc(o){const a=this.dataArray;o.beginPath();let l=!1;for(let b=0;b<a.length;b++){const w=a[b].command,R=a[b].points;switch(w){case"L":o.lineTo(R[0],R[1]);break;case"M":o.moveTo(R[0],R[1]);break;case"C":o.bezierCurveTo(R[0],R[1],R[2],R[3],R[4],R[5]);break;case"Q":o.quadraticCurveTo(R[0],R[1],R[2],R[3]);break;case"A":var u=R[0],c=R[1],h=R[2],g=R[3],d=R[4],m=R[5],v=R[6],y=R[7],S=h>g?h:g,p=h>g?1:h/g,f=h>g?g/h:1;o.translate(u,c),o.rotate(v),o.scale(p,f),o.arc(0,0,S,d,d+m,1-y),o.scale(1/p,1/f),o.rotate(-v),o.translate(-u,-c);break;case"z":l=!0,o.closePath();break}}!l&&!this.hasFill()?o.strokeShape(this):o.fillStrokeShape(this)}getSelfRect(){let o=[];this.dataArray.forEach(function(d){if(d.command==="A"){const m=d.points[4],v=d.points[5],y=d.points[4]+v;let S=Math.PI/180;if(Math.abs(m-y)<S&&(S=Math.abs(m-y)),v<0)for(let p=m-S;p>y;p-=S){const f=_t.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],p,0);o.push(f.x,f.y)}else for(let p=m+S;p<y;p+=S){const f=_t.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],p,0);o.push(f.x,f.y)}}else if(d.command==="C")for(let m=0;m<=1;m+=.01){const v=_t.getPointOnCubicBezier(m,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);o.push(v.x,v.y)}else o=o.concat(d.points)});let a=o[0],l=o[0],u=o[1],c=o[1],h,g;for(let d=0;d<o.length/2;d++)h=o[d*2],g=o[d*2+1],isNaN(h)||(a=Math.min(a,h),l=Math.max(l,h)),isNaN(g)||(u=Math.min(u,g),c=Math.max(c,g));return{x:a,y:u,width:l-a,height:c-u}}getLength(){return this.pathLength}getPointAtLength(o){return _t.getPointAtLengthOfDataArray(o,this.dataArray)}static getLineLength(o,a,l,u){return Math.sqrt((l-o)*(l-o)+(u-a)*(u-a))}static getPathLength(o){let a=0;for(let l=0;l<o.length;++l)a+=o[l].pathLength;return a}static getPointAtLengthOfDataArray(o,a){let l,u=0,c=a.length;if(!c)return null;for(;u<c&&o>a[u].pathLength;)o-=a[u].pathLength,++u;if(u===c)return l=a[u-1].points.slice(-2),{x:l[0],y:l[1]};if(o<.01)return l=a[u].points.slice(0,2),{x:l[0],y:l[1]};const h=a[u],g=h.points;switch(h.command){case"L":return _t.getPointOnLine(o,h.start.x,h.start.y,g[0],g[1]);case"C":return _t.getPointOnCubicBezier((0,i.t2length)(o,_t.getPathLength(a),b=>(0,i.getCubicArcLength)([h.start.x,g[0],g[2],g[4]],[h.start.y,g[1],g[3],g[5]],b)),h.start.x,h.start.y,g[0],g[1],g[2],g[3],g[4],g[5]);case"Q":return _t.getPointOnQuadraticBezier((0,i.t2length)(o,_t.getPathLength(a),b=>(0,i.getQuadraticArcLength)([h.start.x,g[0],g[2]],[h.start.y,g[1],g[3]],b)),h.start.x,h.start.y,g[0],g[1],g[2],g[3]);case"A":var d=g[0],m=g[1],v=g[2],y=g[3],S=g[4],p=g[5],f=g[6];return S+=p*o/h.pathLength,_t.getPointOnEllipticalArc(d,m,v,y,S,f)}return null}static getPointOnLine(o,a,l,u,c,h,g){h=h??a,g=g??l;const d=this.getLineLength(a,l,u,c);if(d<1e-10)return{x:a,y:l};if(u===a)return{x:h,y:g+(c>l?o:-o)};const m=(c-l)/(u-a),v=Math.sqrt(o*o/(1+m*m))*(u<a?-1:1),y=m*v;if(Math.abs(g-l-m*(h-a))<1e-10)return{x:h+v,y:g+y};const S=((h-a)*(u-a)+(g-l)*(c-l))/(d*d),p=a+S*(u-a),f=l+S*(c-l),b=this.getLineLength(h,g,p,f),w=Math.sqrt(o*o-b*b),R=Math.sqrt(w*w/(1+m*m))*(u<a?-1:1),I=m*R;return{x:p+R,y:f+I}}static getPointOnCubicBezier(o,a,l,u,c,h,g,d,m){function v(w){return w*w*w}function y(w){return 3*w*w*(1-w)}function S(w){return 3*w*(1-w)*(1-w)}function p(w){return(1-w)*(1-w)*(1-w)}const f=d*v(o)+h*y(o)+u*S(o)+a*p(o),b=m*v(o)+g*y(o)+c*S(o)+l*p(o);return{x:f,y:b}}static getPointOnQuadraticBezier(o,a,l,u,c,h,g){function d(p){return p*p}function m(p){return 2*p*(1-p)}function v(p){return(1-p)*(1-p)}const y=h*d(o)+u*m(o)+a*v(o),S=g*d(o)+c*m(o)+l*v(o);return{x:y,y:S}}static getPointOnEllipticalArc(o,a,l,u,c,h){const g=Math.cos(h),d=Math.sin(h),m={x:l*Math.cos(c),y:u*Math.sin(c)};return{x:o+(m.x*g-m.y*d),y:a+(m.x*d+m.y*g)}}static parsePathData(o){if(!o)return[];let a=o;const l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];a=a.replace(new RegExp(" ","g"),",");for(var u=0;u<l.length;u++)a=a.replace(new RegExp(l[u],"g"),"|"+l[u]);const c=a.split("|"),h=[],g=[];let d=0,m=0;const v=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let y;for(u=1;u<c.length;u++){let _=c[u],k=_.charAt(0);for(_=_.slice(1),g.length=0;y=v.exec(_);)g.push(y[0]);const C=[];for(let O=0,L=g.length;O<L;O++){if(g[O]==="00"){C.push(0,0);continue}const B=parseFloat(g[O]);isNaN(B)?C.push(0):C.push(B)}for(;C.length>0&&!isNaN(C[0]);){let O="",L=[];const B=d,W=m;var S,p,f,b,w,R,I,T,x,E;switch(k){case"l":d+=C.shift(),m+=C.shift(),O="L",L.push(d,m);break;case"L":d=C.shift(),m=C.shift(),L.push(d,m);break;case"m":var A=C.shift(),M=C.shift();if(d+=A,m+=M,O="M",h.length>2&&h[h.length-1].command==="z"){for(let z=h.length-2;z>=0;z--)if(h[z].command==="M"){d=h[z].points[0]+A,m=h[z].points[1]+M;break}}L.push(d,m),k="l";break;case"M":d=C.shift(),m=C.shift(),O="M",L.push(d,m),k="L";break;case"h":d+=C.shift(),O="L",L.push(d,m);break;case"H":d=C.shift(),O="L",L.push(d,m);break;case"v":m+=C.shift(),O="L",L.push(d,m);break;case"V":m=C.shift(),O="L",L.push(d,m);break;case"C":L.push(C.shift(),C.shift(),C.shift(),C.shift()),d=C.shift(),m=C.shift(),L.push(d,m);break;case"c":L.push(d+C.shift(),m+C.shift(),d+C.shift(),m+C.shift()),d+=C.shift(),m+=C.shift(),O="C",L.push(d,m);break;case"S":p=d,f=m,S=h[h.length-1],S.command==="C"&&(p=d+(d-S.points[2]),f=m+(m-S.points[3])),L.push(p,f,C.shift(),C.shift()),d=C.shift(),m=C.shift(),O="C",L.push(d,m);break;case"s":p=d,f=m,S=h[h.length-1],S.command==="C"&&(p=d+(d-S.points[2]),f=m+(m-S.points[3])),L.push(p,f,d+C.shift(),m+C.shift()),d+=C.shift(),m+=C.shift(),O="C",L.push(d,m);break;case"Q":L.push(C.shift(),C.shift()),d=C.shift(),m=C.shift(),L.push(d,m);break;case"q":L.push(d+C.shift(),m+C.shift()),d+=C.shift(),m+=C.shift(),O="Q",L.push(d,m);break;case"T":p=d,f=m,S=h[h.length-1],S.command==="Q"&&(p=d+(d-S.points[0]),f=m+(m-S.points[1])),d=C.shift(),m=C.shift(),O="Q",L.push(p,f,d,m);break;case"t":p=d,f=m,S=h[h.length-1],S.command==="Q"&&(p=d+(d-S.points[0]),f=m+(m-S.points[1])),d+=C.shift(),m+=C.shift(),O="Q",L.push(p,f,d,m);break;case"A":b=C.shift(),w=C.shift(),R=C.shift(),I=C.shift(),T=C.shift(),x=d,E=m,d=C.shift(),m=C.shift(),O="A",L=this.convertEndpointToCenterParameterization(x,E,d,m,I,T,b,w,R);break;case"a":b=C.shift(),w=C.shift(),R=C.shift(),I=C.shift(),T=C.shift(),x=d,E=m,d+=C.shift(),m+=C.shift(),O="A",L=this.convertEndpointToCenterParameterization(x,E,d,m,I,T,b,w,R);break}h.push({command:O||k,points:L,start:{x:B,y:W},pathLength:this.calcLength(B,W,O||k,L)})}(k==="z"||k==="Z")&&h.push({command:"z",points:[],start:void 0,pathLength:0})}return h}static calcLength(o,a,l,u){let c,h,g,d;const m=_t;switch(l){case"L":return m.getLineLength(o,a,u[0],u[1]);case"C":return(0,i.getCubicArcLength)([o,u[0],u[2],u[4]],[a,u[1],u[3],u[5]],1);case"Q":return(0,i.getQuadraticArcLength)([o,u[0],u[2]],[a,u[1],u[3]],1);case"A":c=0;var v=u[4],y=u[5],S=u[4]+y,p=Math.PI/180;if(Math.abs(v-S)<p&&(p=Math.abs(v-S)),h=m.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],v,0),y<0)for(d=v-p;d>S;d-=p)g=m.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],d,0),c+=m.getLineLength(h.x,h.y,g.x,g.y),h=g;else for(d=v+p;d<S;d+=p)g=m.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],d,0),c+=m.getLineLength(h.x,h.y,g.x,g.y),h=g;return g=m.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],S,0),c+=m.getLineLength(h.x,h.y,g.x,g.y),c}return 0}static convertEndpointToCenterParameterization(o,a,l,u,c,h,g,d,m){const v=m*(Math.PI/180),y=Math.cos(v)*(o-l)/2+Math.sin(v)*(a-u)/2,S=-1*Math.sin(v)*(o-l)/2+Math.cos(v)*(a-u)/2,p=y*y/(g*g)+S*S/(d*d);p>1&&(g*=Math.sqrt(p),d*=Math.sqrt(p));let f=Math.sqrt((g*g*(d*d)-g*g*(S*S)-d*d*(y*y))/(g*g*(S*S)+d*d*(y*y)));c===h&&(f*=-1),isNaN(f)&&(f=0);const b=f*g*S/d,w=f*-d*y/g,R=(o+l)/2+Math.cos(v)*b-Math.sin(v)*w,I=(a+u)/2+Math.sin(v)*b+Math.cos(v)*w,T=function(C){return Math.sqrt(C[0]*C[0]+C[1]*C[1])},x=function(C,O){return(C[0]*O[0]+C[1]*O[1])/(T(C)*T(O))},E=function(C,O){return(C[0]*O[1]<C[1]*O[0]?-1:1)*Math.acos(x(C,O))},A=E([1,0],[(y-b)/g,(S-w)/d]),M=[(y-b)/g,(S-w)/d],_=[(-1*y-b)/g,(-1*S-w)/d];let k=E(M,_);return x(M,_)<=-1&&(k=Math.PI),x(M,_)>=1&&(k=0),h===0&&k>0&&(k=k-2*Math.PI),h===1&&k<0&&(k=k+2*Math.PI),[R,I,g,d,A,k,v,h]}};return pi.Path=r,r.prototype.className="Path",r.prototype._attrsAffectingSize=["data"],(0,n._registerNode)(r),e.Factory.addGetterSetter(r,"data"),pi}var Pl;function K0(){if(Pl)return gi;Pl=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.Arrow=void 0;const e=ve(),t=gh(),n=Se(),i=pe(),r=ra();let s=class extends t.Line{_sceneFunc(a){super._sceneFunc(a);const l=Math.PI*2,u=this.points();let c=u;const h=this.tension()!==0&&u.length>4;h&&(c=this.getTensionPoints());const g=this.pointerLength(),d=u.length;let m,v;if(h){const p=[c[c.length-4],c[c.length-3],c[c.length-2],c[c.length-1],u[d-2],u[d-1]],f=r.Path.calcLength(c[c.length-4],c[c.length-3],"C",p),b=r.Path.getPointOnQuadraticBezier(Math.min(1,1-g/f),p[0],p[1],p[2],p[3],p[4],p[5]);m=u[d-2]-b.x,v=u[d-1]-b.y}else m=u[d-2]-u[d-4],v=u[d-1]-u[d-3];const y=(Math.atan2(v,m)+l)%l,S=this.pointerWidth();this.pointerAtEnding()&&(a.save(),a.beginPath(),a.translate(u[d-2],u[d-1]),a.rotate(y),a.moveTo(0,0),a.lineTo(-g,S/2),a.lineTo(-g,-S/2),a.closePath(),a.restore(),this.__fillStroke(a)),this.pointerAtBeginning()&&(a.save(),a.beginPath(),a.translate(u[0],u[1]),h?(m=(c[0]+c[2])/2-u[0],v=(c[1]+c[3])/2-u[1]):(m=u[2]-u[0],v=u[3]-u[1]),a.rotate((Math.atan2(-v,-m)+l)%l),a.moveTo(0,0),a.lineTo(-g,S/2),a.lineTo(-g,-S/2),a.closePath(),a.restore(),this.__fillStroke(a))}__fillStroke(a){const l=this.dashEnabled();l&&(this.attrs.dashEnabled=!1,a.setLineDash([])),a.fillStrokeShape(this),l&&(this.attrs.dashEnabled=!0)}getSelfRect(){const a=super.getSelfRect(),l=this.pointerWidth()/2;return{x:a.x,y:a.y-l,width:a.width,height:a.height+l*2}}};return gi.Arrow=s,s.prototype.className="Arrow",(0,i._registerNode)(s),e.Factory.addGetterSetter(s,"pointerLength",10,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"pointerWidth",10,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"pointerAtBeginning",!1),e.Factory.addGetterSetter(s,"pointerAtEnding",!0),gi}var vi={},Tl;function Y0(){if(Tl)return vi;Tl=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.Circle=void 0;const e=ve(),t=tt(),n=Se(),i=pe();let r=class extends t.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius()!==o/2&&this.radius(o/2)}setHeight(o){this.radius()!==o/2&&this.radius(o/2)}};return vi.Circle=r,r.prototype._centroid=!0,r.prototype.className="Circle",r.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(r),e.Factory.addGetterSetter(r,"radius",0,(0,n.getNumberValidator)()),vi}var _i={},El;function X0(){if(El)return _i;El=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.Ellipse=void 0;const e=ve(),t=tt(),n=Se(),i=pe();let r=class extends t.Shape{_sceneFunc(o){const a=this.radiusX(),l=this.radiusY();o.beginPath(),o.save(),a!==l&&o.scale(1,l/a),o.arc(0,0,a,0,Math.PI*2,!1),o.restore(),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(o){this.radiusX(o/2)}setHeight(o){this.radiusY(o/2)}};return _i.Ellipse=r,r.prototype.className="Ellipse",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,i._registerNode)(r),e.Factory.addComponentsGetterSetter(r,"radius",["x","y"]),e.Factory.addGetterSetter(r,"radiusX",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(r,"radiusY",0,(0,n.getNumberValidator)()),_i}var yi={},Rl;function Z0(){if(Rl)return yi;Rl=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.Image=void 0;const e=He(),t=ve(),n=tt(),i=pe(),r=Se();class s extends n.Shape{constructor(a){super(a),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",l=>{this._removeImageLoad(l.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const a=this.image();a&&a.complete||a&&a.readyState===4||a&&a.addEventListener&&a.addEventListener("load",this._loadListener)}_removeImageLoad(a){a&&a.removeEventListener&&a.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const a=!!this.cornerRadius(),l=this.hasShadow();return a&&l?!0:super._useBufferCanvas(!0)}_sceneFunc(a){const l=this.getWidth(),u=this.getHeight(),c=this.cornerRadius(),h=this.attrs.image;let g;if(h){const d=this.attrs.cropWidth,m=this.attrs.cropHeight;d&&m?g=[h,this.cropX(),this.cropY(),d,m,0,0,l,u]:g=[h,0,0,l,u]}(this.hasFill()||this.hasStroke()||c)&&(a.beginPath(),c?e.Util.drawRoundedRectPath(a,l,u,c):a.rect(0,0,l,u),a.closePath(),a.fillStrokeShape(this)),h&&(c&&a.clip(),a.drawImage.apply(a,g))}_hitFunc(a){const l=this.width(),u=this.height(),c=this.cornerRadius();a.beginPath(),c?e.Util.drawRoundedRectPath(a,l,u,c):a.rect(0,0,l,u),a.closePath(),a.fillStrokeShape(this)}getWidth(){var a,l;return(a=this.attrs.width)!==null&&a!==void 0?a:(l=this.image())===null||l===void 0?void 0:l.width}getHeight(){var a,l;return(a=this.attrs.height)!==null&&a!==void 0?a:(l=this.image())===null||l===void 0?void 0:l.height}static fromURL(a,l,u=null){const c=e.Util.createImageElement();c.onload=function(){const h=new s({image:c});l(h)},c.onerror=u,c.crossOrigin="Anonymous",c.src=a}}return yi.Image=s,s.prototype.className="Image",(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),t.Factory.addGetterSetter(s,"image"),t.Factory.addComponentsGetterSetter(s,"crop",["x","y","width","height"]),t.Factory.addGetterSetter(s,"cropX",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"cropY",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"cropWidth",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"cropHeight",0,(0,r.getNumberValidator)()),yi}var xn={},Al;function Q0(){if(Al)return xn;Al=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.Tag=xn.Label=void 0;const e=ve(),t=tt(),n=na(),i=Se(),r=pe(),s=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],o="Change.konva",a="none",l="up",u="right",c="down",h="left",g=s.length;let d=class extends n.Group{constructor(y){super(y),this.on("add.konva",function(S){this._addListeners(S.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(y){let S=this,p;const f=function(){S._sync()};for(p=0;p<g;p++)y.on(s[p]+o,f)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let y=this.getText(),S=this.getTag(),p,f,b,w,R,I,T;if(y&&S){switch(p=y.width(),f=y.height(),b=S.pointerDirection(),w=S.pointerWidth(),T=S.pointerHeight(),R=0,I=0,b){case l:R=p/2,I=-1*T;break;case u:R=p+w,I=f/2;break;case c:R=p/2,I=f+T;break;case h:R=-1*w,I=f/2;break}S.setAttrs({x:-1*R,y:-1*I,width:p,height:f}),y.setAttrs({x:-1*R,y:-1*I})}}};xn.Label=d,d.prototype.className="Label",(0,r._registerNode)(d);class m extends t.Shape{_sceneFunc(y){const S=this.width(),p=this.height(),f=this.pointerDirection(),b=this.pointerWidth(),w=this.pointerHeight(),R=this.cornerRadius();let I=0,T=0,x=0,E=0;typeof R=="number"?I=T=x=E=Math.min(R,S/2,p/2):(I=Math.min(R[0]||0,S/2,p/2),T=Math.min(R[1]||0,S/2,p/2),E=Math.min(R[2]||0,S/2,p/2),x=Math.min(R[3]||0,S/2,p/2)),y.beginPath(),y.moveTo(I,0),f===l&&(y.lineTo((S-b)/2,0),y.lineTo(S/2,-1*w),y.lineTo((S+b)/2,0)),y.lineTo(S-T,0),y.arc(S-T,T,T,Math.PI*3/2,0,!1),f===u&&(y.lineTo(S,(p-w)/2),y.lineTo(S+b,p/2),y.lineTo(S,(p+w)/2)),y.lineTo(S,p-E),y.arc(S-E,p-E,E,0,Math.PI/2,!1),f===c&&(y.lineTo((S+b)/2,p),y.lineTo(S/2,p+w),y.lineTo((S-b)/2,p)),y.lineTo(x,p),y.arc(x,p-x,x,Math.PI/2,Math.PI,!1),f===h&&(y.lineTo(0,(p+w)/2),y.lineTo(-1*b,p/2),y.lineTo(0,(p-w)/2)),y.lineTo(0,I),y.arc(I,I,I,Math.PI,Math.PI*3/2,!1),y.closePath(),y.fillStrokeShape(this)}getSelfRect(){let y=0,S=0,p=this.pointerWidth(),f=this.pointerHeight(),b=this.pointerDirection(),w=this.width(),R=this.height();return b===l?(S-=f,R+=f):b===c?R+=f:b===h?(y-=p*1.5,w+=p):b===u&&(w+=p*1.5),{x:y,y:S,width:w,height:R}}}return xn.Tag=m,m.prototype.className="Tag",(0,r._registerNode)(m),e.Factory.addGetterSetter(m,"pointerDirection",a),e.Factory.addGetterSetter(m,"pointerWidth",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(m,"pointerHeight",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(m,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),xn}var bi={},kl;function mh(){if(kl)return bi;kl=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.Rect=void 0;const e=ve(),t=tt(),n=pe(),i=He(),r=Se();let s=class extends t.Shape{_sceneFunc(a){const l=this.cornerRadius(),u=this.width(),c=this.height();a.beginPath(),l?i.Util.drawRoundedRectPath(a,u,c,l):a.rect(0,0,u,c),a.closePath(),a.fillStrokeShape(this)}};return bi.Rect=s,s.prototype.className="Rect",(0,n._registerNode)(s),e.Factory.addGetterSetter(s,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),bi}var Si={},Ol;function J0(){if(Ol)return Si;Ol=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.RegularPolygon=void 0;const e=ve(),t=tt(),n=Se(),i=pe();let r=class extends t.Shape{_sceneFunc(o){const a=this._getPoints();o.beginPath(),o.moveTo(a[0].x,a[0].y);for(let l=1;l<a.length;l++)o.lineTo(a[l].x,a[l].y);o.closePath(),o.fillStrokeShape(this)}_getPoints(){const o=this.attrs.sides,a=this.attrs.radius||0,l=[];for(let u=0;u<o;u++)l.push({x:a*Math.sin(u*2*Math.PI/o),y:-1*a*Math.cos(u*2*Math.PI/o)});return l}getSelfRect(){const o=this._getPoints();let a=o[0].x,l=o[0].y,u=o[0].x,c=o[0].y;return o.forEach(h=>{a=Math.min(a,h.x),l=Math.max(l,h.x),u=Math.min(u,h.y),c=Math.max(c,h.y)}),{x:a,y:u,width:l-a,height:c-u}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return Si.RegularPolygon=r,r.prototype.className="RegularPolygon",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(r),e.Factory.addGetterSetter(r,"radius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(r,"sides",0,(0,n.getNumberValidator)()),Si}var Ci={},Ml;function eg(){if(Ml)return Ci;Ml=1,Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.Ring=void 0;const e=ve(),t=tt(),n=Se(),i=pe(),r=Math.PI*2;let s=class extends t.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.innerRadius(),0,r,!1),a.moveTo(this.outerRadius(),0),a.arc(0,0,this.outerRadius(),r,0,!0),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}};return Ci.Ring=s,s.prototype.className="Ring",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(s),e.Factory.addGetterSetter(s,"innerRadius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"outerRadius",0,(0,n.getNumberValidator)()),Ci}var wi={},Fl;function tg(){if(Fl)return wi;Fl=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.Sprite=void 0;const e=ve(),t=tt(),n=ia(),i=Se(),r=pe();let s=class extends t.Shape{constructor(a){super(a),this._updated=!0,this.anim=new n.Animation(()=>{const l=this._updated;return this._updated=!1,l}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(a){const l=this.animation(),u=this.frameIndex(),c=u*4,h=this.animations()[l],g=this.frameOffsets(),d=h[c+0],m=h[c+1],v=h[c+2],y=h[c+3],S=this.image();if((this.hasFill()||this.hasStroke())&&(a.beginPath(),a.rect(0,0,v,y),a.closePath(),a.fillStrokeShape(this)),S)if(g){const p=g[l],f=u*2;a.drawImage(S,d,m,v,y,p[f+0],p[f+1],v,y)}else a.drawImage(S,d,m,v,y,0,0,v,y)}_hitFunc(a){const l=this.animation(),u=this.frameIndex(),c=u*4,h=this.animations()[l],g=this.frameOffsets(),d=h[c+2],m=h[c+3];if(a.beginPath(),g){const v=g[l],y=u*2;a.rect(v[y+0],v[y+1],d,m)}else a.rect(0,0,d,m);a.closePath(),a.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const a=this;this.interval=setInterval(function(){a._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const a=this.getLayer();this.anim.setLayers(a),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const a=this.frameIndex(),l=this.animation(),u=this.animations(),c=u[l],h=c.length/4;a<h-1?this.frameIndex(a+1):this.frameIndex(0)}};return wi.Sprite=s,s.prototype.className="Sprite",(0,r._registerNode)(s),e.Factory.addGetterSetter(s,"animation"),e.Factory.addGetterSetter(s,"animations"),e.Factory.addGetterSetter(s,"frameOffsets"),e.Factory.addGetterSetter(s,"image"),e.Factory.addGetterSetter(s,"frameIndex",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"frameRate",17,(0,i.getNumberValidator)()),e.Factory.backCompat(s,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),wi}var xi={},Ll;function ng(){if(Ll)return xi;Ll=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.Star=void 0;const e=ve(),t=tt(),n=Se(),i=pe();let r=class extends t.Shape{_sceneFunc(o){const a=this.innerRadius(),l=this.outerRadius(),u=this.numPoints();o.beginPath(),o.moveTo(0,0-l);for(let c=1;c<u*2;c++){const h=c%2===0?l:a,g=h*Math.sin(c*Math.PI/u),d=-1*h*Math.cos(c*Math.PI/u);o.lineTo(g,d)}o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return xi.Star=r,r.prototype.className="Star",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(r),e.Factory.addGetterSetter(r,"numPoints",5,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(r,"innerRadius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(r,"outerRadius",0,(0,n.getNumberValidator)()),xi}var Mn={},Il;function ph(){if(Il)return Mn;Il=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.Text=void 0,Mn.stringToArray=o;const e=He(),t=ve(),n=tt(),i=pe(),r=Se(),s=pe();function o(X){return[...X].reduce((q,Q,ne,se)=>{if(new RegExp("\\p{Emoji}","u").test(Q)){const P=se[ne+1];P&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(P)?(q.push(Q+P),se[ne+1]=""):q.push(Q)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(Q+(se[ne+1]||""))?q.push(Q+se[ne+1]):ne>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(Q)?q[q.length-1]+=Q:Q&&q.push(Q);return q},[])}const a="auto",l="center",u="inherit",c="justify",h="Change.konva",g="2d",d="-",m="left",v="text",y="Text",S="top",p="bottom",f="middle",b="normal",w="px ",R=" ",I="right",T="rtl",x="word",E="char",A="none",M="…",_=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],k=_.length;function C(X){return X.split(",").map(q=>{q=q.trim();const Q=q.indexOf(" ")>=0,ne=q.indexOf('"')>=0||q.indexOf("'")>=0;return Q&&!ne&&(q=`"${q}"`),q}).join(", ")}let O;function L(){return O||(O=e.Util.createCanvasElement().getContext(g),O)}function B(X){X.fillText(this._partialText,this._partialTextX,this._partialTextY)}function W(X){X.setAttr("miterLimit",2),X.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function z(X){return X=X||{},!X.fillLinearGradientColorStops&&!X.fillRadialGradientColorStops&&!X.fillPatternImage&&(X.fill=X.fill||"black"),X}let $=class extends n.Shape{constructor(q){super(z(q)),this._partialTextX=0,this._partialTextY=0;for(let Q=0;Q<k;Q++)this.on(_[Q]+h,this._setTextData);this._setTextData()}_sceneFunc(q){const Q=this.textArr,ne=Q.length;if(!this.text())return;let se=this.padding(),P=this.fontSize(),D=this.lineHeight()*P,V=this.verticalAlign(),j=this.direction(),Z=0,F=this.align(),N=this.getWidth(),G=this.letterSpacing(),H=this.fill(),Y=this.textDecoration(),K=Y.indexOf("underline")!==-1,ee=Y.indexOf("line-through")!==-1,ie;j=j===u?q.direction:j;let te=D/2,J=f;if(i.Konva._fixTextRendering){const Ge=this.measureSize("M");J="alphabetic",te=(Ge.fontBoundingBoxAscent-Ge.fontBoundingBoxDescent)/2+D/2}var oe=0,re=0;for(j===T&&q.setAttr("direction",j),q.setAttr("font",this._getContextFont()),q.setAttr("textBaseline",J),q.setAttr("textAlign",m),V===f?Z=(this.getHeight()-ne*D-se*2)/2:V===p&&(Z=this.getHeight()-ne*D-se*2),q.translate(se,Z+se),ie=0;ie<ne;ie++){var oe=0,re=0,le=Q[ie],ce=le.text,de=le.width,Ce=le.lastInParagraph,me,ze;if(q.save(),F===I?oe+=N-de-se*2:F===l&&(oe+=(N-de-se*2)/2),K){q.save(),q.beginPath();const je=i.Konva._fixTextRendering?Math.round(P/4):Math.round(P/2),ot=oe,pt=te+re+je;q.moveTo(ot,pt),me=ce.split(" ").length-1,ze=F===c&&!Ce?N-se*2:de,q.lineTo(ot+Math.round(ze),pt),q.lineWidth=P/15;const nt=this._getLinearGradient();q.strokeStyle=nt||H,q.stroke(),q.restore()}if(ee){q.save(),q.beginPath();const je=i.Konva._fixTextRendering?-Math.round(P/4):0;q.moveTo(oe,te+re+je),me=ce.split(" ").length-1,ze=F===c&&!Ce?N-se*2:de,q.lineTo(oe+Math.round(ze),te+re+je),q.lineWidth=P/15;const ot=this._getLinearGradient();q.strokeStyle=ot||H,q.stroke(),q.restore()}if(j!==T&&(G!==0||F===c)){me=ce.split(" ").length-1;const je=o(ce);for(let ot=0;ot<je.length;ot++){const pt=je[ot];pt===" "&&!Ce&&F===c&&(oe+=(N-se*2-de)/me),this._partialTextX=oe,this._partialTextY=te+re,this._partialText=pt,q.fillStrokeShape(this),oe+=this.measureSize(pt).width+G}}else G!==0&&q.setAttr("letterSpacing",`${G}px`),this._partialTextX=oe,this._partialTextY=te+re,this._partialText=ce,q.fillStrokeShape(this);q.restore(),ne>1&&(te+=D)}}_hitFunc(q){const Q=this.getWidth(),ne=this.getHeight();q.beginPath(),q.rect(0,0,Q,ne),q.closePath(),q.fillStrokeShape(this)}setText(q){const Q=e.Util._isString(q)?q:q==null?"":q+"";return this._setAttr(v,Q),this}getWidth(){return this.attrs.width===a||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===a||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(q){var Q,ne,se,P,D,V,j,Z,F,N,G;let H=L(),Y=this.fontSize(),K;H.save(),H.font=this._getContextFont(),K=H.measureText(q),H.restore();const ee=Y/100;return{actualBoundingBoxAscent:(Q=K.actualBoundingBoxAscent)!==null&&Q!==void 0?Q:71.58203125*ee,actualBoundingBoxDescent:(ne=K.actualBoundingBoxDescent)!==null&&ne!==void 0?ne:0,actualBoundingBoxLeft:(se=K.actualBoundingBoxLeft)!==null&&se!==void 0?se:-7.421875*ee,actualBoundingBoxRight:(P=K.actualBoundingBoxRight)!==null&&P!==void 0?P:75.732421875*ee,alphabeticBaseline:(D=K.alphabeticBaseline)!==null&&D!==void 0?D:0,emHeightAscent:(V=K.emHeightAscent)!==null&&V!==void 0?V:100*ee,emHeightDescent:(j=K.emHeightDescent)!==null&&j!==void 0?j:-20*ee,fontBoundingBoxAscent:(Z=K.fontBoundingBoxAscent)!==null&&Z!==void 0?Z:91*ee,fontBoundingBoxDescent:(F=K.fontBoundingBoxDescent)!==null&&F!==void 0?F:21*ee,hangingBaseline:(N=K.hangingBaseline)!==null&&N!==void 0?N:72.80000305175781*ee,ideographicBaseline:(G=K.ideographicBaseline)!==null&&G!==void 0?G:-21*ee,width:K.width,height:Y}}_getContextFont(){return this.fontStyle()+R+this.fontVariant()+R+(this.fontSize()+w)+C(this.fontFamily())}_addTextLine(q){this.align()===c&&(q=q.trim());const ne=this._getTextWidth(q);return this.textArr.push({text:q,width:ne,lastInParagraph:!1})}_getTextWidth(q){const Q=this.letterSpacing(),ne=q.length;return L().measureText(q).width+Q*ne}_setTextData(){let q=this.text().split(`
`),Q=+this.fontSize(),ne=0,se=this.lineHeight()*Q,P=this.attrs.width,D=this.attrs.height,V=P!==a&&P!==void 0,j=D!==a&&D!==void 0,Z=this.padding(),F=P-Z*2,N=D-Z*2,G=0,H=this.wrap(),Y=H!==A,K=H!==E&&Y,ee=this.ellipsis();this.textArr=[],L().font=this._getContextFont();const ie=ee?this._getTextWidth(M):0;for(let te=0,J=q.length;te<J;++te){let oe=q[te],re=this._getTextWidth(oe);if(V&&re>F)for(;oe.length>0;){let le=0,ce=o(oe).length,de="",Ce=0;for(;le<ce;){const me=le+ce>>>1,ze=o(oe),Ge=ze.slice(0,me+1).join(""),Ze=this._getTextWidth(Ge)+ie;Ze<=F?(le=me+1,de=Ge,Ce=Ze):ce=me}if(de){if(K){const Ge=o(oe),Ze=o(de),je=Ge[Ze.length],ot=je===R||je===d;let pt;if(ot&&Ce<=F)pt=Ze.length;else{const nt=Ze.lastIndexOf(R),Rt=Ze.lastIndexOf(d);pt=Math.max(nt,Rt)+1}pt>0&&(le=pt,de=Ge.slice(0,le).join(""),Ce=this._getTextWidth(de))}if(de=de.trimRight(),this._addTextLine(de),ne=Math.max(ne,Ce),G+=se,this._shouldHandleEllipsis(G)){this._tryToAddEllipsisToLastLine();break}if(oe=o(oe).slice(le).join("").trimLeft(),oe.length>0&&(re=this._getTextWidth(oe),re<=F)){this._addTextLine(oe),G+=se,ne=Math.max(ne,re);break}}else break}else this._addTextLine(oe),G+=se,ne=Math.max(ne,re),this._shouldHandleEllipsis(G)&&te<J-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),j&&G+se>N)break}this.textHeight=Q,this.textWidth=ne}_shouldHandleEllipsis(q){const Q=+this.fontSize(),ne=this.lineHeight()*Q,se=this.attrs.height,P=se!==a&&se!==void 0,D=this.padding(),V=se-D*2;return!(this.wrap()!==A)||P&&q+ne>V}_tryToAddEllipsisToLastLine(){const q=this.attrs.width,Q=q!==a&&q!==void 0,ne=this.padding(),se=q-ne*2,P=this.ellipsis(),D=this.textArr[this.textArr.length-1];!D||!P||(Q&&(this._getTextWidth(D.text+M)<se||(D.text=D.text.slice(0,D.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(D.text+M))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const q=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,Q=this.hasShadow();return q&&Q?!0:super._useBufferCanvas()}};return Mn.Text=$,$.prototype._fillFunc=B,$.prototype._strokeFunc=W,$.prototype.className=y,$.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,s._registerNode)($),t.Factory.overWriteSetter($,"width",(0,r.getNumberOrAutoValidator)()),t.Factory.overWriteSetter($,"height",(0,r.getNumberOrAutoValidator)()),t.Factory.addGetterSetter($,"direction",u),t.Factory.addGetterSetter($,"fontFamily","Arial"),t.Factory.addGetterSetter($,"fontSize",12,(0,r.getNumberValidator)()),t.Factory.addGetterSetter($,"fontStyle",b),t.Factory.addGetterSetter($,"fontVariant",b),t.Factory.addGetterSetter($,"padding",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter($,"align",m),t.Factory.addGetterSetter($,"verticalAlign",S),t.Factory.addGetterSetter($,"lineHeight",1,(0,r.getNumberValidator)()),t.Factory.addGetterSetter($,"wrap",x),t.Factory.addGetterSetter($,"ellipsis",!1,(0,r.getBooleanValidator)()),t.Factory.addGetterSetter($,"letterSpacing",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter($,"text","",(0,r.getStringValidator)()),t.Factory.addGetterSetter($,"textDecoration",""),Mn}var Pi={},Nl;function ig(){if(Nl)return Pi;Nl=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.TextPath=void 0;const e=He(),t=ve(),n=tt(),i=ra(),r=ph(),s=Se(),o=pe(),a="",l="normal";function u(g){g.fillText(this.partialText,0,0)}function c(g){g.strokeText(this.partialText,0,0)}let h=class extends n.Shape{constructor(d){super(d),this.dummyCanvas=e.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return i.Path.getPathLength(this.dataArray)}_getPointAtLength(d){if(!this.attrs.data)return null;const m=this.pathLength;return d-1>m?null:i.Path.getPointAtLengthOfDataArray(d,this.dataArray)}_readDataAttribute(){this.dataArray=i.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(d){d.setAttr("font",this._getContextFont()),d.setAttr("textBaseline",this.textBaseline()),d.setAttr("textAlign","left"),d.save();const m=this.textDecoration(),v=this.fill(),y=this.fontSize(),S=this.glyphInfo;m==="underline"&&d.beginPath();for(let p=0;p<S.length;p++){d.save();const f=S[p].p0;d.translate(f.x,f.y),d.rotate(S[p].rotation),this.partialText=S[p].text,d.fillStrokeShape(this),m==="underline"&&(p===0&&d.moveTo(0,y/2+1),d.lineTo(y,y/2+1)),d.restore()}m==="underline"&&(d.strokeStyle=v,d.lineWidth=y/20,d.stroke()),d.restore()}_hitFunc(d){d.beginPath();const m=this.glyphInfo;if(m.length>=1){const v=m[0].p0;d.moveTo(v.x,v.y)}for(let v=0;v<m.length;v++){const y=m[v].p1;d.lineTo(y.x,y.y)}d.setAttr("lineWidth",this.fontSize()),d.setAttr("strokeStyle",this.colorKey),d.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(d){return r.Text.prototype.setText.call(this,d)}_getContextFont(){return r.Text.prototype._getContextFont.call(this)}_getTextSize(d){const v=this.dummyCanvas.getContext("2d");v.save(),v.font=this._getContextFont();const y=v.measureText(d);return v.restore(),{width:y.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:d,height:m}=this._getTextSize(this.attrs.text);if(this.textWidth=d,this.textHeight=m,this.glyphInfo=[],!this.attrs.data)return null;const v=this.letterSpacing(),y=this.align(),S=this.kerningFunc(),p=Math.max(this.textWidth+((this.attrs.text||"").length-1)*v,0);let f=0;y==="center"&&(f=Math.max(0,this.pathLength/2-p/2)),y==="right"&&(f=Math.max(0,this.pathLength-p));const b=(0,r.stringToArray)(this.text());let w=f;for(let R=0;R<b.length;R++){const I=this._getPointAtLength(w);if(!I)return;let T=this._getTextSize(b[R]).width+v;if(b[R]===" "&&y==="justify"){const k=this.text().split(" ").length-1;T+=(this.pathLength-p)/k}const x=this._getPointAtLength(w+T);if(!x)return;const E=i.Path.getLineLength(I.x,I.y,x.x,x.y);let A=0;if(S)try{A=S(b[R-1],b[R])*this.fontSize()}catch{A=0}I.x+=A,x.x+=A,this.textWidth+=A;const M=i.Path.getPointOnLine(A+E/2,I.x,I.y,x.x,x.y),_=Math.atan2(x.y-I.y,x.x-I.x);this.glyphInfo.push({transposeX:M.x,transposeY:M.y,text:b[R],rotation:_,p0:I,p1:x}),w+=T}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const d=[];this.glyphInfo.forEach(function(w){d.push(w.p0.x),d.push(w.p0.y),d.push(w.p1.x),d.push(w.p1.y)});let m=d[0]||0,v=d[0]||0,y=d[1]||0,S=d[1]||0,p,f;for(let w=0;w<d.length/2;w++)p=d[w*2],f=d[w*2+1],m=Math.min(m,p),v=Math.max(v,p),y=Math.min(y,f),S=Math.max(S,f);const b=this.fontSize();return{x:m-b/2,y:y-b/2,width:v-m+b,height:S-y+b}}destroy(){return e.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Pi.TextPath=h,h.prototype._fillFunc=u,h.prototype._strokeFunc=c,h.prototype._fillFuncHit=u,h.prototype._strokeFuncHit=c,h.prototype.className="TextPath",h.prototype._attrsAffectingSize=["text","fontSize","data"],(0,o._registerNode)(h),t.Factory.addGetterSetter(h,"data"),t.Factory.addGetterSetter(h,"fontFamily","Arial"),t.Factory.addGetterSetter(h,"fontSize",12,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(h,"fontStyle",l),t.Factory.addGetterSetter(h,"align","left"),t.Factory.addGetterSetter(h,"letterSpacing",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(h,"textBaseline","middle"),t.Factory.addGetterSetter(h,"fontVariant",l),t.Factory.addGetterSetter(h,"text",a),t.Factory.addGetterSetter(h,"textDecoration",""),t.Factory.addGetterSetter(h,"kerningFunc",void 0),Pi}var Ti={},Dl;function rg(){if(Dl)return Ti;Dl=1,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.Transformer=void 0;const e=He(),t=ve(),n=qe(),i=tt(),r=mh(),s=na(),o=pe(),a=Se(),l=pe(),u="tr-konva",c=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(T=>T+`.${u}`).join(" "),h="nodesRect",g=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],d={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},m="ontouchstart"in o.Konva._global;function v(T,x,E){if(T==="rotater")return E;x+=e.Util.degToRad(d[T]||0);const A=(e.Util.radToDeg(x)%360+360)%360;return e.Util._inRange(A,315+22.5,360)||e.Util._inRange(A,0,22.5)?"ns-resize":e.Util._inRange(A,45-22.5,45+22.5)?"nesw-resize":e.Util._inRange(A,90-22.5,90+22.5)?"ew-resize":e.Util._inRange(A,135-22.5,135+22.5)?"nwse-resize":e.Util._inRange(A,180-22.5,180+22.5)?"ns-resize":e.Util._inRange(A,225-22.5,225+22.5)?"nesw-resize":e.Util._inRange(A,270-22.5,270+22.5)?"ew-resize":e.Util._inRange(A,315-22.5,315+22.5)?"nwse-resize":(e.Util.error("Transformer has unknown angle for cursor detection: "+A),"pointer")}const y=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function S(T){return{x:T.x+T.width/2*Math.cos(T.rotation)+T.height/2*Math.sin(-T.rotation),y:T.y+T.height/2*Math.cos(T.rotation)+T.width/2*Math.sin(T.rotation)}}function p(T,x,E){const A=E.x+(T.x-E.x)*Math.cos(x)-(T.y-E.y)*Math.sin(x),M=E.y+(T.x-E.x)*Math.sin(x)+(T.y-E.y)*Math.cos(x);return{...T,rotation:T.rotation+x,x:A,y:M}}function f(T,x){const E=S(T);return p(T,x,E)}function b(T,x,E){let A=x;for(let M=0;M<T.length;M++){const _=o.Konva.getAngle(T[M]),k=Math.abs(_-x)%(Math.PI*2);Math.min(k,Math.PI*2-k)<E&&(A=_)}return A}let w=0,R=class extends s.Group{constructor(x){super(x),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(c,this.update),this.getNode()&&this.update()}attachTo(x){return this.setNode(x),this}setNode(x){return e.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([x])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return u+this._id}setNodes(x=[]){this._nodes&&this._nodes.length&&this.detach();const E=x.filter(M=>M.isAncestorOf(this)?(e.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=x=E,x.length===1&&this.useSingleNodeRotation()?this.rotation(x[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(M=>{const _=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(M._attrsAffectingSize.length){const k=M._attrsAffectingSize.map(C=>C+"Change."+this._getEventNamespace()).join(" ");M.on(k,_)}M.on(g.map(k=>k+`.${this._getEventNamespace()}`).join(" "),_),M.on(`absoluteTransformChange.${this._getEventNamespace()}`,_),this._proxyDrag(M)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(x){let E;x.on(`dragstart.${this._getEventNamespace()}`,A=>{E=x.getAbsolutePosition(),!this.isDragging()&&x!==this.findOne(".back")&&this.startDrag(A,!1)}),x.on(`dragmove.${this._getEventNamespace()}`,A=>{if(!E)return;const M=x.getAbsolutePosition(),_=M.x-E.x,k=M.y-E.y;this.nodes().forEach(C=>{if(C===x||C.isDragging())return;const O=C.getAbsolutePosition();C.setAbsolutePosition({x:O.x+_,y:O.y+k}),C.startDrag(A)}),E=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(x=>{x.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(h),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(h,this.__getNodeRect)}__getNodeShape(x,E=this.rotation(),A){const M=x.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),_=x.getAbsoluteScale(A),k=x.getAbsolutePosition(A),C=M.x*_.x-x.offsetX()*_.x,O=M.y*_.y-x.offsetY()*_.y,L=(o.Konva.getAngle(x.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),B={x:k.x+C*Math.cos(L)+O*Math.sin(-L),y:k.y+O*Math.cos(L)+C*Math.sin(L),width:M.width*_.x,height:M.height*_.y,rotation:L};return p(B,-o.Konva.getAngle(E),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const E=[];this.nodes().map(L=>{const B=L.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),W=[{x:B.x,y:B.y},{x:B.x+B.width,y:B.y},{x:B.x+B.width,y:B.y+B.height},{x:B.x,y:B.y+B.height}],z=L.getAbsoluteTransform();W.forEach(function($){const X=z.point($);E.push(X)})});const A=new e.Transform;A.rotate(-o.Konva.getAngle(this.rotation()));let M=1/0,_=1/0,k=-1/0,C=-1/0;E.forEach(function(L){const B=A.point(L);M===void 0&&(M=k=B.x,_=C=B.y),M=Math.min(M,B.x),_=Math.min(_,B.y),k=Math.max(k,B.x),C=Math.max(C,B.y)}),A.invert();const O=A.point({x:M,y:_});return{x:O.x,y:O.y,width:k-M,height:C-_,rotation:o.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),y.forEach(x=>{this._createAnchor(x)}),this._createAnchor("rotater")}_createAnchor(x){const E=new r.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:x+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:m?10:"auto"}),A=this;E.on("mousedown touchstart",function(M){A._handleMouseDown(M)}),E.on("dragstart",M=>{E.stopDrag(),M.cancelBubble=!0}),E.on("dragend",M=>{M.cancelBubble=!0}),E.on("mouseenter",()=>{const M=o.Konva.getAngle(this.rotation()),_=this.rotateAnchorCursor(),k=v(x,M,_);E.getStage().content&&(E.getStage().content.style.cursor=k),this._cursorChange=!0}),E.on("mouseout",()=>{E.getStage().content&&(E.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(E)}_createBack(){const x=new i.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(E,A){const M=A.getParent(),_=M.padding();E.beginPath(),E.rect(-_,-_,A.width()+_*2,A.height()+_*2),E.moveTo(A.width()/2,-_),M.rotateEnabled()&&M.rotateLineVisible()&&E.lineTo(A.width()/2,-M.rotateAnchorOffset()*e.Util._sign(A.height())-_),E.fillStrokeShape(A)},hitFunc:(E,A)=>{if(!this.shouldOverdrawWholeArea())return;const M=this.padding();E.beginPath(),E.rect(-M,-M,A.width()+M*2,A.height()+M*2),E.fillStrokeShape(A)}});this.add(x),this._proxyDrag(x),x.on("dragstart",E=>{E.cancelBubble=!0}),x.on("dragmove",E=>{E.cancelBubble=!0}),x.on("dragend",E=>{E.cancelBubble=!0}),this.on("dragmove",E=>{this.update()})}_handleMouseDown(x){if(this._transforming)return;this._movingAnchorName=x.target.name().split(" ")[0];const E=this._getNodeRect(),A=E.width,M=E.height,_=Math.sqrt(Math.pow(A,2)+Math.pow(M,2));this.sin=Math.abs(M/_),this.cos=Math.abs(A/_),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const k=x.target.getAbsolutePosition(),C=x.target.getStage().getPointerPosition();this._anchorDragOffset={x:C.x-k.x,y:C.y-k.y},w++,this._fire("transformstart",{evt:x.evt,target:this.getNode()}),this._nodes.forEach(O=>{O._fire("transformstart",{evt:x.evt,target:O})})}_handleMouseMove(x){let E,A,M;const _=this.findOne("."+this._movingAnchorName),k=_.getStage();k.setPointersPositions(x);const C=k.getPointerPosition();let O={x:C.x-this._anchorDragOffset.x,y:C.y-this._anchorDragOffset.y};const L=_.getAbsolutePosition();this.anchorDragBoundFunc()&&(O=this.anchorDragBoundFunc()(L,O,x)),_.setAbsolutePosition(O);const B=_.getAbsolutePosition();if(L.x===B.x&&L.y===B.y)return;if(this._movingAnchorName==="rotater"){const V=this._getNodeRect();E=_.x()-V.width/2,A=-_.y()+V.height/2;let j=Math.atan2(-A,E)+Math.PI/2;V.height<0&&(j-=Math.PI);const F=o.Konva.getAngle(this.rotation())+j,N=o.Konva.getAngle(this.rotationSnapTolerance()),H=b(this.rotationSnaps(),F,N)-V.rotation,Y=f(V,H);this._fitNodesInto(Y,x);return}const W=this.shiftBehavior();let z;W==="inverted"?z=this.keepRatio()&&!x.shiftKey:W==="none"?z=this.keepRatio():z=this.keepRatio()||x.shiftKey;var ne=this.centeredScaling()||x.altKey;if(this._movingAnchorName==="top-left"){if(z){var $=ne?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};M=Math.sqrt(Math.pow($.x-_.x(),2)+Math.pow($.y-_.y(),2));var X=this.findOne(".top-left").x()>$.x?-1:1,q=this.findOne(".top-left").y()>$.y?-1:1;E=M*this.cos*X,A=M*this.sin*q,this.findOne(".top-left").x($.x-E),this.findOne(".top-left").y($.y-A)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(_.y());else if(this._movingAnchorName==="top-right"){if(z){var $=ne?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};M=Math.sqrt(Math.pow(_.x()-$.x,2)+Math.pow($.y-_.y(),2));var X=this.findOne(".top-right").x()<$.x?-1:1,q=this.findOne(".top-right").y()>$.y?-1:1;E=M*this.cos*X,A=M*this.sin*q,this.findOne(".top-right").x($.x+E),this.findOne(".top-right").y($.y-A)}var Q=_.position();this.findOne(".top-left").y(Q.y),this.findOne(".bottom-right").x(Q.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(_.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(_.x());else if(this._movingAnchorName==="bottom-left"){if(z){var $=ne?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};M=Math.sqrt(Math.pow($.x-_.x(),2)+Math.pow(_.y()-$.y,2));var X=$.x<_.x()?-1:1,q=_.y()<$.y?-1:1;E=M*this.cos*X,A=M*this.sin*q,_.x($.x-E),_.y($.y+A)}Q=_.position(),this.findOne(".top-left").x(Q.x),this.findOne(".bottom-right").y(Q.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(_.y());else if(this._movingAnchorName==="bottom-right"){if(z){var $=ne?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};M=Math.sqrt(Math.pow(_.x()-$.x,2)+Math.pow(_.y()-$.y,2));var X=this.findOne(".bottom-right").x()<$.x?-1:1,q=this.findOne(".bottom-right").y()<$.y?-1:1;E=M*this.cos*X,A=M*this.sin*q,this.findOne(".bottom-right").x($.x+E),this.findOne(".bottom-right").y($.y+A)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var ne=this.centeredScaling()||x.altKey;if(ne){const V=this.findOne(".top-left"),j=this.findOne(".bottom-right"),Z=V.x(),F=V.y(),N=this.getWidth()-j.x(),G=this.getHeight()-j.y();j.move({x:-Z,y:-F}),V.move({x:N,y:G})}const se=this.findOne(".top-left").getAbsolutePosition();E=se.x,A=se.y;const P=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),D=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:E,y:A,width:P,height:D,rotation:o.Konva.getAngle(this.rotation())},x)}_handleMouseUp(x){this._removeEvents(x)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(x){var E;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const A=this.getNode();w--,this._fire("transformend",{evt:x,target:A}),(E=this.getLayer())===null||E===void 0||E.batchDraw(),A&&this._nodes.forEach(M=>{var _;M._fire("transformend",{evt:x,target:M}),(_=M.getLayer())===null||_===void 0||_.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(x,E){const A=this._getNodeRect(),M=1;if(e.Util._inRange(x.width,-this.padding()*2-M,M)){this.update();return}if(e.Util._inRange(x.height,-this.padding()*2-M,M)){this.update();return}const _=new e.Transform;if(_.rotate(o.Konva.getAngle(this.rotation())),this._movingAnchorName&&x.width<0&&this._movingAnchorName.indexOf("left")>=0){const z=_.point({x:-this.padding()*2,y:0});x.x+=z.x,x.y+=z.y,x.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=z.x,this._anchorDragOffset.y-=z.y}else if(this._movingAnchorName&&x.width<0&&this._movingAnchorName.indexOf("right")>=0){const z=_.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=z.x,this._anchorDragOffset.y-=z.y,x.width+=this.padding()*2}if(this._movingAnchorName&&x.height<0&&this._movingAnchorName.indexOf("top")>=0){const z=_.point({x:0,y:-this.padding()*2});x.x+=z.x,x.y+=z.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=z.x,this._anchorDragOffset.y-=z.y,x.height+=this.padding()*2}else if(this._movingAnchorName&&x.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const z=_.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=z.x,this._anchorDragOffset.y-=z.y,x.height+=this.padding()*2}if(this.boundBoxFunc()){const z=this.boundBoxFunc()(A,x);z?x=z:e.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const k=1e7,C=new e.Transform;C.translate(A.x,A.y),C.rotate(A.rotation),C.scale(A.width/k,A.height/k);const O=new e.Transform,L=x.width/k,B=x.height/k;this.flipEnabled()===!1?(O.translate(x.x,x.y),O.rotate(x.rotation),O.translate(x.width<0?x.width:0,x.height<0?x.height:0),O.scale(Math.abs(L),Math.abs(B))):(O.translate(x.x,x.y),O.rotate(x.rotation),O.scale(L,B));const W=O.multiply(C.invert());this._nodes.forEach(z=>{var $;const X=z.getParent().getAbsoluteTransform(),q=z.getTransform().copy();q.translate(z.offsetX(),z.offsetY());const Q=new e.Transform;Q.multiply(X.copy().invert()).multiply(W).multiply(X).multiply(q);const ne=Q.decompose();z.setAttrs(ne),($=z.getLayer())===null||$===void 0||$.batchDraw()}),this.rotation(e.Util._getRotation(x.rotation)),this._nodes.forEach(z=>{this._fire("transform",{evt:E,target:z}),z._fire("transform",{evt:E,target:z})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(x,E){this.findOne(x).setAttrs(E)}update(){var x;const E=this._getNodeRect();this.rotation(e.Util._getRotation(E.rotation));const A=E.width,M=E.height,_=this.enabledAnchors(),k=this.resizeEnabled(),C=this.padding(),O=this.anchorSize(),L=this.find("._anchor");L.forEach(W=>{W.setAttrs({width:O,height:O,offsetX:O/2,offsetY:O/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:O/2+C,offsetY:O/2+C,visible:k&&_.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:A/2,y:0,offsetY:O/2+C,visible:k&&_.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:A,y:0,offsetX:O/2-C,offsetY:O/2+C,visible:k&&_.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:M/2,offsetX:O/2+C,visible:k&&_.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:A,y:M/2,offsetX:O/2-C,visible:k&&_.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:M,offsetX:O/2+C,offsetY:O/2-C,visible:k&&_.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:A/2,y:M,offsetY:O/2-C,visible:k&&_.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:A,y:M,offsetX:O/2-C,offsetY:O/2-C,visible:k&&_.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:A/2,y:-this.rotateAnchorOffset()*e.Util._sign(M)-C,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:A,height:M,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const B=this.anchorStyleFunc();B&&L.forEach(W=>{B(W)}),(x=this.getLayer())===null||x===void 0||x.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const x=this.findOne("."+this._movingAnchorName);x&&x.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),s.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return n.Node.prototype.toObject.call(this)}clone(x){return n.Node.prototype.clone.call(this,x)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Ti.Transformer=R,R.isTransforming=()=>w>0;function I(T){return T instanceof Array||e.Util.warn("enabledAnchors value should be an array"),T instanceof Array&&T.forEach(function(x){y.indexOf(x)===-1&&e.Util.warn("Unknown anchor name: "+x+". Available names are: "+y.join(", "))}),T||[]}return R.prototype.className="Transformer",(0,l._registerNode)(R),t.Factory.addGetterSetter(R,"enabledAnchors",y,I),t.Factory.addGetterSetter(R,"flipEnabled",!0,(0,a.getBooleanValidator)()),t.Factory.addGetterSetter(R,"resizeEnabled",!0),t.Factory.addGetterSetter(R,"anchorSize",10,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(R,"rotateEnabled",!0),t.Factory.addGetterSetter(R,"rotateLineVisible",!0),t.Factory.addGetterSetter(R,"rotationSnaps",[]),t.Factory.addGetterSetter(R,"rotateAnchorOffset",50,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(R,"rotateAnchorCursor","crosshair"),t.Factory.addGetterSetter(R,"rotationSnapTolerance",5,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(R,"borderEnabled",!0),t.Factory.addGetterSetter(R,"anchorStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(R,"anchorStrokeWidth",1,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(R,"anchorFill","white"),t.Factory.addGetterSetter(R,"anchorCornerRadius",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(R,"borderStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(R,"borderStrokeWidth",1,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(R,"borderDash"),t.Factory.addGetterSetter(R,"keepRatio",!0),t.Factory.addGetterSetter(R,"shiftBehavior","default"),t.Factory.addGetterSetter(R,"centeredScaling",!1),t.Factory.addGetterSetter(R,"ignoreStroke",!1),t.Factory.addGetterSetter(R,"padding",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(R,"nodes"),t.Factory.addGetterSetter(R,"node"),t.Factory.addGetterSetter(R,"boundBoxFunc"),t.Factory.addGetterSetter(R,"anchorDragBoundFunc"),t.Factory.addGetterSetter(R,"anchorStyleFunc"),t.Factory.addGetterSetter(R,"shouldOverdrawWholeArea",!1),t.Factory.addGetterSetter(R,"useSingleNodeRotation",!0),t.Factory.backCompat(R,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Ti}var Ei={},Bl;function sg(){if(Bl)return Ei;Bl=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.Wedge=void 0;const e=ve(),t=tt(),n=pe(),i=Se(),r=pe();let s=class extends t.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.radius(),0,n.Konva.getAngle(this.angle()),this.clockwise()),a.lineTo(0,0),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius(a/2)}setHeight(a){this.radius(a/2)}};return Ei.Wedge=s,s.prototype.className="Wedge",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(s),e.Factory.addGetterSetter(s,"radius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"angle",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"clockwise",!1),e.Factory.backCompat(s,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Ei}var Ri={},Gl;function og(){if(Gl)return Ri;Gl=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.Blur=void 0;const e=ve(),t=qe(),n=Se();function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const r=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],s=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function o(l,u){const c=l.data,h=l.width,g=l.height;let d,m,v,y,S,p,f,b,w,R,I,T,x,E,A,M,_,k,C,O,L,B,W,z;const $=u+u+1,X=h-1,q=g-1,Q=u+1,ne=Q*(Q+1)/2,se=new i,P=r[u],D=s[u];let V=null,j=se,Z=null,F=null;for(v=1;v<$;v++)j=j.next=new i,v===Q&&(V=j);for(j.next=se,f=p=0,m=0;m<g;m++){for(M=_=k=C=b=w=R=I=0,T=Q*(O=c[p]),x=Q*(L=c[p+1]),E=Q*(B=c[p+2]),A=Q*(W=c[p+3]),b+=ne*O,w+=ne*L,R+=ne*B,I+=ne*W,j=se,v=0;v<Q;v++)j.r=O,j.g=L,j.b=B,j.a=W,j=j.next;for(v=1;v<Q;v++)y=p+((X<v?X:v)<<2),b+=(j.r=O=c[y])*(z=Q-v),w+=(j.g=L=c[y+1])*z,R+=(j.b=B=c[y+2])*z,I+=(j.a=W=c[y+3])*z,M+=O,_+=L,k+=B,C+=W,j=j.next;for(Z=se,F=V,d=0;d<h;d++)c[p+3]=W=I*P>>D,W!==0?(W=255/W,c[p]=(b*P>>D)*W,c[p+1]=(w*P>>D)*W,c[p+2]=(R*P>>D)*W):c[p]=c[p+1]=c[p+2]=0,b-=T,w-=x,R-=E,I-=A,T-=Z.r,x-=Z.g,E-=Z.b,A-=Z.a,y=f+((y=d+u+1)<X?y:X)<<2,M+=Z.r=c[y],_+=Z.g=c[y+1],k+=Z.b=c[y+2],C+=Z.a=c[y+3],b+=M,w+=_,R+=k,I+=C,Z=Z.next,T+=O=F.r,x+=L=F.g,E+=B=F.b,A+=W=F.a,M-=O,_-=L,k-=B,C-=W,F=F.next,p+=4;f+=h}for(d=0;d<h;d++){for(_=k=C=M=w=R=I=b=0,p=d<<2,T=Q*(O=c[p]),x=Q*(L=c[p+1]),E=Q*(B=c[p+2]),A=Q*(W=c[p+3]),b+=ne*O,w+=ne*L,R+=ne*B,I+=ne*W,j=se,v=0;v<Q;v++)j.r=O,j.g=L,j.b=B,j.a=W,j=j.next;for(S=h,v=1;v<=u;v++)p=S+d<<2,b+=(j.r=O=c[p])*(z=Q-v),w+=(j.g=L=c[p+1])*z,R+=(j.b=B=c[p+2])*z,I+=(j.a=W=c[p+3])*z,M+=O,_+=L,k+=B,C+=W,j=j.next,v<q&&(S+=h);for(p=d,Z=se,F=V,m=0;m<g;m++)y=p<<2,c[y+3]=W=I*P>>D,W>0?(W=255/W,c[y]=(b*P>>D)*W,c[y+1]=(w*P>>D)*W,c[y+2]=(R*P>>D)*W):c[y]=c[y+1]=c[y+2]=0,b-=T,w-=x,R-=E,I-=A,T-=Z.r,x-=Z.g,E-=Z.b,A-=Z.a,y=d+((y=m+Q)<q?y:q)*h<<2,b+=M+=Z.r=c[y],w+=_+=Z.g=c[y+1],R+=k+=Z.b=c[y+2],I+=C+=Z.a=c[y+3],Z=Z.next,T+=O=F.r,x+=L=F.g,E+=B=F.b,A+=W=F.a,M-=O,_-=L,k-=B,C-=W,F=F.next,p+=h}}const a=function(u){const c=Math.round(this.blurRadius());c>0&&o(u,c)};return Ri.Blur=a,e.Factory.addGetterSetter(t.Node,"blurRadius",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),Ri}var Ai={},Vl;function ag(){if(Vl)return Ai;Vl=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.Brighten=void 0;const e=ve(),t=qe(),n=Se(),i=function(r){const s=this.brightness()*255,o=r.data,a=o.length;for(let l=0;l<a;l+=4)o[l]+=s,o[l+1]+=s,o[l+2]+=s};return Ai.Brighten=i,e.Factory.addGetterSetter(t.Node,"brightness",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),Ai}var ki={},Ul;function lg(){if(Ul)return ki;Ul=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.Contrast=void 0;const e=ve(),t=qe(),n=Se(),i=function(r){const s=Math.pow((this.contrast()+100)/100,2),o=r.data,a=o.length;let l=150,u=150,c=150;for(let h=0;h<a;h+=4)l=o[h],u=o[h+1],c=o[h+2],l/=255,l-=.5,l*=s,l+=.5,l*=255,u/=255,u-=.5,u*=s,u+=.5,u*=255,c/=255,c-=.5,c*=s,c+=.5,c*=255,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,c=c<0?0:c>255?255:c,o[h]=l,o[h+1]=u,o[h+2]=c};return ki.Contrast=i,e.Factory.addGetterSetter(t.Node,"contrast",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),ki}var Oi={},$l;function cg(){if($l)return Oi;$l=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.Emboss=void 0;const e=ve(),t=qe(),n=He(),i=Se(),r=function(s){const o=this.embossStrength()*10,a=this.embossWhiteLevel()*255,l=this.embossDirection(),u=this.embossBlend(),c=s.data,h=s.width,g=s.height,d=h*4;let m=0,v=0,y=g;switch(l){case"top-left":m=-1,v=-1;break;case"top":m=-1,v=0;break;case"top-right":m=-1,v=1;break;case"right":m=0,v=1;break;case"bottom-right":m=1,v=1;break;case"bottom":m=1,v=0;break;case"bottom-left":m=1,v=-1;break;case"left":m=0,v=-1;break;default:n.Util.error("Unknown emboss direction: "+l)}do{const S=(y-1)*d;let p=m;y+p<1&&(p=0),y+p>g&&(p=0);const f=(y-1+p)*h*4;let b=h;do{const w=S+(b-1)*4;let R=v;b+R<1&&(R=0),b+R>h&&(R=0);const I=f+(b-1+R)*4,T=c[w]-c[I],x=c[w+1]-c[I+1],E=c[w+2]-c[I+2];let A=T;const M=A>0?A:-A,_=x>0?x:-x,k=E>0?E:-E;if(_>M&&(A=x),k>M&&(A=E),A*=o,u){const C=c[w]+A,O=c[w+1]+A,L=c[w+2]+A;c[w]=C>255?255:C<0?0:C,c[w+1]=O>255?255:O<0?0:O,c[w+2]=L>255?255:L<0?0:L}else{let C=a-A;C<0?C=0:C>255&&(C=255),c[w]=c[w+1]=c[w+2]=C}}while(--b)}while(--y)};return Oi.Emboss=r,e.Factory.addGetterSetter(t.Node,"embossStrength",.5,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossWhiteLevel",.5,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossDirection","top-left",void 0,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossBlend",!1,void 0,e.Factory.afterSetFilter),Oi}var Mi={},Hl;function ug(){if(Hl)return Mi;Hl=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.Enhance=void 0;const e=ve(),t=qe(),n=Se();function i(s,o,a,l,u){const c=a-o,h=u-l;if(c===0)return l+h/2;if(h===0)return l;let g=(s-o)/c;return g=h*g+l,g}const r=function(s){const o=s.data,a=o.length;let l=o[0],u=l,c,h=o[1],g=h,d,m=o[2],v=m,y;const S=this.enhance();if(S===0)return;for(let A=0;A<a;A+=4)c=o[A+0],c<l?l=c:c>u&&(u=c),d=o[A+1],d<h?h=d:d>g&&(g=d),y=o[A+2],y<m?m=y:y>v&&(v=y);u===l&&(u=255,l=0),g===h&&(g=255,h=0),v===m&&(v=255,m=0);let p,f,b,w,R,I,T,x,E;S>0?(f=u+S*(255-u),b=l-S*(l-0),R=g+S*(255-g),I=h-S*(h-0),x=v+S*(255-v),E=m-S*(m-0)):(p=(u+l)*.5,f=u+S*(u-p),b=l+S*(l-p),w=(g+h)*.5,R=g+S*(g-w),I=h+S*(h-w),T=(v+m)*.5,x=v+S*(v-T),E=m+S*(m-T));for(let A=0;A<a;A+=4)o[A+0]=i(o[A+0],l,u,b,f),o[A+1]=i(o[A+1],h,g,I,R),o[A+2]=i(o[A+2],m,v,E,x)};return Mi.Enhance=r,e.Factory.addGetterSetter(t.Node,"enhance",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),Mi}var Fi={},zl;function hg(){if(zl)return Fi;zl=1,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.Grayscale=void 0;const e=function(t){const n=t.data,i=n.length;for(let r=0;r<i;r+=4){const s=.34*n[r]+.5*n[r+1]+.16*n[r+2];n[r]=s,n[r+1]=s,n[r+2]=s}};return Fi.Grayscale=e,Fi}var Li={},jl;function dg(){if(jl)return Li;jl=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.HSL=void 0;const e=ve(),t=qe(),n=Se();e.Factory.addGetterSetter(t.Node,"hue",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"luminance",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter);const i=function(r){const s=r.data,o=s.length,a=1,l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,c=this.luminance()*127,h=a*l*Math.cos(u*Math.PI/180),g=a*l*Math.sin(u*Math.PI/180),d=.299*a+.701*h+.167*g,m=.587*a-.587*h+.33*g,v=.114*a-.114*h-.497*g,y=.299*a-.299*h-.328*g,S=.587*a+.413*h+.035*g,p=.114*a-.114*h+.293*g,f=.299*a-.3*h+1.25*g,b=.587*a-.586*h-1.05*g,w=.114*a+.886*h-.2*g;let R,I,T,x;for(let E=0;E<o;E+=4)R=s[E+0],I=s[E+1],T=s[E+2],x=s[E+3],s[E+0]=d*R+m*I+v*T+c,s[E+1]=y*R+S*I+p*T+c,s[E+2]=f*R+b*I+w*T+c,s[E+3]=x};return Li.HSL=i,Li}var Ii={},Wl;function fg(){if(Wl)return Ii;Wl=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.HSV=void 0;const e=ve(),t=qe(),n=Se(),i=function(r){const s=r.data,o=s.length,a=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,c=a*l*Math.cos(u*Math.PI/180),h=a*l*Math.sin(u*Math.PI/180),g=.299*a+.701*c+.167*h,d=.587*a-.587*c+.33*h,m=.114*a-.114*c-.497*h,v=.299*a-.299*c-.328*h,y=.587*a+.413*c+.035*h,S=.114*a-.114*c+.293*h,p=.299*a-.3*c+1.25*h,f=.587*a-.586*c-1.05*h,b=.114*a+.886*c-.2*h;let w,R,I,T;for(let x=0;x<o;x+=4)w=s[x+0],R=s[x+1],I=s[x+2],T=s[x+3],s[x+0]=g*w+d*R+m*I,s[x+1]=v*w+y*R+S*I,s[x+2]=p*w+f*R+b*I,s[x+3]=T};return Ii.HSV=i,e.Factory.addGetterSetter(t.Node,"hue",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"value",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),Ii}var Ni={},ql;function gg(){if(ql)return Ni;ql=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.Invert=void 0;const e=function(t){const n=t.data,i=n.length;for(let r=0;r<i;r+=4)n[r]=255-n[r],n[r+1]=255-n[r+1],n[r+2]=255-n[r+2]};return Ni.Invert=e,Ni}var Di={},Kl;function mg(){if(Kl)return Di;Kl=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.Kaleidoscope=void 0;const e=ve(),t=qe(),n=He(),i=Se(),r=function(a,l,u){const c=a.data,h=l.data,g=a.width,d=a.height,m=u.polarCenterX||g/2,v=u.polarCenterY||d/2;let y=Math.sqrt(m*m+v*v),S=g-m,p=d-v;const f=Math.sqrt(S*S+p*p);y=f>y?f:y;const b=d,w=g,R=360/w*Math.PI/180;for(let I=0;I<w;I+=1){const T=Math.sin(I*R),x=Math.cos(I*R);for(let E=0;E<b;E+=1){S=Math.floor(m+y*E/b*x),p=Math.floor(v+y*E/b*T);let A=(p*g+S)*4;const M=c[A+0],_=c[A+1],k=c[A+2],C=c[A+3];A=(I+E*g)*4,h[A+0]=M,h[A+1]=_,h[A+2]=k,h[A+3]=C}}},s=function(a,l,u){const c=a.data,h=l.data,g=a.width,d=a.height,m=u.polarCenterX||g/2,v=u.polarCenterY||d/2;let y=Math.sqrt(m*m+v*v),S=g-m,p=d-v;const f=Math.sqrt(S*S+p*p);y=f>y?f:y;const b=d,w=g,R=0;let I,T;for(S=0;S<g;S+=1)for(p=0;p<d;p+=1){const x=S-m,E=p-v,A=Math.sqrt(x*x+E*E)*b/y;let M=(Math.atan2(E,x)*180/Math.PI+360+R)%360;M=M*w/360,I=Math.floor(M),T=Math.floor(A);let _=(T*g+I)*4;const k=c[_+0],C=c[_+1],O=c[_+2],L=c[_+3];_=(p*g+S)*4,h[_+0]=k,h[_+1]=C,h[_+2]=O,h[_+3]=L}},o=function(a){const l=a.width,u=a.height;let c,h,g,d,m,v,y,S,p,f,b=Math.round(this.kaleidoscopePower());const w=Math.round(this.kaleidoscopeAngle()),R=Math.floor(l*(w%360)/360);if(b<1)return;const I=n.Util.createCanvasElement();I.width=l,I.height=u;const T=I.getContext("2d").getImageData(0,0,l,u);n.Util.releaseCanvas(I),r(a,T,{polarCenterX:l/2,polarCenterY:u/2});let x=l/Math.pow(2,b);for(;x<=8;)x=x*2,b-=1;x=Math.ceil(x);let E=x,A=0,M=E,_=1;for(R+x>l&&(A=E,M=0,_=-1),h=0;h<u;h+=1)for(c=A;c!==M;c+=_)g=Math.round(c+R)%l,p=(l*h+g)*4,m=T.data[p+0],v=T.data[p+1],y=T.data[p+2],S=T.data[p+3],f=(l*h+c)*4,T.data[f+0]=m,T.data[f+1]=v,T.data[f+2]=y,T.data[f+3]=S;for(h=0;h<u;h+=1)for(E=Math.floor(x),d=0;d<b;d+=1){for(c=0;c<E+1;c+=1)p=(l*h+c)*4,m=T.data[p+0],v=T.data[p+1],y=T.data[p+2],S=T.data[p+3],f=(l*h+E*2-c-1)*4,T.data[f+0]=m,T.data[f+1]=v,T.data[f+2]=y,T.data[f+3]=S;E*=2}s(T,a,{})};return Di.Kaleidoscope=o,e.Factory.addGetterSetter(t.Node,"kaleidoscopePower",2,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"kaleidoscopeAngle",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),Di}var Bi={},Yl;function pg(){if(Yl)return Bi;Yl=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.Mask=void 0;const e=ve(),t=qe(),n=Se();function i(g,d,m){let v=(m*g.width+d)*4;const y=[];return y.push(g.data[v++],g.data[v++],g.data[v++],g.data[v++]),y}function r(g,d){return Math.sqrt(Math.pow(g[0]-d[0],2)+Math.pow(g[1]-d[1],2)+Math.pow(g[2]-d[2],2))}function s(g){const d=[0,0,0];for(let m=0;m<g.length;m++)d[0]+=g[m][0],d[1]+=g[m][1],d[2]+=g[m][2];return d[0]/=g.length,d[1]/=g.length,d[2]/=g.length,d}function o(g,d){const m=i(g,0,0),v=i(g,g.width-1,0),y=i(g,0,g.height-1),S=i(g,g.width-1,g.height-1),p=d||10;if(r(m,v)<p&&r(v,S)<p&&r(S,y)<p&&r(y,m)<p){const f=s([v,m,S,y]),b=[];for(let w=0;w<g.width*g.height;w++){const R=r(f,[g.data[w*4],g.data[w*4+1],g.data[w*4+2]]);b[w]=R<p?0:255}return b}}function a(g,d){for(let m=0;m<g.width*g.height;m++)g.data[4*m+3]=d[m]}function l(g,d,m){const v=[1,1,1,1,0,1,1,1,1],y=Math.round(Math.sqrt(v.length)),S=Math.floor(y/2),p=[];for(let f=0;f<m;f++)for(let b=0;b<d;b++){const w=f*d+b;let R=0;for(let I=0;I<y;I++)for(let T=0;T<y;T++){const x=f+I-S,E=b+T-S;if(x>=0&&x<m&&E>=0&&E<d){const A=x*d+E,M=v[I*y+T];R+=g[A]*M}}p[w]=R===255*8?255:0}return p}function u(g,d,m){const v=[1,1,1,1,1,1,1,1,1],y=Math.round(Math.sqrt(v.length)),S=Math.floor(y/2),p=[];for(let f=0;f<m;f++)for(let b=0;b<d;b++){const w=f*d+b;let R=0;for(let I=0;I<y;I++)for(let T=0;T<y;T++){const x=f+I-S,E=b+T-S;if(x>=0&&x<m&&E>=0&&E<d){const A=x*d+E,M=v[I*y+T];R+=g[A]*M}}p[w]=R>=255*4?255:0}return p}function c(g,d,m){const v=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],y=Math.round(Math.sqrt(v.length)),S=Math.floor(y/2),p=[];for(let f=0;f<m;f++)for(let b=0;b<d;b++){const w=f*d+b;let R=0;for(let I=0;I<y;I++)for(let T=0;T<y;T++){const x=f+I-S,E=b+T-S;if(x>=0&&x<m&&E>=0&&E<d){const A=x*d+E,M=v[I*y+T];R+=g[A]*M}}p[w]=R}return p}const h=function(g){const d=this.threshold();let m=o(g,d);return m&&(m=l(m,g.width,g.height),m=u(m,g.width,g.height),m=c(m,g.width,g.height),a(g,m)),g};return Bi.Mask=h,e.Factory.addGetterSetter(t.Node,"threshold",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),Bi}var Gi={},Xl;function vg(){if(Xl)return Gi;Xl=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.Noise=void 0;const e=ve(),t=qe(),n=Se(),i=function(r){const s=this.noise()*255,o=r.data,a=o.length,l=s/2;for(let u=0;u<a;u+=4)o[u+0]+=l-2*l*Math.random(),o[u+1]+=l-2*l*Math.random(),o[u+2]+=l-2*l*Math.random()};return Gi.Noise=i,e.Factory.addGetterSetter(t.Node,"noise",.2,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),Gi}var Vi={},Zl;function _g(){if(Zl)return Vi;Zl=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.Pixelate=void 0;const e=ve(),t=He(),n=qe(),i=Se(),r=function(s){let o=Math.ceil(this.pixelSize()),a=s.width,l=s.height,u,c,h,g,d,m,v,y=Math.ceil(a/o),S=Math.ceil(l/o),p,f,b,w,R,I,T,x=s.data;if(o<=0){t.Util.error("pixelSize value can not be <= 0");return}for(R=0;R<y;R+=1)for(I=0;I<S;I+=1){for(g=0,d=0,m=0,v=0,p=R*o,f=p+o,b=I*o,w=b+o,T=0,u=p;u<f;u+=1)if(!(u>=a))for(c=b;c<w;c+=1)c>=l||(h=(a*c+u)*4,g+=x[h+0],d+=x[h+1],m+=x[h+2],v+=x[h+3],T+=1);for(g=g/T,d=d/T,m=m/T,v=v/T,u=p;u<f;u+=1)if(!(u>=a))for(c=b;c<w;c+=1)c>=l||(h=(a*c+u)*4,x[h+0]=g,x[h+1]=d,x[h+2]=m,x[h+3]=v)}};return Vi.Pixelate=r,e.Factory.addGetterSetter(n.Node,"pixelSize",8,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),Vi}var Ui={},Ql;function yg(){if(Ql)return Ui;Ql=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.Posterize=void 0;const e=ve(),t=qe(),n=Se(),i=function(r){const s=Math.round(this.levels()*254)+1,o=r.data,a=o.length,l=255/s;for(let u=0;u<a;u+=1)o[u]=Math.floor(o[u]/l)*l};return Ui.Posterize=i,e.Factory.addGetterSetter(t.Node,"levels",.5,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),Ui}var $i={},Jl;function bg(){if(Jl)return $i;Jl=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.RGB=void 0;const e=ve(),t=qe(),n=Se(),i=function(r){const s=r.data,o=s.length,a=this.red(),l=this.green(),u=this.blue();for(let c=0;c<o;c+=4){const h=(.34*s[c]+.5*s[c+1]+.16*s[c+2])/255;s[c]=h*a,s[c+1]=h*l,s[c+2]=h*u,s[c+3]=s[c+3]}};return $i.RGB=i,e.Factory.addGetterSetter(t.Node,"red",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),e.Factory.addGetterSetter(t.Node,"green",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),e.Factory.addGetterSetter(t.Node,"blue",0,n.RGBComponent,e.Factory.afterSetFilter),$i}var Hi={},ec;function Sg(){if(ec)return Hi;ec=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.RGBA=void 0;const e=ve(),t=qe(),n=Se(),i=function(r){const s=r.data,o=s.length,a=this.red(),l=this.green(),u=this.blue(),c=this.alpha();for(let h=0;h<o;h+=4){const g=1-c;s[h]=a*c+s[h]*g,s[h+1]=l*c+s[h+1]*g,s[h+2]=u*c+s[h+2]*g}};return Hi.RGBA=i,e.Factory.addGetterSetter(t.Node,"red",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),e.Factory.addGetterSetter(t.Node,"green",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),e.Factory.addGetterSetter(t.Node,"blue",0,n.RGBComponent,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"alpha",1,function(r){return this._filterUpToDate=!1,r>1?1:r<0?0:r}),Hi}var zi={},tc;function Cg(){if(tc)return zi;tc=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.Sepia=void 0;const e=function(t){const n=t.data,i=n.length;for(let r=0;r<i;r+=4){const s=n[r+0],o=n[r+1],a=n[r+2];n[r+0]=Math.min(255,s*.393+o*.769+a*.189),n[r+1]=Math.min(255,s*.349+o*.686+a*.168),n[r+2]=Math.min(255,s*.272+o*.534+a*.131)}};return zi.Sepia=e,zi}var ji={},nc;function wg(){if(nc)return ji;nc=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.Solarize=void 0;const e=function(t){const n=t.data,i=t.width,r=t.height,s=i*4;let o=r;do{const a=(o-1)*s;let l=i;do{const u=a+(l-1)*4;let c=n[u],h=n[u+1],g=n[u+2];c>127&&(c=255-c),h>127&&(h=255-h),g>127&&(g=255-g),n[u]=c,n[u+1]=h,n[u+2]=g}while(--l)}while(--o)};return ji.Solarize=e,ji}var Wi={},ic;function xg(){if(ic)return Wi;ic=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.Threshold=void 0;const e=ve(),t=qe(),n=Se(),i=function(r){const s=this.threshold()*255,o=r.data,a=o.length;for(let l=0;l<a;l+=1)o[l]=o[l]<s?0:255};return Wi.Threshold=i,e.Factory.addGetterSetter(t.Node,"threshold",.5,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),Wi}var rc;function Pg(){if(rc)return oi;rc=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.Konva=void 0;const e=j0(),t=W0(),n=K0(),i=Y0(),r=X0(),s=Z0(),o=Q0(),a=gh(),l=ra(),u=mh(),c=J0(),h=eg(),g=tg(),d=ng(),m=ph(),v=ig(),y=rg(),S=sg(),p=og(),f=ag(),b=lg(),w=cg(),R=ug(),I=hg(),T=dg(),x=fg(),E=gg(),A=mg(),M=pg(),_=vg(),k=_g(),C=yg(),O=bg(),L=Sg(),B=Cg(),W=wg(),z=xg();return oi.Konva=e.Konva.Util._assign(e.Konva,{Arc:t.Arc,Arrow:n.Arrow,Circle:i.Circle,Ellipse:r.Ellipse,Image:s.Image,Label:o.Label,Tag:o.Tag,Line:a.Line,Path:l.Path,Rect:u.Rect,RegularPolygon:c.RegularPolygon,Ring:h.Ring,Sprite:g.Sprite,Star:d.Star,Text:m.Text,TextPath:v.TextPath,Transformer:y.Transformer,Wedge:S.Wedge,Filters:{Blur:p.Blur,Brighten:f.Brighten,Contrast:b.Contrast,Emboss:w.Emboss,Enhance:R.Enhance,Grayscale:I.Grayscale,HSL:T.HSL,HSV:x.HSV,Invert:E.Invert,Kaleidoscope:A.Kaleidoscope,Mask:M.Mask,Noise:_.Noise,Pixelate:k.Pixelate,Posterize:C.Posterize,RGB:O.RGB,RGBA:L.RGBA,Sepia:B.Sepia,Solarize:W.Solarize,Threshold:z.Threshold}}),oi}var Tg=zr.exports,sc;function Eg(){if(sc)return zr.exports;sc=1,Object.defineProperty(Tg,"__esModule",{value:!0});const e=Pg();return zr.exports=e.Konva,zr.exports}var Rg=Eg();const Re=U0(Rg);function ts(e){if(!Re.autoDrawEnabled){const t=e.getLayer()||e.getStage();t&&t.batchDraw()}}const oc={key:!0,style:!0,elm:!0,isRootInsert:!0},Qs=".vue-konva-event";function vh(e,t,n,i){const r=e.__konvaNode,s={};let o=!1;for(let a in n){if(oc.hasOwnProperty(a))continue;const l=a.slice(0,2)==="on",u=n[a]!==t[a];if(l&&u){let c=a.slice(2).toLowerCase();c.slice(0,7)==="content"&&(c="content"+c.slice(7,1).toUpperCase()+c.slice(8)),r==null||r.off(c+Qs,n[a])}!t.hasOwnProperty(a)&&(r==null||r.setAttr(a,void 0))}for(let a in t){if(oc.hasOwnProperty(a))continue;let l=a.slice(0,2)==="on";const u=n[a]!==t[a];if(l&&u){let c=a.slice(2).toLowerCase();c.slice(0,7)==="content"&&(c="content"+c.slice(7,1).toUpperCase()+c.slice(8)),t[a]&&(r==null||r.off(c+Qs),r==null||r.on(c+Qs,t[a]))}!l&&(t[a]!==n[a]||i&&t[a]!==(r==null?void 0:r.getAttr(a)))&&(o=!0,s[a]=t[a])}o&&r&&(r.setAttrs(s),ts(r))}const Ag="v";function kg(e){function t(n){return n!=null&&n.__konvaNode?n:n!=null&&n.parent?t(n.parent):(console.error("vue-konva error: Can not find parent node"),null)}return t(e.parent)}function _h(e){return e.component?e.component.__konvaNode||_h(e.component.subTree):null}function Og(e){const{el:t,component:n}=e,i=_h(e);if(t!=null&&t.tagName&&n&&!i){const r=t.tagName.toLowerCase();return console.error(`vue-konva error: You are trying to render "${r}" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.`),null}return i}function Mg(e){const t=r=>!!(r!=null&&r.hasOwnProperty("component")),n=r=>Array.isArray(r),i=r=>t(r)?[r,...i(r.children)]:n(r)?r.flatMap(i):[];return i(e.children)}function yh(e,t){const n=Mg(e),i=[];n.forEach(s=>{const o=Og(s);o&&i.push(o)});let r=!1;i.forEach((s,o)=>{s.getZIndex()!==o&&(s.setZIndex(o),r=!0)}),r&&ts(t)}const Fg=we({name:"Stage",props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:i}){const r=Et();if(!r)return;const s=Xe({}),o=ae(null),a=new Re.Stage({width:e.config.width,height:e.config.height,container:document.createElement("div")});r.__konvaNode=a,c();function l(){return r==null?void 0:r.__konvaNode}function u(){return r==null?void 0:r.__konvaNode}function c(){if(!r)return;const h=s||{},g={...t,...e.config};vh(r,g,h,e.__useStrictMode),Object.assign(s,g)}return ut(()=>{o.value&&(o.value.innerHTML="",a.container(o.value)),c()}),Yo(()=>{c(),yh(r.subTree,a)}),Bt(()=>{a.destroy()}),be(()=>e.config,c,{deep:!0}),i({getStage:u,getNode:l}),console.log(t),()=>{var h;return wr("div",{ref:o,style:t==null?void 0:t.style},(h=n.default)==null?void 0:h.call(n))}}}),Lg=".vue-konva-event",Ig={Group:!0,Layer:!0,FastLayer:!0,Label:!0};function Ng(e,t){return we({name:e,props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup(n,{attrs:i,slots:r,expose:s}){const o=Et();if(!o)return;const a=Xe({}),l=new t;o.__konvaNode=l,o.vnode.__konvaNode=l,h();function u(){return o==null?void 0:o.__konvaNode}function c(){return o==null?void 0:o.__konvaNode}function h(){if(!o)return;const d={};for(const y in o==null?void 0:o.vnode.props)y.slice(0,2)==="on"&&(d[y]=o.vnode.props[y]);const m=a||{},v={...i,...n.config,...d};vh(o,v,m,n.__useStrictMode),Object.assign(a,v)}ut(()=>{var d;const m=(d=kg(o))==null?void 0:d.__konvaNode;m&&"add"in m&&m.add(l),ts(l)}),Qn(()=>{ts(l),l.destroy(),l.off(Lg)}),Yo(()=>{h(),yh(o.subTree,l)}),be(()=>n.config,h,{deep:!0}),s({getStage:c,getNode:u});const g=Ig.hasOwnProperty(e);return()=>{var d;return g?wr("template",{},(d=r.default)==null?void 0:d.call(r)):null}}})}typeof window<"u"&&!window.Konva&&require("konva");const Dg={install:(e,t)=>{const n=(t==null?void 0:t.prefix)||Ag,i={Arc:Re.Arc,Arrow:Re.Arrow,Circle:Re.Circle,Ellipse:Re.Ellipse,FastLayer:Re.FastLayer,Group:Re.Group,Image:Re.Image,Label:Re.Label,Layer:Re.Layer,Line:Re.Line,Path:Re.Path,Rect:Re.Rect,RegularPolygon:Re.RegularPolygon,Ring:Re.Ring,Shape:Re.Shape,Sprite:Re.Sprite,Star:Re.Star,Tag:Re.Tag,Text:Re.Text,TextPath:Re.TextPath,Transformer:Re.Transformer,Wedge:Re.Wedge,...t==null?void 0:t.customNodes};[Fg,...Object.entries(i).map(([r,s])=>Ng(r,s))].forEach(r=>{e.component(`${n}${r.name}`,r)})}};function To(){}const Be=Object.assign,Jn=typeof window<"u",ei=e=>e!==null&&typeof e=="object",We=e=>e!=null,qn=e=>typeof e=="function",sa=e=>ei(e)&&qn(e.then)&&qn(e.catch),bh=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),Bg=()=>Jn?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function ac(e,t){const n=t.split(".");let i=e;return n.forEach(r=>{var s;i=ei(i)&&(s=i[r])!=null?s:""}),i}function fn(e,t,n){return t.reduce((i,r)=>((!n||e[r]!==void 0)&&(i[r]=e[r]),i),{})}const lc=(e,t)=>JSON.stringify(e)===JSON.stringify(t),ns=e=>Array.isArray(e)?e:[e],st=null,ge=[Number,String],ye={type:Boolean,default:!0},Un=e=>({type:e,required:!0}),Sh=()=>({type:Array,default:()=>[]}),Gg=e=>({type:Number,default:e}),gt=e=>({type:ge,default:e}),xe=e=>({type:String,default:e});var ti=typeof window<"u";function Eo(e){return ti?requestAnimationFrame(e):-1}function Fr(e){Eo(()=>Eo(e))}var Vg=e=>e===window,cc=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),Kn=e=>{const t=_e(e);if(Vg(t)){const n=t.innerWidth,i=t.innerHeight;return cc(n,i)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():cc(0,0)};function xr(e){const t=mt(e,null);if(t){const n=Et(),{link:i,unlink:r,internalChildren:s}=t;i(n),Qn(()=>r(n));const o=ue(()=>s.indexOf(n));return{parent:t,index:o}}return{parent:null,index:ae(-1)}}function Ug(e){const t=[],n=i=>{Array.isArray(i)&&i.forEach(r=>{var s;gr(r)&&(t.push(r),(s=r.component)!=null&&s.subTree&&(t.push(r.component.subTree),n(r.component.subTree.children)),r.children&&n(r.children))})};return n(e),t}var uc=(e,t)=>{const n=e.indexOf(t);return n===-1?e.findIndex(i=>t.key!==void 0&&t.key!==null&&i.type===t.type&&i.key===t.key):n};function $g(e,t,n){const i=Ug(e.subTree.children);n.sort((s,o)=>uc(i,s.vnode)-uc(i,o.vnode));const r=n.map(s=>s.proxy);t.sort((s,o)=>{const a=r.indexOf(s),l=r.indexOf(o);return a-l})}function ws(e){const t=Xe([]),n=Xe([]),i=Et();return{children:t,linkChildren:s=>{gn(e,Object.assign({link:l=>{l.proxy&&(n.push(l),t.push(l.proxy),$g(i,t,n))},unlink:l=>{const u=n.indexOf(l);t.splice(u,1),n.splice(u,1)},children:t,internalChildren:n},s))}}}function Ch(e){let t;ut(()=>{e(),ct(()=>{t=!0})}),Sr(()=>{t&&e()})}function yn(e,t,n={}){if(!ti)return;const{target:i=window,passive:r=!1,capture:s=!1}=n;let o=!1,a;const l=h=>{if(o)return;const g=_e(h);g&&!a&&(g.addEventListener(e,t,{capture:s,passive:r}),a=!0)},u=h=>{if(o)return;const g=_e(h);g&&a&&(g.removeEventListener(e,t,s),a=!1)};Qn(()=>u(i)),Zn(()=>u(i)),Ch(()=>l(i));let c;return rt(i)&&(c=be(i,(h,g)=>{u(g),l(h)})),()=>{c==null||c(),u(i),o=!0}}function Hg(e,t,n={}){if(!ti)return;const{eventName:i="click"}=n;yn(i,s=>{(Array.isArray(e)?e:[e]).every(l=>{const u=_e(l);return u&&!u.contains(s.target)})&&t(s)},{target:document})}var Lr,Js;function zg(){if(!Lr&&(Lr=ae(0),Js=ae(0),ti)){const e=()=>{Lr.value=window.innerWidth,Js.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:Lr,height:Js}}var jg=/scroll|auto|overlay/i,Wg=ti?window:void 0;function qg(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function Kg(e,t=Wg){let n=e;for(;n&&n!==t&&qg(n);){const{overflowY:i}=window.getComputedStyle(n);if(jg.test(i))return n;n=n.parentNode}return t}var Ir;function Yg(){if(!Ir&&(Ir=ae("visible"),ti)){const e=()=>{Ir.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return Ir}var wh=Symbol("van-field");function xs(e){const t=mt(wh,null);t&&!t.customValue.value&&(t.customValue.value=e,be(e,()=>{t.resetValidation(),t.validateWithTrigger("onChange")}))}function hc(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function xh(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function Ph(e){hc(window,e),hc(document.body,e)}const Xg=Bg();function Zg(){Xg&&Ph(xh())}const Th=e=>e.stopPropagation();function Mt(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&Th(e)}function dc(e){const t=_e(e);if(!t)return!1;const n=window.getComputedStyle(t),i=n.display==="none",r=t.offsetParent===null&&n.position!=="fixed";return i||r}const{width:oa,height:aa}=zg();function $e(e){if(We(e))return bh(e)?`${e}px`:String(e)}function Ps(e){if(We(e)){if(Array.isArray(e))return{width:$e(e[0]),height:$e(e[1])};const t=$e(e);return{width:t,height:t}}}function la(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const Qg=/-(\w)/g,Eh=e=>e.replace(Qg,(t,n)=>n.toUpperCase()),Jg=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),wt=(e,t,n)=>Math.min(Math.max(e,t),n);function fc(e,t,n){const i=e.indexOf(t);return i===-1?e:t==="-"&&i!==0?e.slice(0,i):e.slice(0,i+1)+e.slice(i).replace(n,"")}function e1(e,t=!0,n=!0){t?e=fc(e,".",/\./g):e=e.split(".")[0],n?e=fc(e,"-",/-/g):e=e.replace(/-/,"");const i=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(i,"")}function t1(e,t){return Math.round((e+t)*1e10)/1e10}const{hasOwnProperty:n1}=Object.prototype;function i1(e,t,n){const i=t[n];We(i)&&(!n1.call(e,n)||!ei(i)?e[n]=i:e[n]=Rh(Object(e[n]),i))}function Rh(e,t){return Object.keys(t).forEach(n=>{i1(e,t,n)}),e}var r1={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const gc=ae("zh-CN"),mc=Xe({"zh-CN":r1}),s1={messages(){return mc[gc.value]},use(e,t){gc.value=e,this.add({[e]:t})},add(e={}){Rh(mc,e)}};var o1=s1;function a1(e){const t=Eh(e)+".";return(n,...i)=>{const r=o1.messages(),s=ac(r,t+n)||ac(r,n);return qn(s)?s(...i):s}}function Ro(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,i)=>n+Ro(e,i),""):Object.keys(t).reduce((n,i)=>n+(t[i]?Ro(e,i):""),""):""}function l1(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${Ro(t,n)}`)}function Oe(e){const t=`van-${e}`;return[t,l1(t),a1(t)]}const Pr="van-hairline",c1=`${Pr}--top`,u1=`${Pr}--left`,h1=`${Pr}--bottom`,d1=`${Pr}--surround`,Ah=`${Pr}--top-bottom`,is="van-haptics-feedback",f1=Symbol("van-form"),g1=500,pc=5;function ni(e,{args:t=[],done:n,canceled:i,error:r}){if(e){const s=e.apply(null,t);sa(s)?s.then(o=>{o?n():i&&i()}).catch(r||To):s?n():i&&i()}else n()}function Me(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(Eh(`-${n}`),e))},e}const kh=Symbol();function Oh(e){const t=mt(kh,null);t&&be(t,n=>{n&&e()})}const m1=(e,t)=>{const n=ae(),i=()=>{n.value=Kn(e).height};return ut(()=>{ct(i);for(let r=1;r<=3;r++)setTimeout(i,100*r)}),Oh(()=>ct(i)),be([oa,aa],i),n};function ca(e,t){const n=m1(e);return i=>U("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[i()])}const[Mh,vc]=Oe("action-bar"),Fh=Symbol(Mh),p1={placeholder:Boolean,safeAreaInsetBottom:ye};var v1=we({name:Mh,props:p1,setup(e,{slots:t}){const n=ae(),i=ca(n,vc),{linkChildren:r}=ws(Fh);r();const s=()=>{var o;return U("div",{ref:n,class:[vc(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(o=t.default)==null?void 0:o.call(t)])};return()=>e.placeholder?i(s):s()}});const _1=Me(v1);function Ht(e){const t=Et();t&&Be(t.proxy,e)}const Ts={to:[String,Object],url:String,replace:Boolean};function y1({to:e,url:t,replace:n,$router:i}){e&&i?i[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function Es(){const e=Et().proxy;return()=>y1(e)}const[b1,_c]=Oe("badge"),S1={dot:Boolean,max:ge,tag:xe("div"),color:String,offset:Array,content:ge,showZero:ye,position:xe("top-right")};var C1=we({name:b1,props:S1,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:a,showZero:l}=e;return We(a)&&a!==""&&(l||a!==0&&a!=="0")},i=()=>{const{dot:a,max:l,content:u}=e;if(!a&&n())return t.content?t.content():We(l)&&bh(u)&&+u>+l?`${l}+`:u},r=a=>a.startsWith("-")?a.replace("-",""):`-${a}`,s=ue(()=>{const a={background:e.color};if(e.offset){const[l,u]=e.offset,{position:c}=e,[h,g]=c.split("-");t.default?(typeof u=="number"?a[h]=$e(h==="top"?u:-u):a[h]=h==="top"?$e(u):r(u),typeof l=="number"?a[g]=$e(g==="left"?l:-l):a[g]=g==="left"?$e(l):r(l)):(a.marginTop=$e(u),a.marginLeft=$e(l))}return a}),o=()=>{if(n()||e.dot)return U("div",{class:_c([e.position,{dot:e.dot,fixed:!!t.default}]),style:s.value},[i()])};return()=>{if(t.default){const{tag:a}=e;return U(a,{class:_c("wrapper")},{default:()=>[t.default(),o()]})}return o()}}});const Lh=Me(C1);let Ih=2e3;const w1=()=>++Ih,x1=e=>{Ih=e},[Nh,P1]=Oe("config-provider"),Dh=Symbol(Nh),T1={tag:xe("div"),theme:xe("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:xe("local"),iconPrefix:String};function E1(e){return e.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function R1(e){const t={};return Object.keys(e).forEach(n=>{const i=E1(Jg(n));t[`--van-${i}`]=e[n]}),t}function Nr(e={},t={}){Object.keys(e).forEach(n=>{e[n]!==t[n]&&document.documentElement.style.setProperty(n,e[n])}),Object.keys(t).forEach(n=>{e[n]||document.documentElement.style.removeProperty(n)})}var A1=we({name:Nh,props:T1,setup(e,{slots:t}){const n=ue(()=>R1(Be({},e.themeVars,e.theme==="dark"?e.themeVarsDark:e.themeVarsLight)));if(Jn){const i=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},r=(s=e.theme)=>{document.documentElement.classList.remove(`van-theme-${s}`)};be(()=>e.theme,(s,o)=>{o&&r(o),i()},{immediate:!0}),Sr(i),Zn(r),Bt(r),be(n,(s,o)=>{e.themeVarsScope==="global"&&Nr(s,o)}),be(()=>e.themeVarsScope,(s,o)=>{o==="global"&&Nr({},n.value),s==="global"&&Nr(n.value,{})}),e.themeVarsScope==="global"&&Nr(n.value,{})}return gn(Dh,e),$f(()=>{e.zIndex!==void 0&&x1(e.zIndex)}),()=>U(e.tag,{class:P1(),style:e.themeVarsScope==="local"?n.value:void 0},{default:()=>{var i;return[(i=t.default)==null?void 0:i.call(t)]}})}});const[k1,yc]=Oe("icon"),O1=e=>e==null?void 0:e.includes("/"),M1={dot:Boolean,tag:xe("i"),name:String,size:ge,badge:ge,color:String,badgeProps:Object,classPrefix:String};var F1=we({name:k1,props:M1,setup(e,{slots:t}){const n=mt(Dh,null),i=ue(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||yc());return()=>{const{tag:r,dot:s,name:o,size:a,badge:l,color:u}=e,c=O1(o);return U(Lh,et({dot:s,tag:r,class:[i.value,c?"":`${i.value}-${o}`],style:{color:u,fontSize:$e(a)},content:l},e.badgeProps),{default:()=>{var h;return[(h=t.default)==null?void 0:h.call(t),c&&U("img",{class:yc("image"),src:o},null)]}})}}});const Je=Me(F1),[L1,sr]=Oe("loading"),I1=Array(12).fill(null).map((e,t)=>U("i",{class:sr("line",String(t+1))},null)),N1=U("svg",{class:sr("circular"),viewBox:"25 25 50 50"},[U("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),D1={size:ge,type:xe("circular"),color:String,vertical:Boolean,textSize:ge,textColor:String};var B1=we({name:L1,props:D1,setup(e,{slots:t}){const n=ue(()=>Be({color:e.color},Ps(e.size))),i=()=>{const s=e.type==="spinner"?I1:N1;return U("span",{class:sr("spinner",e.type),style:n.value},[t.icon?t.icon():s])},r=()=>{var s;if(t.default)return U("span",{class:sr("text"),style:{fontSize:$e(e.textSize),color:(s=e.textColor)!=null?s:e.color}},[t.default()])};return()=>{const{type:s,vertical:o}=e;return U("div",{class:sr([s,{vertical:o}]),"aria-live":"polite","aria-busy":!0},[i(),r()])}}});const Tr=Me(B1),[G1,Fn]=Oe("button"),V1=Be({},Ts,{tag:xe("button"),text:String,icon:String,type:xe("default"),size:xe("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:xe("button"),loadingSize:ge,loadingText:String,loadingType:String,iconPosition:xe("left")});var U1=we({name:G1,props:V1,emits:["click"],setup(e,{emit:t,slots:n}){const i=Es(),r=()=>n.loading?n.loading():U(Tr,{size:e.loadingSize,type:e.loadingType,class:Fn("loading")},null),s=()=>{if(e.loading)return r();if(n.icon)return U("div",{class:Fn("icon")},[n.icon()]);if(e.icon)return U(Je,{name:e.icon,class:Fn("icon"),classPrefix:e.iconPrefix},null)},o=()=>{let u;if(e.loading?u=e.loadingText:u=n.default?n.default():e.text,u)return U("span",{class:Fn("text")},[u])},a=()=>{const{color:u,plain:c}=e;if(u){const h={color:c?u:"white"};return c||(h.background=u),u.includes("gradient")?h.border=0:h.borderColor=u,h}},l=u=>{e.loading?Mt(u):e.disabled||(t("click",u),i())};return()=>{const{tag:u,type:c,size:h,block:g,round:d,plain:m,square:v,loading:y,disabled:S,hairline:p,nativeType:f,iconPosition:b}=e,w=[Fn([c,h,{plain:m,block:g,round:d,square:v,loading:y,disabled:S,hairline:p}]),{[d1]:p}];return U(u,{type:f,class:w,style:a(),disabled:S,onClick:l},{default:()=>[U("div",{class:Fn("content")},[b==="left"&&s(),o(),b==="right"&&s()])]})}}});const rs=Me(U1),[$1,H1]=Oe("action-bar-button"),z1=Be({},Ts,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var j1=we({name:$1,props:z1,setup(e,{slots:t}){const n=Es(),{parent:i,index:r}=xr(Fh),s=ue(()=>{if(i){const a=i.children[r.value-1];return!(a&&"isButton"in a)}}),o=ue(()=>{if(i){const a=i.children[r.value+1];return!(a&&"isButton"in a)}});return Ht({isButton:!0}),()=>{const{type:a,icon:l,text:u,color:c,loading:h,disabled:g}=e;return U(rs,{class:H1([a,{last:o.value,first:s.value}]),size:"large",type:a,icon:l,color:c,loading:h,disabled:g,onClick:n},{default:()=>[t.default?t.default():u]})}}});const bc=Me(j1),ua={show:Boolean,zIndex:ge,overlay:ye,duration:ge,teleport:[String,Object],lockScroll:ye,lazyRender:ye,beforeClose:Function,overlayStyle:Object,overlayClass:st,transitionAppear:Boolean,closeOnClickOverlay:ye},W1=Object.keys(ua);function q1(e,t){return e>t?"horizontal":t>e?"vertical":""}function Er(){const e=ae(0),t=ae(0),n=ae(0),i=ae(0),r=ae(0),s=ae(0),o=ae(""),a=ae(!0),l=()=>o.value==="vertical",u=()=>o.value==="horizontal",c=()=>{n.value=0,i.value=0,r.value=0,s.value=0,o.value="",a.value=!0};return{move:d=>{const m=d.touches[0];n.value=(m.clientX<0?0:m.clientX)-e.value,i.value=m.clientY-t.value,r.value=Math.abs(n.value),s.value=Math.abs(i.value);const v=10;(!o.value||r.value<v&&s.value<v)&&(o.value=q1(r.value,s.value)),a.value&&(r.value>pc||s.value>pc)&&(a.value=!1)},start:d=>{c(),e.value=d.touches[0].clientX,t.value=d.touches[0].clientY},reset:c,startX:e,startY:t,deltaX:n,deltaY:i,offsetX:r,offsetY:s,direction:o,isVertical:l,isHorizontal:u,isTap:a}}let qi=0;const Sc="van-overflow-hidden";function K1(e,t){const n=Er(),i="01",r="10",s=c=>{n.move(c);const h=n.deltaY.value>0?r:i,g=Kg(c.target,e.value),{scrollHeight:d,offsetHeight:m,scrollTop:v}=g;let y="11";v===0?y=m>=d?"00":"01":v+m>=d&&(y="10"),y!=="11"&&n.isVertical()&&!(parseInt(y,2)&parseInt(h,2))&&Mt(c,!0)},o=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",s,{passive:!1}),qi||document.body.classList.add(Sc),qi++},a=()=>{qi&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",s),qi--,qi||document.body.classList.remove(Sc))},l=()=>t()&&o(),u=()=>t()&&a();Ch(l),Zn(u),Bt(u),be(t,c=>{c?o():a()})}function Bh(e){const t=ae(!1);return be(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const Ao=()=>{var e;const{scopeId:t}=((e=Et())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[Y1,X1]=Oe("overlay"),Z1={show:Boolean,zIndex:ge,duration:ge,className:st,lockScroll:ye,lazyRender:ye,customStyle:Object,teleport:[String,Object]};var Q1=we({name:Y1,props:Z1,setup(e,{slots:t}){const n=ae(),i=Bh(()=>e.show||!e.lazyRender),r=o=>{e.lockScroll&&Mt(o,!0)},s=i(()=>{var o;const a=Be(la(e.zIndex),e.customStyle);return We(e.duration)&&(a.animationDuration=`${e.duration}s`),hr(U("div",{ref:n,style:a,class:[X1(),e.className]},[(o=t.default)==null?void 0:o.call(t)]),[[es,e.show]])});return yn("touchmove",r,{target:n}),()=>{const o=U(lh,{name:"van-fade",appear:!0},{default:s});return e.teleport?U(Au,{to:e.teleport},{default:()=>[o]}):o}}});const J1=Me(Q1),e2=Be({},ua,{round:Boolean,position:xe("center"),closeIcon:xe("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:xe("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[t2,Cc]=Oe("popup");var n2=we({name:t2,inheritAttrs:!1,props:e2,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:i}){let r,s;const o=ae(),a=ae(),l=Bh(()=>e.show||!e.lazyRender),u=ue(()=>{const R={zIndex:o.value};if(We(e.duration)){const I=e.position==="center"?"animationDuration":"transitionDuration";R[I]=`${e.duration}s`}return R}),c=()=>{r||(r=!0,o.value=e.zIndex!==void 0?+e.zIndex:w1(),t("open"))},h=()=>{r&&ni(e.beforeClose,{done(){r=!1,t("close"),t("update:show",!1)}})},g=R=>{t("clickOverlay",R),e.closeOnClickOverlay&&h()},d=()=>{if(e.overlay)return U(J1,et({show:e.show,class:e.overlayClass,zIndex:o.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},Ao(),{onClick:g}),{default:i["overlay-content"]})},m=R=>{t("clickCloseIcon",R),h()},v=()=>{if(e.closeable)return U(Je,{role:"button",tabindex:0,name:e.closeIcon,class:[Cc("close-icon",e.closeIconPosition),is],classPrefix:e.iconPrefix,onClick:m},null)};let y;const S=()=>{y&&clearTimeout(y),y=setTimeout(()=>{t("opened")})},p=()=>t("closed"),f=R=>t("keydown",R),b=l(()=>{var R;const{destroyOnClose:I,round:T,position:x,safeAreaInsetTop:E,safeAreaInsetBottom:A,show:M}=e;if(!(!M&&I))return hr(U("div",et({ref:a,style:u.value,role:"dialog",tabindex:0,class:[Cc({round:T,[x]:x}),{"van-safe-area-top":E,"van-safe-area-bottom":A}],onKeydown:f},n,Ao()),[(R=i.default)==null?void 0:R.call(i),v()]),[[es,M]])}),w=()=>{const{position:R,transition:I,transitionAppear:T}=e,x=R==="center"?"van-fade":`van-popup-slide-${R}`;return U(lh,{name:I||x,appear:T,onAfterEnter:S,onAfterLeave:p},{default:b})};return be(()=>e.show,R=>{R&&!r&&(c(),n.tabindex===0&&ct(()=>{var I;(I=a.value)==null||I.focus()})),!R&&r&&(r=!1,t("close"))}),Ht({popupRef:a}),K1(a,()=>e.show&&e.lockScroll),yn("popstate",()=>{e.closeOnPopstate&&(h(),s=!1)}),ut(()=>{e.show&&c()}),Sr(()=>{s&&(t("update:show",!0),s=!1)}),Zn(()=>{e.show&&e.teleport&&(h(),s=!0)}),gn(kh,()=>e.show),()=>e.teleport?U(Au,{to:e.teleport},{default:()=>[d(),w()]}):U(Qe,null,[d(),w()])}});const Rs=Me(n2);let i2=0;function r2(){const e=Et(),{name:t="unknown"}=(e==null?void 0:e.type)||{};return`${t}-${++i2}`}const[Gh,Dr]=Oe("swipe"),s2={loop:ye,width:ge,height:ge,vertical:Boolean,autoplay:gt(0),duration:gt(500),touchable:ye,lazyRender:Boolean,initialSwipe:gt(0),indicatorColor:String,showIndicators:ye,stopPropagation:ye},Vh=Symbol(Gh);var o2=we({name:Gh,props:s2,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:n}){const i=ae(),r=ae(),s=Xe({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let o=!1;const a=Er(),{children:l,linkChildren:u}=ws(Vh),c=ue(()=>l.length),h=ue(()=>s[e.vertical?"height":"width"]),g=ue(()=>e.vertical?a.deltaY.value:a.deltaX.value),d=ue(()=>s.rect?(e.vertical?s.rect.height:s.rect.width)-h.value*c.value:0),m=ue(()=>h.value?Math.ceil(Math.abs(d.value)/h.value):c.value),v=ue(()=>c.value*h.value),y=ue(()=>(s.active+c.value)%c.value),S=ue(()=>{const $=e.vertical?"vertical":"horizontal";return a.direction.value===$}),p=ue(()=>{const $={transitionDuration:`${s.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+s.offset.toFixed(2)}px)`};if(h.value){const X=e.vertical?"height":"width",q=e.vertical?"width":"height";$[X]=`${v.value}px`,$[q]=e[q]?`${e[q]}px`:""}return $}),f=$=>{const{active:X}=s;return $?e.loop?wt(X+$,-1,c.value):wt(X+$,0,m.value):X},b=($,X=0)=>{let q=$*h.value;e.loop||(q=Math.min(q,-d.value));let Q=X-q;return e.loop||(Q=wt(Q,d.value,0)),Q},w=({pace:$=0,offset:X=0,emitChange:q})=>{if(c.value<=1)return;const{active:Q}=s,ne=f($),se=b(ne,X);if(e.loop){if(l[0]&&se!==d.value){const P=se<d.value;l[0].setOffset(P?v.value:0)}if(l[c.value-1]&&se!==0){const P=se>0;l[c.value-1].setOffset(P?-v.value:0)}}s.active=ne,s.offset=se,q&&ne!==Q&&t("change",y.value)},R=()=>{s.swiping=!0,s.active<=-1?w({pace:c.value}):s.active>=c.value&&w({pace:-c.value})},I=()=>{R(),a.reset(),Fr(()=>{s.swiping=!1,w({pace:-1,emitChange:!0})})},T=()=>{R(),a.reset(),Fr(()=>{s.swiping=!1,w({pace:1,emitChange:!0})})};let x;const E=()=>clearTimeout(x),A=()=>{E(),+e.autoplay>0&&c.value>1&&(x=setTimeout(()=>{T(),A()},+e.autoplay))},M=($=+e.initialSwipe)=>{if(!i.value)return;const X=()=>{var q,Q;if(!dc(i)){const ne={width:i.value.offsetWidth,height:i.value.offsetHeight};s.rect=ne,s.width=+((q=e.width)!=null?q:ne.width),s.height=+((Q=e.height)!=null?Q:ne.height)}c.value&&($=Math.min(c.value-1,$),$===-1&&($=c.value-1)),s.active=$,s.swiping=!0,s.offset=b($),l.forEach(ne=>{ne.setOffset(0)}),A()};dc(i)?ct().then(X):X()},_=()=>M(s.active);let k;const C=$=>{!e.touchable||$.touches.length>1||(a.start($),o=!1,k=Date.now(),E(),R())},O=$=>{e.touchable&&s.swiping&&(a.move($),S.value&&(!e.loop&&(s.active===0&&g.value>0||s.active===c.value-1&&g.value<0)||(Mt($,e.stopPropagation),w({offset:g.value}),o||(t("dragStart",{index:y.value}),o=!0))))},L=()=>{if(!e.touchable||!s.swiping)return;const $=Date.now()-k,X=g.value/$;if((Math.abs(X)>.25||Math.abs(g.value)>h.value/2)&&S.value){const Q=e.vertical?a.offsetY.value:a.offsetX.value;let ne=0;e.loop?ne=Q>0?g.value>0?-1:1:0:ne=-Math[g.value>0?"ceil":"floor"](g.value/h.value),w({pace:ne,emitChange:!0})}else g.value&&w({pace:0});o=!1,s.swiping=!1,t("dragEnd",{index:y.value}),A()},B=($,X={})=>{R(),a.reset(),Fr(()=>{let q;e.loop&&$===c.value?q=s.active===0?0:$:q=$%c.value,X.immediate?Fr(()=>{s.swiping=!1}):s.swiping=!1,w({pace:q-s.active,emitChange:!0})})},W=($,X)=>{const q=X===y.value,Q=q?{backgroundColor:e.indicatorColor}:void 0;return U("i",{style:Q,class:Dr("indicator",{active:q})},null)},z=()=>{if(n.indicator)return n.indicator({active:y.value,total:c.value});if(e.showIndicators&&c.value>1)return U("div",{class:Dr("indicators",{vertical:e.vertical})},[Array(c.value).fill("").map(W)])};return Ht({prev:I,next:T,state:s,resize:_,swipeTo:B}),u({size:h,props:e,count:c,activeIndicator:y}),be(()=>e.initialSwipe,$=>M(+$)),be(c,()=>M(s.active)),be(()=>e.autoplay,A),be([oa,aa,()=>e.width,()=>e.height],_),be(Yg(),$=>{$==="visible"?A():E()}),ut(M),Sr(()=>M(s.active)),Oh(()=>M(s.active)),Zn(E),Bt(E),yn("touchmove",O,{target:r}),()=>{var $;return U("div",{ref:i,class:Dr()},[U("div",{ref:r,style:p.value,class:Dr("track",{vertical:e.vertical}),onTouchstartPassive:C,onTouchend:L,onTouchcancel:L},[($=n.default)==null?void 0:$.call(n)]),z()])}}});const a2=Me(o2),[l2,c2]=Oe("swipe-item");var u2=we({name:l2,setup(e,{slots:t}){let n;const i=Xe({offset:0,inited:!1,mounted:!1}),{parent:r,index:s}=xr(Vh);if(!r)return;const o=ue(()=>{const u={},{vertical:c}=r.props;return r.size.value&&(u[c?"height":"width"]=`${r.size.value}px`),i.offset&&(u.transform=`translate${c?"Y":"X"}(${i.offset}px)`),u}),a=ue(()=>{const{loop:u,lazyRender:c}=r.props;if(!c||n)return!0;if(!i.mounted)return!1;const h=r.activeIndicator.value,g=r.count.value-1,d=h===0&&u?g:h-1,m=h===g&&u?0:h+1;return n=s.value===h||s.value===d||s.value===m,n}),l=u=>{i.offset=u};return ut(()=>{ct(()=>{i.mounted=!0})}),Ht({setOffset:l}),()=>{var u;return U("div",{class:c2(),style:o.value},[a.value?(u=t.default)==null?void 0:u.call(t):null])}}});const h2=Me(u2),[d2,Ln]=Oe("cell"),Uh={tag:xe("div"),icon:String,size:String,title:ge,value:ge,label:ge,center:Boolean,isLink:Boolean,border:ye,iconPrefix:String,valueClass:st,labelClass:st,titleClass:st,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},f2=Be({},Uh,Ts);var g2=we({name:d2,props:f2,setup(e,{slots:t}){const n=Es(),i=()=>{if(t.label||We(e.label))return U("div",{class:[Ln("label"),e.labelClass]},[t.label?t.label():e.label])},r=()=>{var l;if(t.title||We(e.title)){const u=(l=t.title)==null?void 0:l.call(t);return Array.isArray(u)&&u.length===0?void 0:U("div",{class:[Ln("title"),e.titleClass],style:e.titleStyle},[u||U("span",null,[e.title]),i()])}},s=()=>{const l=t.value||t.default;if(l||We(e.value))return U("div",{class:[Ln("value"),e.valueClass]},[l?l():U("span",null,[e.value])])},o=()=>{if(t.icon)return t.icon();if(e.icon)return U(Je,{name:e.icon,class:Ln("left-icon"),classPrefix:e.iconPrefix},null)},a=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const l=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return U(Je,{name:l,class:Ln("right-icon")},null)}};return()=>{var l;const{tag:u,size:c,center:h,border:g,isLink:d,required:m}=e,v=(l=e.clickable)!=null?l:d,y={center:h,required:!!m,clickable:v,borderless:!g};return c&&(y[c]=!!c),U(u,{class:Ln(y),role:v?"button":void 0,tabindex:v?0:void 0,onClick:n},{default:()=>{var S;return[o(),r(),s(),a(),(S=t.extra)==null?void 0:S.call(t)]}})}}});const $h=Me(g2);function Hh(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function m2(e,t){if(Hh(e)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function p2(e,t){return new Promise(n=>{const i=t.validator(e,t);if(sa(i)){i.then(n);return}n(i)})}function wc(e,t){const{message:n}=t;return qn(n)?n(e,t):n||""}function v2({target:e}){e.composing=!0}function xc({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function _2(e,t){const n=xh();e.style.height="auto";let i=e.scrollHeight;if(ei(t)){const{maxHeight:r,minHeight:s}=t;r!==void 0&&(i=Math.min(i,r)),s!==void 0&&(i=Math.max(i,s))}i&&(e.style.height=`${i}px`,Ph(n))}function y2(e,t){return e==="number"&&(e="text",t??(t="decimal")),e==="digit"&&(e="tel",t??(t="numeric")),{type:e,inputmode:t}}function Kt(e){return[...e].length}function eo(e,t){return[...e].slice(0,t).join("")}const[b2,kt]=Oe("field"),S2={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:ge,max:Number,min:Number,formatter:Function,clearIcon:xe("clear"),modelValue:gt(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:xe("focus"),formatTrigger:xe("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},C2=Be({},Uh,S2,{rows:ge,type:xe("text"),rules:Array,autosize:[Boolean,Object],labelWidth:ge,labelClass:st,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var w2=we({name:b2,props:C2,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n}){const i=r2(),r=Xe({status:"unvalidated",focused:!1,validateMessage:""}),s=ae(),o=ae(),a=ae(),{parent:l}=xr(f1),u=()=>{var P;return String((P=e.modelValue)!=null?P:"")},c=P=>{if(We(e[P]))return e[P];if(l&&We(l.props[P]))return l.props[P]},h=ue(()=>{const P=c("readonly");if(e.clearable&&!P){const D=u()!=="",V=e.clearTrigger==="always"||e.clearTrigger==="focus"&&r.focused;return D&&V}return!1}),g=ue(()=>a.value&&n.input?a.value():e.modelValue),d=ue(()=>{var P;const D=c("required");return D==="auto"?(P=e.rules)==null?void 0:P.some(V=>V.required):D}),m=P=>P.reduce((D,V)=>D.then(()=>{if(r.status==="failed")return;let{value:j}=g;if(V.formatter&&(j=V.formatter(j,V)),!m2(j,V)){r.status="failed",r.validateMessage=wc(j,V);return}if(V.validator)return Hh(j)&&V.validateEmpty===!1?void 0:p2(j,V).then(Z=>{Z&&typeof Z=="string"?(r.status="failed",r.validateMessage=Z):Z===!1&&(r.status="failed",r.validateMessage=wc(j,V))})}),Promise.resolve()),v=()=>{r.status="unvalidated",r.validateMessage=""},y=()=>t("endValidate",{status:r.status,message:r.validateMessage}),S=(P=e.rules)=>new Promise(D=>{v(),P?(t("startValidate"),m(P).then(()=>{r.status==="failed"?(D({name:e.name,message:r.validateMessage}),y()):(r.status="passed",D(),y())})):D()}),p=P=>{if(l&&e.rules){const{validateTrigger:D}=l.props,V=ns(D).includes(P),j=e.rules.filter(Z=>Z.trigger?ns(Z.trigger).includes(P):V);j.length&&S(j)}},f=P=>{var D;const{maxlength:V}=e;if(We(V)&&Kt(P)>+V){const j=u();if(j&&Kt(j)===+V)return j;const Z=(D=s.value)==null?void 0:D.selectionEnd;if(r.focused&&Z){const F=[...P],N=F.length-+V;return F.splice(Z-N,N),F.join("")}return eo(P,+V)}return P},b=(P,D="onChange")=>{var V,j;const Z=P;P=f(P);const F=Kt(Z)-Kt(P);if(e.type==="number"||e.type==="digit"){const G=e.type==="number";if(P=e1(P,G,G),D==="onBlur"&&P!==""&&(e.min!==void 0||e.max!==void 0)){const H=wt(+P,(V=e.min)!=null?V:-1/0,(j=e.max)!=null?j:1/0);+P!==H&&(P=H.toString())}}let N=0;if(e.formatter&&D===e.formatTrigger){const{formatter:G,maxlength:H}=e;if(P=G(P),We(H)&&Kt(P)>+H&&(P=eo(P,+H)),s.value&&r.focused){const{selectionEnd:Y}=s.value,K=eo(Z,Y);N=Kt(G(K))-Kt(K)}}if(s.value&&s.value.value!==P)if(r.focused){let{selectionStart:G,selectionEnd:H}=s.value;if(s.value.value=P,We(G)&&We(H)){const Y=Kt(P);F?(G-=F,H-=F):N&&(G+=N,H+=N),s.value.setSelectionRange(Math.min(G,Y),Math.min(H,Y))}}else s.value.value=P;P!==e.modelValue&&t("update:modelValue",P)},w=P=>{P.target.composing||b(P.target.value)},R=()=>{var P;return(P=s.value)==null?void 0:P.blur()},I=()=>{var P;return(P=s.value)==null?void 0:P.focus()},T=()=>{const P=s.value;e.type==="textarea"&&e.autosize&&P&&_2(P,e.autosize)},x=P=>{r.focused=!0,t("focus",P),ct(T),c("readonly")&&R()},E=P=>{r.focused=!1,b(u(),"onBlur"),t("blur",P),!c("readonly")&&(p("onBlur"),ct(T),Zg())},A=P=>t("clickInput",P),M=P=>t("clickLeftIcon",P),_=P=>t("clickRightIcon",P),k=P=>{Mt(P),t("update:modelValue",""),t("clear",P)},C=ue(()=>{if(typeof e.error=="boolean")return e.error;if(l&&l.props.showError&&r.status==="failed")return!0}),O=ue(()=>{const P=c("labelWidth"),D=c("labelAlign");if(P&&D!=="top")return{width:$e(P)}}),L=P=>{P.keyCode===13&&(!(l&&l.props.submitOnEnter)&&e.type!=="textarea"&&Mt(P),e.type==="search"&&R()),t("keypress",P)},B=()=>e.id||`${i}-input`,W=()=>r.status,z=()=>{const P=kt("control",[c("inputAlign"),{error:C.value,custom:!!n.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(n.input)return U("div",{class:P,onClick:A},[n.input()]);const D={id:B(),ref:s,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:P,disabled:c("disabled"),readonly:c("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${i}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:E,onFocus:x,onInput:w,onClick:A,onChange:xc,onKeypress:L,onCompositionend:xc,onCompositionstart:v2};return e.type==="textarea"?U("textarea",et(D,{inputmode:e.inputmode}),null):U("input",et(y2(e.type,e.inputmode),D),null)},$=()=>{const P=n["left-icon"];if(e.leftIcon||P)return U("div",{class:kt("left-icon"),onClick:M},[P?P():U(Je,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},X=()=>{const P=n["right-icon"];if(e.rightIcon||P)return U("div",{class:kt("right-icon"),onClick:_},[P?P():U(Je,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},q=()=>{if(e.showWordLimit&&e.maxlength){const P=Kt(u());return U("div",{class:kt("word-limit")},[U("span",{class:kt("word-num")},[P]),en("/"),e.maxlength])}},Q=()=>{if(l&&l.props.showErrorMessage===!1)return;const P=e.errorMessage||r.validateMessage;if(P){const D=n["error-message"],V=c("errorMessageAlign");return U("div",{class:kt("error-message",V)},[D?D({message:P}):P])}},ne=()=>{const P=c("labelWidth"),D=c("labelAlign"),V=c("colon")?":":"";if(n.label)return[n.label(),V];if(e.label)return U("label",{id:`${i}-label`,for:n.input?void 0:B(),"data-allow-mismatch":"attribute",onClick:j=>{Mt(j),I()},style:D==="top"&&P?{width:$e(P)}:void 0},[e.label+V])},se=()=>[U("div",{class:kt("body")},[z(),h.value&&U(Je,{ref:o,name:e.clearIcon,class:kt("clear")},null),X(),n.button&&U("div",{class:kt("button")},[n.button()])]),q(),Q()];return Ht({blur:R,focus:I,validate:S,formValue:g,resetValidation:v,getValidationStatus:W}),gn(wh,{customValue:a,resetValidation:v,validateWithTrigger:p}),be(()=>e.modelValue,()=>{b(u()),v(),p("onChange"),ct(T)}),ut(()=>{b(u(),e.formatTrigger),ct(T)}),yn("touchstart",k,{target:ue(()=>{var P;return(P=o.value)==null?void 0:P.$el})}),()=>{const P=c("disabled"),D=c("labelAlign"),V=$(),j=()=>{const Z=ne();return D==="top"?[V,Z].filter(Boolean):Z||[]};return U($h,{size:e.size,class:kt({error:C.value,disabled:P,[`label-${D}`]:D}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:O.value,valueClass:kt("value"),titleClass:[kt("label",[D,{required:d.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:V&&D!=="top"?()=>V:null,title:j,value:se,extra:n.extra})}}});const x2=Me(w2);let Ki=0;function P2(e){e?(Ki||document.body.classList.add("van-toast--unclickable"),Ki++):Ki&&(Ki--,Ki||document.body.classList.remove("van-toast--unclickable"))}const[T2,In]=Oe("toast"),E2=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],R2={icon:String,show:Boolean,type:xe("text"),overlay:Boolean,message:ge,iconSize:ge,duration:Gg(2e3),position:xe("middle"),teleport:[String,Object],wordBreak:String,className:st,iconPrefix:String,transition:xe("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:st,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:ge};var zh=we({name:T2,props:R2,emits:["update:show"],setup(e,{emit:t,slots:n}){let i,r=!1;const s=()=>{const h=e.show&&e.forbidClick;r!==h&&(r=h,P2(r))},o=h=>t("update:show",h),a=()=>{e.closeOnClick&&o(!1)},l=()=>clearTimeout(i),u=()=>{const{icon:h,type:g,iconSize:d,iconPrefix:m,loadingType:v}=e;if(h||g==="success"||g==="fail")return U(Je,{name:h||g,size:d,class:In("icon"),classPrefix:m},null);if(g==="loading")return U(Tr,{class:In("loading"),size:d,type:v},null)},c=()=>{const{type:h,message:g}=e;if(n.message)return U("div",{class:In("text")},[n.message()]);if(We(g)&&g!=="")return h==="html"?U("div",{key:0,class:In("text"),innerHTML:String(g)},null):U("div",{class:In("text")},[g])};return be(()=>[e.show,e.forbidClick],s),be(()=>[e.show,e.type,e.message,e.duration],()=>{l(),e.show&&e.duration>0&&(i=setTimeout(()=>{o(!1)},e.duration))}),ut(s),Qn(s),()=>U(Rs,et({class:[In([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:a,onClosed:l,"onUpdate:show":o},fn(e,E2)),{default:()=>[u(),c()]})}});function ha(){const e=Xe({show:!1}),t=r=>{e.show=r},n=r=>{Be(e,r,{transitionAppear:!0}),t(!0)},i=()=>t(!1);return Ht({open:n,close:i,toggle:t}),{open:n,close:i,state:e,toggle:t}}function da(e){const t=uh(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const A2={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Br=[],k2=!1,Pc=Be({},A2);const O2=new Map;function jh(e){return ei(e)?e:{message:e}}function M2(){const{instance:e}=da({setup(){const t=ae(""),{open:n,state:i,close:r,toggle:s}=ha(),o=()=>{},a=()=>U(zh,et(i,{onClosed:o,"onUpdate:show":s}),null);return be(t,l=>{i.message=l}),Et().render=a,{open:n,close:r,message:t}}});return e}function F2(){if(!Br.length||k2){const e=M2();Br.push(e)}return Br[Br.length-1]}function L2(e={}){if(!Jn)return{};const t=F2(),n=jh(e);return t.open(Be({},Pc,O2.get(n.type||Pc.type),n)),t}const I2=e=>t=>L2(Be({type:e},jh(t))),N2=I2("loading"),D2=Me(zh),[B2,to]=Oe("switch"),G2={size:ge,loading:Boolean,disabled:Boolean,modelValue:st,activeColor:String,inactiveColor:String,activeValue:{type:st,default:!0},inactiveValue:{type:st,default:!1}};var V2=we({name:B2,props:G2,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const i=()=>e.modelValue===e.activeValue,r=()=>{if(!e.disabled&&!e.loading){const o=i()?e.inactiveValue:e.activeValue;t("update:modelValue",o),t("change",o)}},s=()=>{if(e.loading){const o=i()?e.activeColor:e.inactiveColor;return U(Tr,{class:to("loading"),color:o},null)}if(n.node)return n.node()};return xs(()=>e.modelValue),()=>{var o;const{size:a,loading:l,disabled:u,activeColor:c,inactiveColor:h}=e,g=i(),d={fontSize:$e(a),backgroundColor:g?c:h};return U("div",{role:"switch",class:to({on:g,loading:l,disabled:u}),style:d,tabindex:u?void 0:0,"aria-checked":g,onClick:r},[U("div",{class:to("node")},[s()]),(o=n.background)==null?void 0:o.call(n)])}}});const U2=Me(V2),[Wh,$2]=Oe("radio-group"),H2={shape:String,disabled:Boolean,iconSize:ge,direction:String,modelValue:st,checkedColor:String},qh=Symbol(Wh);var z2=we({name:Wh,props:H2,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:i}=ws(qh),r=s=>t("update:modelValue",s);return be(()=>e.modelValue,s=>t("change",s)),i({props:e,updateValue:r}),xs(()=>e.modelValue),()=>{var s;return U("div",{class:$2([e.direction]),role:"radiogroup"},[(s=n.default)==null?void 0:s.call(n)])}}});const j2=Me(z2),Kh={name:st,disabled:Boolean,iconSize:ge,modelValue:st,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var W2=we({props:Be({},Kh,{bem:Un(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:ye,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:t,slots:n}){const i=ae(),r=g=>{if(e.parent&&e.bindGroup)return e.parent.props[g]},s=ue(()=>{if(e.parent&&e.bindGroup){const g=r("disabled")||e.disabled;if(e.role==="checkbox"){const d=r("modelValue").length,m=r("max"),v=m&&d>=+m;return g||v&&!e.checked}return g}return e.disabled}),o=ue(()=>r("direction")),a=ue(()=>{const g=e.checkedColor||r("checkedColor");if(g&&e.checked&&!s.value)return{borderColor:g,backgroundColor:g}}),l=ue(()=>e.shape||r("shape")||"round"),u=g=>{const{target:d}=g,m=i.value,v=m===d||(m==null?void 0:m.contains(d));!s.value&&(v||!e.labelDisabled)&&t("toggle"),t("click",g)},c=()=>{var g,d;const{bem:m,checked:v,indeterminate:y}=e,S=e.iconSize||r("iconSize");return U("div",{ref:i,class:m("icon",[l.value,{disabled:s.value,checked:v,indeterminate:y}]),style:l.value!=="dot"?{fontSize:$e(S)}:{width:$e(S),height:$e(S),borderColor:(g=a.value)==null?void 0:g.borderColor}},[n.icon?n.icon({checked:v,disabled:s.value}):l.value!=="dot"?U(Je,{name:y?"minus":"success",style:a.value},null):U("div",{class:m("icon--dot__icon"),style:{backgroundColor:(d=a.value)==null?void 0:d.backgroundColor}},null)])},h=()=>{const{checked:g}=e;if(n.default)return U("span",{class:e.bem("label",[e.labelPosition,{disabled:s.value}])},[n.default({checked:g,disabled:s.value})])};return()=>{const g=e.labelPosition==="left"?[h(),c()]:[c(),h()];return U("div",{role:e.role,class:e.bem([{disabled:s.value,"label-disabled":e.labelDisabled},o.value]),tabindex:s.value?void 0:0,"aria-checked":e.checked,onClick:u},[g])}}});const q2=Be({},Kh,{shape:String}),[K2,Y2]=Oe("radio");var X2=we({name:K2,props:q2,emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:i}=xr(qh),r=()=>(i?i.props.modelValue:e.modelValue)===e.name,s=()=>{i?i.updateValue(e.name):t("update:modelValue",e.name)};return()=>U(W2,et({bem:Y2,role:"radio",parent:i,checked:r(),onToggle:s},e),fn(n,["default","icon"]))}});const Z2=Me(X2),[Q2,Nn]=Oe("image"),J2={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:ge,height:ge,radius:ge,lazyLoad:Boolean,iconSize:ge,showError:ye,errorIcon:xe("photo-fail"),iconPrefix:String,showLoading:ye,loadingIcon:xe("photo"),crossorigin:String,referrerpolicy:String};var em=we({name:Q2,props:J2,emits:["load","error"],setup(e,{emit:t,slots:n}){const i=ae(!1),r=ae(!0),s=ae(),{$Lazyload:o}=Et().proxy,a=ue(()=>{const y={width:$e(e.width),height:$e(e.height)};return We(e.radius)&&(y.overflow="hidden",y.borderRadius=$e(e.radius)),y});be(()=>e.src,()=>{i.value=!1,r.value=!0});const l=y=>{r.value&&(r.value=!1,t("load",y))},u=()=>{const y=new Event("load");Object.defineProperty(y,"target",{value:s.value,enumerable:!0}),l(y)},c=y=>{i.value=!0,r.value=!1,t("error",y)},h=(y,S,p)=>p?p():U(Je,{name:y,size:e.iconSize,class:S,classPrefix:e.iconPrefix},null),g=()=>{if(r.value&&e.showLoading)return U("div",{class:Nn("loading")},[h(e.loadingIcon,Nn("loading-icon"),n.loading)]);if(i.value&&e.showError)return U("div",{class:Nn("error")},[h(e.errorIcon,Nn("error-icon"),n.error)])},d=()=>{if(i.value||!e.src)return;const y={alt:e.alt,class:Nn("img"),style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?hr(U("img",et({ref:s},y),null),[[bf("lazy"),e.src]]):U("img",et({ref:s,src:e.src,onLoad:l,onError:c},y),null)},m=({el:y})=>{const S=()=>{y===s.value&&r.value&&u()};s.value?S():ct(S)},v=({el:y})=>{y===s.value&&!i.value&&c()};return o&&Jn&&(o.$on("loaded",m),o.$on("error",v),Bt(()=>{o.$off("loaded",m),o.$off("error",v)})),ut(()=>{ct(()=>{var y;(y=s.value)!=null&&y.complete&&!e.lazyLoad&&u()})}),()=>{var y;return U("div",{class:Nn({round:e.round,block:e.block}),style:a.value},[d(),g(),(y=n.default)==null?void 0:y.call(n)])}}});const fa=Me(em),[tm,Tc]=Oe("cell-group"),nm={title:String,inset:Boolean,border:ye};var im=we({name:tm,inheritAttrs:!1,props:nm,setup(e,{slots:t,attrs:n}){const i=()=>{var s;return U("div",et({class:[Tc({inset:e.inset}),{[Ah]:e.border&&!e.inset}]},n,Ao()),[(s=t.default)==null?void 0:s.call(t)])},r=()=>U("div",{class:Tc("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?U(Qe,null,[r(),i()]):i()}});const rm=Me(im),sm=Me(A1),[om,Ft,Gr]=Oe("dialog"),am=Be({},ua,{title:String,theme:String,width:ge,message:[String,Function],callback:Function,allowHtml:Boolean,className:st,transition:xe("van-dialog-bounce"),messageAlign:String,closeOnPopstate:ye,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:ye,closeOnClickOverlay:Boolean,keyboardEnabled:ye}),lm=[...W1,"transition","closeOnPopstate"];var Yh=we({name:om,props:am,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const i=ae(),r=Xe({confirm:!1,cancel:!1}),s=S=>t("update:show",S),o=S=>{var p;s(!1),(p=e.callback)==null||p.call(e,S)},a=S=>()=>{e.show&&(t(S),e.beforeClose?(r[S]=!0,ni(e.beforeClose,{args:[S],done(){o(S),r[S]=!1},canceled(){r[S]=!1}})):o(S))},l=a("cancel"),u=a("confirm"),c=N0(S=>{var p,f;if(!e.keyboardEnabled||S.target!==((f=(p=i.value)==null?void 0:p.popupRef)==null?void 0:f.value))return;({Enter:e.showConfirmButton?u:To,Escape:e.showCancelButton?l:To})[S.key](),t("keydown",S)},["enter","esc"]),h=()=>{const S=n.title?n.title():e.title;if(S)return U("div",{class:Ft("header",{isolated:!e.message&&!n.default})},[S])},g=S=>{const{message:p,allowHtml:f,messageAlign:b}=e,w=Ft("message",{"has-title":S,[b]:b}),R=qn(p)?p():p;return f&&typeof R=="string"?U("div",{class:w,innerHTML:R},null):U("div",{class:w},[R])},d=()=>{if(n.default)return U("div",{class:Ft("content")},[n.default()]);const{title:S,message:p,allowHtml:f}=e;if(p){const b=!!(S||n.title);return U("div",{key:f?1:0,class:Ft("content",{isolated:!b})},[g(b)])}},m=()=>U("div",{class:[c1,Ft("footer")]},[e.showCancelButton&&U(rs,{size:"large",text:e.cancelButtonText||Gr("cancel"),class:Ft("cancel"),style:{color:e.cancelButtonColor},loading:r.cancel,disabled:e.cancelButtonDisabled,onClick:l},null),e.showConfirmButton&&U(rs,{size:"large",text:e.confirmButtonText||Gr("confirm"),class:[Ft("confirm"),{[u1]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:r.confirm,disabled:e.confirmButtonDisabled,onClick:u},null)]),v=()=>U(_1,{class:Ft("footer")},{default:()=>[e.showCancelButton&&U(bc,{type:"warning",text:e.cancelButtonText||Gr("cancel"),class:Ft("cancel"),color:e.cancelButtonColor,loading:r.cancel,disabled:e.cancelButtonDisabled,onClick:l},null),e.showConfirmButton&&U(bc,{type:"danger",text:e.confirmButtonText||Gr("confirm"),class:Ft("confirm"),color:e.confirmButtonColor,loading:r.confirm,disabled:e.confirmButtonDisabled,onClick:u},null)]}),y=()=>n.footer?n.footer():e.theme==="round-button"?v():m();return()=>{const{width:S,title:p,theme:f,message:b,className:w}=e;return U(Rs,et({ref:i,role:"dialog",class:[Ft([f]),w],style:{width:$e(S)},tabindex:0,"aria-labelledby":p||b,onKeydown:c,"onUpdate:show":s},fn(e,lm)),{default:()=>[h(),d(),y()]})}}});let ko;const cm={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let um=Be({},cm);function hm(){({instance:ko}=da({setup(){const{state:t,toggle:n}=ha();return()=>U(Yh,et(t,{"onUpdate:show":n}),null)}}))}function dm(e){return Jn?new Promise((t,n)=>{ko||hm(),ko.open(Be({},um,e,{callback:i=>{(i==="confirm"?t:n)(i)}}))}):Promise.resolve(void 0)}const fm=e=>dm(Be({showCancelButton:!0},e)),gm=Me(Yh),[mm,pm]=Oe("divider"),vm={dashed:Boolean,hairline:ye,vertical:Boolean,contentPosition:xe("center")};var _m=we({name:mm,props:vm,setup(e,{slots:t}){return()=>{var n;return U("div",{role:"separator",class:pm({dashed:e.dashed,hairline:e.hairline,vertical:e.vertical,[`content-${e.contentPosition}`]:!!t.default&&!e.vertical})},[!e.vertical&&((n=t.default)==null?void 0:n.call(t))])}}});const ym=Me(_m),Ec=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),bm=e=>({x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2}),no=Oe("image-preview")[1],Rc=2.6,Sm={src:String,show:Boolean,active:Number,minZoom:Un(ge),maxZoom:Un(ge),rootWidth:Un(Number),rootHeight:Un(Number),disableZoom:Boolean,doubleScale:Boolean,closeOnClickImage:Boolean,closeOnClickOverlay:Boolean,vertical:Boolean};var Cm=we({props:Sm,emits:["scale","close","longPress"],setup(e,{emit:t,slots:n}){const i=Xe({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,initializing:!1,imageRatio:0}),r=Er(),s=ae(),o=ae(),a=ae(!1),l=ae(!1);let u=0;const c=ue(()=>{const{scale:O,moveX:L,moveY:B,moving:W,zooming:z,initializing:$}=i,X={transitionDuration:z||W||$?"0s":".3s"};return(O!==1||l.value)&&(X.transform=`matrix(${O}, 0, 0, ${O}, ${L}, ${B})`),X}),h=ue(()=>{if(i.imageRatio){const{rootWidth:O,rootHeight:L}=e,B=a.value?L/i.imageRatio:O;return Math.max(0,(i.scale*B-O)/2)}return 0}),g=ue(()=>{if(i.imageRatio){const{rootWidth:O,rootHeight:L}=e,B=a.value?L:O*i.imageRatio;return Math.max(0,(i.scale*B-L)/2)}return 0}),d=(O,L)=>{var B;if(O=wt(O,+e.minZoom,+e.maxZoom+1),O!==i.scale){const W=O/i.scale;if(i.scale=O,L){const z=Kn((B=s.value)==null?void 0:B.$el),$={x:z.width*.5,y:z.height*.5},X=i.moveX-(L.x-z.left-$.x)*(W-1),q=i.moveY-(L.y-z.top-$.y)*(W-1);i.moveX=wt(X,-h.value,h.value),i.moveY=wt(q,-g.value,g.value)}else i.moveX=0,i.moveY=l.value?u:0;t("scale",{scale:O,index:e.active})}},m=()=>{d(1)},v=()=>{const O=i.scale>1?1:2;d(O,O===2||l.value?{x:r.startX.value,y:r.startY.value}:void 0)};let y,S,p,f,b,w,R,I,T=!1;const x=O=>{const{touches:L}=O;if(y=L.length,y===2&&e.disableZoom)return;const{offsetX:B}=r;r.start(O),S=i.moveX,p=i.moveY,I=Date.now(),T=!1,i.moving=y===1&&(i.scale!==1||l.value),i.zooming=y===2&&!B.value,i.zooming&&(f=i.scale,b=Ec(L))},E=O=>{const{touches:L}=O;if(r.move(O),i.moving){const{deltaX:B,deltaY:W}=r,z=B.value+S,$=W.value+p;if((e.vertical?r.isVertical()&&Math.abs($)>g.value:r.isHorizontal()&&Math.abs(z)>h.value)&&!T){i.moving=!1;return}T=!0,Mt(O,!0),i.moveX=wt(z,-h.value,h.value),i.moveY=wt($,-g.value,g.value)}if(i.zooming&&(Mt(O,!0),L.length===2)){const B=Ec(L),W=f*B/b;w=bm(L),d(W,w)}},A=O=>{var L;const B=(L=o.value)==null?void 0:L.$el;if(!B)return;const W=B.firstElementChild,z=O.target===B,$=W==null?void 0:W.contains(O.target);!e.closeOnClickImage&&$||!e.closeOnClickOverlay&&z||t("close")},M=O=>{if(y>1)return;const L=Date.now()-I,B=250;r.isTap.value&&(L<B?e.doubleScale?R?(clearTimeout(R),R=null,v()):R=setTimeout(()=>{A(O),R=null},B):A(O):L>g1&&t("longPress"))},_=O=>{let L=!1;if((i.moving||i.zooming)&&(L=!0,i.moving&&S===i.moveX&&p===i.moveY&&(L=!1),!O.touches.length)){i.zooming&&(i.moveX=wt(i.moveX,-h.value,h.value),i.moveY=wt(i.moveY,-g.value,g.value),i.zooming=!1),i.moving=!1,S=0,p=0,f=1,i.scale<1&&m();const B=+e.maxZoom;i.scale>B&&d(B,w)}Mt(O,L),M(O),r.reset()},k=()=>{const{rootWidth:O,rootHeight:L}=e,B=L/O,{imageRatio:W}=i;a.value=i.imageRatio>B&&W<Rc,l.value=i.imageRatio>B&&W>=Rc,l.value&&(u=(W*O-L)/2,i.moveY=u,i.initializing=!0,Eo(()=>{i.initializing=!1})),m()},C=O=>{const{naturalWidth:L,naturalHeight:B}=O.target;i.imageRatio=B/L,k()};return be(()=>e.active,m),be(()=>e.show,O=>{O||m()}),be(()=>[e.rootWidth,e.rootHeight],k),yn("touchmove",E,{target:ue(()=>{var O;return(O=o.value)==null?void 0:O.$el})}),Ht({resetScale:m}),()=>{const O={loading:()=>U(Tr,{type:"spinner"},null)};return U(h2,{ref:o,class:no("swipe-item"),onTouchstartPassive:x,onTouchend:_,onTouchcancel:_},{default:()=>[n.image?U("div",{class:no("image-wrap")},[n.image({src:e.src,onLoad:C,style:c.value})]):U(fa,{ref:s,src:e.src,fit:"contain",class:no("image",{vertical:a.value}),style:c.value,onLoad:C},O)]})}}});const[wm,Dn]=Oe("image-preview"),xm=["show","teleport","transition","overlayStyle","closeOnPopstate"],Pm={show:Boolean,loop:ye,images:Sh(),minZoom:gt(1/3),maxZoom:gt(3),overlay:ye,vertical:Boolean,closeable:Boolean,showIndex:ye,className:st,closeIcon:xe("clear"),transition:String,beforeClose:Function,doubleScale:ye,overlayClass:st,overlayStyle:Object,swipeDuration:gt(300),startPosition:gt(0),showIndicators:Boolean,closeOnPopstate:ye,closeOnClickImage:ye,closeOnClickOverlay:ye,closeIconPosition:xe("top-right"),teleport:[String,Object]};var Xh=we({name:wm,props:Pm,emits:["scale","close","closed","change","longPress","update:show"],setup(e,{emit:t,slots:n}){const i=ae(),r=ae(),s=Xe({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),o=()=>{if(i.value){const f=Kn(i.value.$el);s.rootWidth=f.width,s.rootHeight=f.height,i.value.resize()}},a=f=>t("scale",f),l=f=>t("update:show",f),u=()=>{ni(e.beforeClose,{args:[s.active],done:()=>l(!1)})},c=f=>{f!==s.active&&(s.active=f,t("change",f))},h=()=>{if(e.showIndex)return U("div",{class:Dn("index")},[n.index?n.index({index:s.active}):`${s.active+1} / ${e.images.length}`])},g=()=>{if(n.cover)return U("div",{class:Dn("cover")},[n.cover()])},d=()=>{s.disableZoom=!0},m=()=>{s.disableZoom=!1},v=()=>U(a2,{ref:i,lazyRender:!0,loop:e.loop,class:Dn("swipe"),vertical:e.vertical,duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:c,onDragEnd:m,onDragStart:d},{default:()=>[e.images.map((f,b)=>U(Cm,{ref:w=>{b===s.active&&(r.value=w)},src:f,show:e.show,active:s.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:s.rootWidth,rootHeight:s.rootHeight,disableZoom:s.disableZoom,doubleScale:e.doubleScale,closeOnClickImage:e.closeOnClickImage,closeOnClickOverlay:e.closeOnClickOverlay,vertical:e.vertical,onScale:a,onClose:u,onLongPress:()=>t("longPress",{index:b})},{image:n.image}))]}),y=()=>{if(e.closeable)return U(Je,{role:"button",name:e.closeIcon,class:[Dn("close-icon",e.closeIconPosition),is],onClick:u},null)},S=()=>t("closed"),p=(f,b)=>{var w;return(w=i.value)==null?void 0:w.swipeTo(f,b)};return Ht({resetScale:()=>{var f;(f=r.value)==null||f.resetScale()},swipeTo:p}),ut(o),be([oa,aa],o),be(()=>e.startPosition,f=>c(+f)),be(()=>e.show,f=>{const{images:b,startPosition:w}=e;f?(c(+w),ct(()=>{o(),p(+w,{immediate:!0})})):t("close",{index:s.active,url:b[s.active]})}),()=>U(Rs,et({class:[Dn(),e.className],overlayClass:[Dn("overlay"),e.overlayClass],onClosed:S,"onUpdate:show":l},fn(e,xm)),{default:()=>[y(),v(),h(),g()]})}});let jr;const Tm={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,vertical:!1,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,doubleScale:!0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeOnClickOverlay:!0,closeIconPosition:"top-right"};function Em(){({instance:jr}=da({setup(){const{state:e,toggle:t}=ha(),n=()=>{e.images=[]};return()=>U(Xh,et(e,{onClosed:n,"onUpdate:show":t}),null)}}))}const Rm=(e,t=0)=>{if(Jn)return jr||Em(),e=Array.isArray(e)?{images:e,startPosition:t}:e,jr.open(Be({},Tm,e)),jr};Me(Xh);const[Am,Yt]=Oe("nav-bar"),km={title:String,fixed:Boolean,zIndex:ge,border:ye,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:ye};var Om=we({name:Am,props:km,emits:["clickLeft","clickRight"],setup(e,{emit:t,slots:n}){const i=ae(),r=ca(i,Yt),s=c=>{e.leftDisabled||t("clickLeft",c)},o=c=>{e.rightDisabled||t("clickRight",c)},a=()=>n.left?n.left():[e.leftArrow&&U(Je,{class:Yt("arrow"),name:"arrow-left"},null),e.leftText&&U("span",{class:Yt("text")},[e.leftText])],l=()=>n.right?n.right():U("span",{class:Yt("text")},[e.rightText]),u=()=>{const{title:c,fixed:h,border:g,zIndex:d}=e,m=la(d),v=e.leftArrow||e.leftText||n.left,y=e.rightText||n.right;return U("div",{ref:i,style:m,class:[Yt({fixed:h}),{[h1]:g,"van-safe-area-top":e.safeAreaInsetTop}]},[U("div",{class:Yt("content")},[v&&U("div",{class:[Yt("left",{disabled:e.leftDisabled}),e.clickable&&!e.leftDisabled?is:""],onClick:s},[a()]),U("div",{class:[Yt("title"),"van-ellipsis"]},[n.title?n.title():c]),y&&U("div",{class:[Yt("right",{disabled:e.rightDisabled}),e.clickable&&!e.rightDisabled?is:""],onClick:o},[l()])])])};return()=>e.fixed&&e.placeholder?r(u):u()}});const Mm=Me(Om),[Fm,Yi]=Oe("slider"),Lm={min:gt(0),max:gt(100),step:gt(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:ge,buttonSize:ge,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var Im=we({name:Fm,props:Lm,emits:["change","dragEnd","dragStart","update:modelValue"],setup(e,{emit:t,slots:n}){let i,r,s;const o=ae(),a=[ae(),ae()],l=ae(),u=Er(),c=ue(()=>Number(e.max)-Number(e.min)),h=ue(()=>{const A=e.vertical?"width":"height";return{background:e.inactiveColor,[A]:$e(e.barHeight)}}),g=A=>e.range&&Array.isArray(A),d=()=>{const{modelValue:A,min:M}=e;return g(A)?`${(A[1]-A[0])*100/c.value}%`:`${(A-Number(M))*100/c.value}%`},m=()=>{const{modelValue:A,min:M}=e;return g(A)?`${(A[0]-Number(M))*100/c.value}%`:"0%"},v=ue(()=>{const M={[e.vertical?"height":"width"]:d(),background:e.activeColor};l.value&&(M.transition="none");const _=()=>e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left";return M[_()]=m(),M}),y=A=>{const M=+e.min,_=+e.max,k=+e.step;A=wt(A,M,_);const C=Math.round((A-M)/k)*k;return t1(M,C)},S=()=>{const A=e.modelValue;g(A)?s=A.map(y):s=y(A)},p=A=>{var M,_;const k=(M=A[0])!=null?M:Number(e.min),C=(_=A[1])!=null?_:Number(e.max);return k>C?[C,k]:[k,C]},f=(A,M)=>{g(A)?A=p(A).map(y):A=y(A),lc(A,e.modelValue)||t("update:modelValue",A),M&&!lc(A,s)&&t("change",A)},b=A=>{if(A.stopPropagation(),e.disabled||e.readonly)return;S();const{min:M,reverse:_,vertical:k,modelValue:C}=e,O=Kn(o),L=()=>k?_?O.bottom-A.clientY:A.clientY-O.top:_?O.right-A.clientX:A.clientX-O.left,B=k?O.height:O.width,W=Number(M)+L()/B*c.value;if(g(C)){const[z,$]=C,X=(z+$)/2;W<=X?f([W,$],!0):f([z,W],!0)}else f(W,!0)},w=A=>{e.disabled||e.readonly||(u.start(A),r=e.modelValue,S(),l.value="start")},R=A=>{if(e.disabled||e.readonly)return;l.value==="start"&&t("dragStart",A),Mt(A,!0),u.move(A),l.value="dragging";const M=Kn(o),_=e.vertical?u.deltaY.value:u.deltaX.value,k=e.vertical?M.height:M.width;let C=_/k*c.value;if(e.reverse&&(C=-C),g(s)){const O=e.reverse?1-i:i;r[O]=s[O]+C}else r=s+C;f(r)},I=A=>{e.disabled||e.readonly||(l.value==="dragging"&&(f(r,!0),t("dragEnd",A)),l.value="")},T=A=>typeof A=="number"?Yi("button-wrapper",["left","right"][A]):Yi("button-wrapper",e.reverse?"left":"right"),x=(A,M)=>{const _=l.value==="dragging";if(typeof M=="number"){const k=n[M===0?"left-button":"right-button"];let C;if(_&&Array.isArray(r)&&(C=r[0]>r[1]?i^1:i),k)return k({value:A,dragging:_,dragIndex:C})}return n.button?n.button({value:A,dragging:_}):U("div",{class:Yi("button"),style:Ps(e.buttonSize)},null)},E=A=>{const M=typeof A=="number"?e.modelValue[A]:e.modelValue;return U("div",{ref:a[A??0],role:"slider",class:T(A),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":M,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstartPassive:_=>{typeof A=="number"&&(i=A),w(_)},onTouchend:I,onTouchcancel:I,onClick:Th},[x(M,A)])};return f(e.modelValue),xs(()=>e.modelValue),a.forEach(A=>{yn("touchmove",R,{target:A})}),()=>U("div",{ref:o,style:h.value,class:Yi({vertical:e.vertical,disabled:e.disabled}),onClick:b},[U("div",{class:Yi("bar"),style:v.value},[e.range?[E(0),E(1)]:E()])])}});const Nm=Me(Im),[Dm,io]=Oe("swipe-cell"),Bm={name:gt(""),disabled:Boolean,leftWidth:ge,rightWidth:ge,beforeClose:Function,stopPropagation:Boolean};var Gm=we({name:Dm,props:Bm,emits:["open","close","click"],setup(e,{emit:t,slots:n}){let i,r,s,o;const a=ae(),l=ae(),u=ae(),c=Xe({offset:0,dragging:!1}),h=Er(),g=T=>T.value?Kn(T).width:0,d=ue(()=>We(e.leftWidth)?+e.leftWidth:g(l)),m=ue(()=>We(e.rightWidth)?+e.rightWidth:g(u)),v=T=>{c.offset=T==="left"?d.value:-m.value,i||(i=!0,t("open",{name:e.name,position:T}))},y=T=>{c.offset=0,i&&(i=!1,t("close",{name:e.name,position:T}))},S=T=>{const x=Math.abs(c.offset),E=.15,A=i?1-E:E,M=T==="left"?d.value:m.value;M&&x>M*A?v(T):y(T)},p=T=>{e.disabled||(s=c.offset,h.start(T))},f=T=>{if(e.disabled)return;const{deltaX:x}=h;h.move(T),h.isHorizontal()&&(r=!0,c.dragging=!0,(!i||x.value*s<0)&&Mt(T,e.stopPropagation),c.offset=wt(x.value+s,-m.value,d.value))},b=()=>{c.dragging&&(c.dragging=!1,S(c.offset>0?"left":"right"),setTimeout(()=>{r=!1},0))},w=(T="outside",x)=>{o||(t("click",T),i&&!r&&(o=!0,ni(e.beforeClose,{args:[{event:x,name:e.name,position:T}],done:()=>{o=!1,y(T)},canceled:()=>o=!1,error:()=>o=!1})))},R=(T,x)=>E=>{x&&E.stopPropagation(),!r&&w(T,E)},I=(T,x)=>{const E=n[T];if(E)return U("div",{ref:x,class:io(T),onClick:R(T,!0)},[E()])};return Ht({open:v,close:y}),Hg(a,T=>w("outside",T),{eventName:"touchstart"}),yn("touchmove",f,{target:a}),()=>{var T;const x={transform:`translate3d(${c.offset}px, 0, 0)`,transitionDuration:c.dragging?"0s":".6s"};return U("div",{ref:a,class:io(),onClick:R("cell",r),onTouchstartPassive:p,onTouchend:b,onTouchcancel:b},[U("div",{class:io("wrapper"),style:x},[I("left",l),(T=n.default)==null?void 0:T.call(n),I("right",u)])])}}});const Vm=Me(Gm),[Zh,Ac]=Oe("tabbar"),Um={route:Boolean,fixed:ye,border:ye,zIndex:ge,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:gt(0),safeAreaInsetBottom:{type:Boolean,default:null}},Qh=Symbol(Zh);var $m=we({name:Zh,props:Um,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const i=ae(),{linkChildren:r}=ws(Qh),s=ca(i,Ac),o=()=>{var u;return(u=e.safeAreaInsetBottom)!=null?u:e.fixed},a=()=>{var u;const{fixed:c,zIndex:h,border:g}=e;return U("div",{ref:i,role:"tablist",style:la(h),class:[Ac({fixed:c}),{[Ah]:g,"van-safe-area-bottom":o()}]},[(u=n.default)==null?void 0:u.call(n)])};return r({props:e,setActive:(u,c)=>{ni(e.beforeChange,{args:[u],done(){t("update:modelValue",u),t("change",u),c()}})}}),()=>e.fixed&&e.placeholder?s(a):a()}});const Hm=Me($m),[zm,ro]=Oe("tabbar-item"),jm=Be({},Ts,{dot:Boolean,icon:String,name:ge,badge:ge,badgeProps:Object,iconPrefix:String});var Wm=we({name:zm,props:jm,emits:["click"],setup(e,{emit:t,slots:n}){const i=Es(),r=Et().proxy,{parent:s,index:o}=xr(Qh);if(!s)return;const a=ue(()=>{var c;const{route:h,modelValue:g}=s.props;if(h&&"$route"in r){const{$route:d}=r,{to:m}=e,v=ei(m)?m:{path:m};return!!d.matched.find(y=>{const S="path"in v&&v.path===y.path,p="name"in v&&v.name===y.name;return S||p})}return((c=e.name)!=null?c:o.value)===g}),l=c=>{var h;a.value||s.setActive((h=e.name)!=null?h:o.value,i),t("click",c)},u=()=>{if(n.icon)return n.icon({active:a.value});if(e.icon)return U(Je,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var c;const{dot:h,badge:g}=e,{activeColor:d,inactiveColor:m}=s.props,v=a.value?d:m;return U("div",{role:"tab",class:ro({active:a.value}),style:{color:v},tabindex:0,"aria-selected":a.value,onClick:l},[U(Lh,et({dot:h,class:ro("icon"),content:g},e.badgeProps),{default:u}),U("div",{class:ro("text")},[(c=n.default)==null?void 0:c.call(n,{active:a.value})])])}}});const qm=Me(Wm),[Km,Ke,Ym]=Oe("uploader");function kc(e,t){return new Promise(n=>{if(t==="file"){n();return}const i=new FileReader;i.onload=r=>{n(r.target.result)},t==="dataUrl"?i.readAsDataURL(e):t==="text"&&i.readAsText(e)})}function Jh(e,t){return ns(e).some(n=>n.file?qn(t)?t(n.file):n.file.size>+t:!1)}function Xm(e,t){const n=[],i=[];return e.forEach(r=>{Jh(r,t)?i.push(r):n.push(r)}),{valid:n,invalid:i}}const Zm=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i,Qm=e=>Zm.test(e);function ed(e){return e.isImage?!0:e.file&&e.file.type?e.file.type.indexOf("image")===0:e.url?Qm(e.url):typeof e.content=="string"?e.content.indexOf("data:image")===0:!1}var Jm=we({props:{name:ge,item:Un(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(e,{emit:t,slots:n}){const i=()=>{const{status:c,message:h}=e.item;if(c==="uploading"||c==="failed"){const g=c==="failed"?U(Je,{name:"close",class:Ke("mask-icon")},null):U(Tr,{class:Ke("loading")},null),d=We(h)&&h!=="";return U("div",{class:Ke("mask")},[g,d&&U("div",{class:Ke("mask-message")},[h])])}},r=c=>{const{name:h,item:g,index:d,beforeDelete:m}=e;c.stopPropagation(),ni(m,{args:[g,{name:h,index:d}],done:()=>t("delete")})},s=()=>t("preview"),o=()=>t("reupload"),a=()=>{if(e.deletable&&e.item.status!=="uploading"){const c=n["preview-delete"];return U("div",{role:"button",class:Ke("preview-delete",{shadow:!c}),tabindex:0,"aria-label":Ym("delete"),onClick:r},[c?c():U(Je,{name:"cross",class:Ke("preview-delete-icon")},null)])}},l=()=>{if(n["preview-cover"]){const{index:c,item:h}=e;return U("div",{class:Ke("preview-cover")},[n["preview-cover"](Be({index:c},h))])}},u=()=>{const{item:c,lazyLoad:h,imageFit:g,previewSize:d,reupload:m}=e;return ed(c)?U(fa,{fit:g,src:c.objectUrl||c.content||c.url,class:Ke("preview-image"),width:Array.isArray(d)?d[0]:d,height:Array.isArray(d)?d[1]:d,lazyLoad:h,onClick:m?o:s},{default:l}):U("div",{class:Ke("file"),style:Ps(e.previewSize)},[U(Je,{class:Ke("file-icon"),name:"description"},null),U("div",{class:[Ke("file-name"),"van-ellipsis"]},[c.file?c.file.name:c.url]),l()])};return()=>U("div",{class:Ke("preview")},[u(),i(),a()])}});const ep={name:gt(""),accept:xe("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:gt(1/0),imageFit:xe("cover"),resultType:xe("dataUrl"),uploadIcon:xe("photograph"),uploadText:String,deletable:ye,reupload:Boolean,afterRead:Function,showUpload:ye,modelValue:Sh(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:ye,previewOptions:Object,previewFullImage:ye,maxSize:{type:[Number,String,Function],default:1/0}};var tp=we({name:Km,props:ep,emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(e,{emit:t,slots:n}){const i=ae(),r=[],s=ae(-1),o=ae(!1),a=(T=e.modelValue.length)=>({name:e.name,index:T}),l=()=>{i.value&&(i.value.value="")},u=T=>{if(l(),Jh(T,e.maxSize))if(Array.isArray(T)){const x=Xm(T,e.maxSize);if(T=x.valid,t("oversize",x.invalid,a()),!T.length)return}else{t("oversize",T,a());return}if(T=Xe(T),s.value>-1){const x=[...e.modelValue];x.splice(s.value,1,T),t("update:modelValue",x),s.value=-1}else t("update:modelValue",[...e.modelValue,...ns(T)]);e.afterRead&&e.afterRead(T,a())},c=T=>{const{maxCount:x,modelValue:E,resultType:A}=e;if(Array.isArray(T)){const M=+x-E.length;T.length>M&&(T=T.slice(0,M)),Promise.all(T.map(_=>kc(_,A))).then(_=>{const k=T.map((C,O)=>{const L={file:C,status:"",message:"",objectUrl:URL.createObjectURL(C)};return _[O]&&(L.content=_[O]),L});u(k)})}else kc(T,A).then(M=>{const _={file:T,status:"",message:"",objectUrl:URL.createObjectURL(T)};M&&(_.content=M),u(_)})},h=T=>{const{files:x}=T.target;if(e.disabled||!x||!x.length)return;const E=x.length===1?x[0]:[].slice.call(x);if(e.beforeRead){const A=e.beforeRead(E,a());if(!A){l();return}if(sa(A)){A.then(M=>{c(M||E)}).catch(l);return}}c(E)};let g;const d=()=>t("closePreview"),m=T=>{if(e.previewFullImage){const x=e.modelValue.filter(ed),E=x.map(A=>(A.objectUrl&&!A.url&&A.status!=="failed"&&(A.url=A.objectUrl,r.push(A.url)),A.url)).filter(Boolean);g=Rm(Be({images:E,startPosition:x.indexOf(T),onClose:d},e.previewOptions))}},v=()=>{g&&g.close()},y=(T,x)=>{const E=e.modelValue.slice(0);E.splice(x,1),t("update:modelValue",E),t("delete",T,a(x))},S=T=>{o.value=!0,s.value=T,ct(()=>I())},p=()=>{o.value||(s.value=-1),o.value=!1},f=(T,x)=>{const E=["imageFit","deletable","reupload","previewSize","beforeDelete"],A=Be(fn(e,E),fn(T,E,!0));return U(Jm,et({item:T,index:x,onClick:()=>t(e.reupload?"clickReupload":"clickPreview",T,a(x)),onDelete:()=>y(T,x),onPreview:()=>m(T),onReupload:()=>S(x)},fn(e,["name","lazyLoad"]),A),fn(n,["preview-cover","preview-delete"]))},b=()=>{if(e.previewImage)return e.modelValue.map(f)},w=T=>t("clickUpload",T),R=()=>{const T=e.modelValue.length<+e.maxCount,x=e.readonly?null:U("input",{ref:i,type:"file",class:Ke("input"),accept:e.accept,capture:e.capture,multiple:e.multiple&&s.value===-1,disabled:e.disabled,onChange:h,onClick:p},null);return n.default?hr(U("div",{class:Ke("input-wrapper"),onClick:w},[n.default(),x]),[[es,T]]):hr(U("div",{class:Ke("upload",{readonly:e.readonly}),style:Ps(e.previewSize),onClick:w},[U(Je,{name:e.uploadIcon,class:Ke("upload-icon")},null),e.uploadText&&U("span",{class:Ke("upload-text")},[e.uploadText]),x]),[[es,e.showUpload&&T]])},I=()=>{i.value&&!e.disabled&&i.value.click()};return Bt(()=>{r.forEach(T=>URL.revokeObjectURL(T))}),Ht({chooseFile:I,reuploadFile:S,closeImagePreview:v}),xs(()=>e.modelValue),()=>U("div",{class:Ke()},[U("div",{class:Ke("wrapper",{disabled:e.disabled})},[b(),R()])])}});const np=Me(tp);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Vn=typeof document<"u";function td(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ip(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&td(e.default)}const Ie=Object.assign;function so(e,t){const n={};for(const i in t){const r=t[i];n[i]=Dt(r)?r.map(e):e(r)}return n}const or=()=>{},Dt=Array.isArray,nd=/#/g,rp=/&/g,sp=/\//g,op=/=/g,ap=/\?/g,id=/\+/g,lp=/%5B/g,cp=/%5D/g,rd=/%5E/g,up=/%60/g,sd=/%7B/g,hp=/%7C/g,od=/%7D/g,dp=/%20/g;function ga(e){return encodeURI(""+e).replace(hp,"|").replace(lp,"[").replace(cp,"]")}function fp(e){return ga(e).replace(sd,"{").replace(od,"}").replace(rd,"^")}function Oo(e){return ga(e).replace(id,"%2B").replace(dp,"+").replace(nd,"%23").replace(rp,"%26").replace(up,"`").replace(sd,"{").replace(od,"}").replace(rd,"^")}function gp(e){return Oo(e).replace(op,"%3D")}function mp(e){return ga(e).replace(nd,"%23").replace(ap,"%3F")}function pp(e){return e==null?"":mp(e).replace(sp,"%2F")}function _r(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const vp=/\/$/,_p=e=>e.replace(vp,"");function oo(e,t,n="/"){let i,r={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),r=e(s)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=Cp(i??t,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:_r(o)}}function yp(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function bp(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&Yn(t.matched[i],n.matched[r])&&ad(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Yn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ad(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Sp(e[n],t[n]))return!1;return!0}function Sp(e,t){return Dt(e)?Oc(e,t):Dt(t)?Oc(t,e):e===t}function Oc(e,t){return Dt(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function Cp(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(o).join("/")}const ln={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var yr;(function(e){e.pop="pop",e.push="push"})(yr||(yr={}));var ss;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ss||(ss={}));const ao="";function wp(e){if(!e)if(Vn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),_p(e)}const xp=/^[^#]+#/;function Pp(e,t){return e.replace(xp,"#")+t}function Tp(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Ep=()=>({left:window.scrollX,top:window.scrollY});function Rp(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Tp(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Mc(e,t){return(history.state?history.state.position-t:-1)+e}const Mo=new Map;function Ap(e,t){Mo.set(e,t)}function kp(e){const t=Mo.get(e);return Mo.delete(e),t}function Op(e=""){let t=[],n=[ao],i=0;e=wp(e);function r(a){i++,i!==n.length&&n.splice(i),n.push(a)}function s(a,l,{direction:u,delta:c}){const h={direction:u,delta:c,type:yr.pop};for(const g of t)g(a,l,h)}const o={location:ao,state:{},base:e,createHref:Pp.bind(null,e),replace(a){n.splice(i--,1),r(a)},push(a,l){r(a)},listen(a){return t.push(a),()=>{const l=t.indexOf(a);l>-1&&t.splice(l,1)}},destroy(){t=[],n=[ao],i=0},go(a,l=!0){const u=this.location,c=a<0?ss.back:ss.forward;i=Math.max(0,Math.min(i+a,n.length-1)),l&&s(this.location,u,{direction:c,delta:a})}};return Object.defineProperty(o,"location",{enumerable:!0,get:()=>n[i]}),o}function Mp(e){return typeof e=="string"||e&&typeof e=="object"}function ld(e){return typeof e=="string"||typeof e=="symbol"}const cd=Symbol("");var Fc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Fc||(Fc={}));function Xn(e,t){return Ie(new Error,{type:e,[cd]:!0},t)}function Xt(e,t){return e instanceof Error&&cd in e&&(t==null||!!(e.type&t))}const Lc="[^/]+?",Fp={sensitive:!1,strict:!1,start:!0,end:!0},Lp=/[.+*?^${}()[\]/\\]/g;function Ip(e,t){const n=Ie({},Fp,t),i=[];let r=n.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let h=0;h<u.length;h++){const g=u[h];let d=40+(n.sensitive?.25:0);if(g.type===0)h||(r+="/"),r+=g.value.replace(Lp,"\\$&"),d+=40;else if(g.type===1){const{value:m,repeatable:v,optional:y,regexp:S}=g;s.push({name:m,repeatable:v,optional:y});const p=S||Lc;if(p!==Lc){d+=10;try{new RegExp(`(${p})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${m}" (${p}): `+b.message)}}let f=v?`((?:${p})(?:/(?:${p}))*)`:`(${p})`;h||(f=y&&u.length<2?`(?:/${f})`:"/"+f),y&&(f+="?"),r+=f,d+=20,y&&(d+=-8),v&&(d+=-20),p===".*"&&(d+=-50)}c.push(d)}i.push(c)}if(n.strict&&n.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let g=1;g<c.length;g++){const d=c[g]||"",m=s[g-1];h[m.name]=d&&m.repeatable?d.split("/"):d}return h}function l(u){let c="",h=!1;for(const g of e){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const d of g)if(d.type===0)c+=d.value;else if(d.type===1){const{value:m,repeatable:v,optional:y}=d,S=m in u?u[m]:"";if(Dt(S)&&!v)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const p=Dt(S)?S.join("/"):S;if(!p)if(y)g.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);c+=p}}return c||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function Np(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function ud(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const s=Np(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(Ic(i))return 1;if(Ic(r))return-1}return r.length-i.length}function Ic(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Dp={type:0,value:""},Bp=/[a-zA-Z0-9_]/;function Gp(e){if(!e)return[[]];if(e==="/")return[[Dp]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${n})/"${u}": ${d}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,u="",c="";function h(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function g(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):g();break;case 4:g(),n=i;break;case 1:l==="("?n=2:Bp.test(l)?g():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),h(),o(),r}function Vp(e,t,n){const i=Ip(Gp(e.path),n),r=Ie(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Up(e,t){const n=[],i=new Map;t=Gc({strict:!1,end:!0,sensitive:!1},t);function r(h){return i.get(h)}function s(h,g,d){const m=!d,v=Dc(h);v.aliasOf=d&&d.record;const y=Gc(t,h),S=[v];if("alias"in h){const b=typeof h.alias=="string"?[h.alias]:h.alias;for(const w of b)S.push(Dc(Ie({},v,{components:d?d.record.components:v.components,path:w,aliasOf:d?d.record:v})))}let p,f;for(const b of S){const{path:w}=b;if(g&&w[0]!=="/"){const R=g.record.path,I=R[R.length-1]==="/"?"":"/";b.path=g.record.path+(w&&I+w)}if(p=Vp(b,g,y),d?d.alias.push(p):(f=f||p,f!==p&&f.alias.push(p),m&&h.name&&!Bc(p)&&o(h.name)),hd(p)&&l(p),v.children){const R=v.children;for(let I=0;I<R.length;I++)s(R[I],p,d&&d.children[I])}d=d||p}return f?()=>{o(f)}:or}function o(h){if(ld(h)){const g=i.get(h);g&&(i.delete(h),n.splice(n.indexOf(g),1),g.children.forEach(o),g.alias.forEach(o))}else{const g=n.indexOf(h);g>-1&&(n.splice(g,1),h.record.name&&i.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const g=zp(h,n);n.splice(g,0,h),h.record.name&&!Bc(h)&&i.set(h.record.name,h)}function u(h,g){let d,m={},v,y;if("name"in h&&h.name){if(d=i.get(h.name),!d)throw Xn(1,{location:h});y=d.record.name,m=Ie(Nc(g.params,d.keys.filter(f=>!f.optional).concat(d.parent?d.parent.keys.filter(f=>f.optional):[]).map(f=>f.name)),h.params&&Nc(h.params,d.keys.map(f=>f.name))),v=d.stringify(m)}else if(h.path!=null)v=h.path,d=n.find(f=>f.re.test(v)),d&&(m=d.parse(v),y=d.record.name);else{if(d=g.name?i.get(g.name):n.find(f=>f.re.test(g.path)),!d)throw Xn(1,{location:h,currentLocation:g});y=d.record.name,m=Ie({},g.params,h.params),v=d.stringify(m)}const S=[];let p=d;for(;p;)S.unshift(p.record),p=p.parent;return{name:y,path:v,params:m,matched:S,meta:Hp(S)}}e.forEach(h=>s(h));function c(){n.length=0,i.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function Nc(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function Dc(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:$p(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function $p(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function Bc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Hp(e){return e.reduce((t,n)=>Ie(t,n.meta),{})}function Gc(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function zp(e,t){let n=0,i=t.length;for(;n!==i;){const s=n+i>>1;ud(e,t[s])<0?i=s:n=s+1}const r=jp(e);return r&&(i=t.lastIndexOf(r,i-1)),i}function jp(e){let t=e;for(;t=t.parent;)if(hd(t)&&ud(e,t)===0)return t}function hd({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Wp(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(id," "),o=s.indexOf("="),a=_r(o<0?s:s.slice(0,o)),l=o<0?null:_r(s.slice(o+1));if(a in t){let u=t[a];Dt(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Vc(e){let t="";for(let n in e){const i=e[n];if(n=gp(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Dt(i)?i.map(s=>s&&Oo(s)):[i&&Oo(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function qp(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Dt(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const Kp=Symbol(""),Uc=Symbol(""),As=Symbol(""),ma=Symbol(""),Fo=Symbol("");function Xi(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function dn(e,t,n,i,r,s=o=>o()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=g=>{g===!1?l(Xn(4,{from:n,to:t})):g instanceof Error?l(g):Mp(g)?l(Xn(2,{from:t,to:g})):(o&&i.enterCallbacks[r]===o&&typeof g=="function"&&o.push(g),a())},c=s(()=>e.call(i&&i.instances[r],t,n,u));let h=Promise.resolve(c);e.length<3&&(h=h.then(u)),h.catch(g=>l(g))})}function lo(e,t,n,i,r=s=>s()){const s=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(td(l)){const c=(l.__vccOpts||l)[t];c&&s.push(dn(c,n,i,o,a,r))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=ip(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const d=(h.__vccOpts||h)[t];return d&&dn(d,n,i,o,a,r)()}))}}return s}function $c(e){const t=mt(As),n=mt(ma),i=ue(()=>{const l=_e(e.to);return t.resolve(l)}),r=ue(()=>{const{matched:l}=i.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const g=h.findIndex(Yn.bind(null,c));if(g>-1)return g;const d=Hc(l[u-2]);return u>1&&Hc(c)===d&&h[h.length-1].path!==d?h.findIndex(Yn.bind(null,l[u-2])):g}),s=ue(()=>r.value>-1&&Jp(n.params,i.value.params)),o=ue(()=>r.value>-1&&r.value===n.matched.length-1&&ad(n.params,i.value.params));function a(l={}){if(Qp(l)){const u=t[_e(e.replace)?"replace":"push"](_e(e.to)).catch(or);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:i,href:ue(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}function Yp(e){return e.length===1?e[0]:e}const Xp=we({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$c,setup(e,{slots:t}){const n=Xe($c(e)),{options:i}=mt(As),r=ue(()=>({[zc(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[zc(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&Yp(t.default(n));return e.custom?s:wr("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),Zp=Xp;function Qp(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Jp(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Dt(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function Hc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const zc=(e,t,n)=>e??t??n,e5=we({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=mt(Fo),r=ue(()=>e.route||i.value),s=mt(Uc,0),o=ue(()=>{let u=_e(s);const{matched:c}=r.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=ue(()=>r.value.matched[o.value]);gn(Uc,ue(()=>o.value+1)),gn(Kp,a),gn(Fo,r);const l=ae();return be(()=>[l.value,a.value,e.name],([u,c,h],[g,d,m])=>{c&&(c.instances[h]=u,d&&d!==c&&u&&u===g&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),u&&c&&(!d||!Yn(c,d)||!g)&&(c.enterCallbacks[h]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,h=a.value,g=h&&h.components[c];if(!g)return jc(n.default,{Component:g,route:u});const d=h.props[c],m=d?d===!0?u.params:typeof d=="function"?d(u):d:null,y=wr(g,Ie({},m,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return jc(n.default,{Component:y,route:u})||y}}});function jc(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const t5=e5;function n5(e){const t=Up(e.routes,e),n=e.parseQuery||Wp,i=e.stringifyQuery||Vc,r=e.history,s=Xi(),o=Xi(),a=Xi(),l=Kd(ln);let u=ln;Vn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=so.bind(null,P=>""+P),h=so.bind(null,pp),g=so.bind(null,_r);function d(P,D){let V,j;return ld(P)?(V=t.getRecordMatcher(P),j=D):j=P,t.addRoute(j,V)}function m(P){const D=t.getRecordMatcher(P);D&&t.removeRoute(D)}function v(){return t.getRoutes().map(P=>P.record)}function y(P){return!!t.getRecordMatcher(P)}function S(P,D){if(D=Ie({},D||l.value),typeof P=="string"){const G=oo(n,P,D.path),H=t.resolve({path:G.path},D),Y=r.createHref(G.fullPath);return Ie(G,H,{params:g(H.params),hash:_r(G.hash),redirectedFrom:void 0,href:Y})}let V;if(P.path!=null)V=Ie({},P,{path:oo(n,P.path,D.path).path});else{const G=Ie({},P.params);for(const H in G)G[H]==null&&delete G[H];V=Ie({},P,{params:h(G)}),D.params=h(D.params)}const j=t.resolve(V,D),Z=P.hash||"";j.params=c(g(j.params));const F=yp(i,Ie({},P,{hash:fp(Z),path:j.path})),N=r.createHref(F);return Ie({fullPath:F,hash:Z,query:i===Vc?qp(P.query):P.query||{}},j,{redirectedFrom:void 0,href:N})}function p(P){return typeof P=="string"?oo(n,P,l.value.path):Ie({},P)}function f(P,D){if(u!==P)return Xn(8,{from:D,to:P})}function b(P){return I(P)}function w(P){return b(Ie(p(P),{replace:!0}))}function R(P){const D=P.matched[P.matched.length-1];if(D&&D.redirect){const{redirect:V}=D;let j=typeof V=="function"?V(P):V;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=p(j):{path:j},j.params={}),Ie({query:P.query,hash:P.hash,params:j.path!=null?{}:P.params},j)}}function I(P,D){const V=u=S(P),j=l.value,Z=P.state,F=P.force,N=P.replace===!0,G=R(V);if(G)return I(Ie(p(G),{state:typeof G=="object"?Ie({},Z,G.state):Z,force:F,replace:N}),D||V);const H=V;H.redirectedFrom=D;let Y;return!F&&bp(i,j,V)&&(Y=Xn(16,{to:H,from:j}),$(j,j,!0,!1)),(Y?Promise.resolve(Y):E(H,j)).catch(K=>Xt(K)?Xt(K,2)?K:z(K):B(K,H,j)).then(K=>{if(K){if(Xt(K,2))return I(Ie({replace:N},p(K.to),{state:typeof K.to=="object"?Ie({},Z,K.to.state):Z,force:F}),D||H)}else K=M(H,j,!0,N,Z);return A(H,j,K),K})}function T(P,D){const V=f(P,D);return V?Promise.reject(V):Promise.resolve()}function x(P){const D=Q.values().next().value;return D&&typeof D.runWithContext=="function"?D.runWithContext(P):P()}function E(P,D){let V;const[j,Z,F]=i5(P,D);V=lo(j.reverse(),"beforeRouteLeave",P,D);for(const G of j)G.leaveGuards.forEach(H=>{V.push(dn(H,P,D))});const N=T.bind(null,P,D);return V.push(N),se(V).then(()=>{V=[];for(const G of s.list())V.push(dn(G,P,D));return V.push(N),se(V)}).then(()=>{V=lo(Z,"beforeRouteUpdate",P,D);for(const G of Z)G.updateGuards.forEach(H=>{V.push(dn(H,P,D))});return V.push(N),se(V)}).then(()=>{V=[];for(const G of F)if(G.beforeEnter)if(Dt(G.beforeEnter))for(const H of G.beforeEnter)V.push(dn(H,P,D));else V.push(dn(G.beforeEnter,P,D));return V.push(N),se(V)}).then(()=>(P.matched.forEach(G=>G.enterCallbacks={}),V=lo(F,"beforeRouteEnter",P,D,x),V.push(N),se(V))).then(()=>{V=[];for(const G of o.list())V.push(dn(G,P,D));return V.push(N),se(V)}).catch(G=>Xt(G,8)?G:Promise.reject(G))}function A(P,D,V){a.list().forEach(j=>x(()=>j(P,D,V)))}function M(P,D,V,j,Z){const F=f(P,D);if(F)return F;const N=D===ln,G=Vn?history.state:{};V&&(j||N?r.replace(P.fullPath,Ie({scroll:N&&G&&G.scroll},Z)):r.push(P.fullPath,Z)),l.value=P,$(P,D,V,N),z()}let _;function k(){_||(_=r.listen((P,D,V)=>{if(!ne.listening)return;const j=S(P),Z=R(j);if(Z){I(Ie(Z,{replace:!0,force:!0}),j).catch(or);return}u=j;const F=l.value;Vn&&Ap(Mc(F.fullPath,V.delta),Ep()),E(j,F).catch(N=>Xt(N,12)?N:Xt(N,2)?(I(Ie(p(N.to),{force:!0}),j).then(G=>{Xt(G,20)&&!V.delta&&V.type===yr.pop&&r.go(-1,!1)}).catch(or),Promise.reject()):(V.delta&&r.go(-V.delta,!1),B(N,j,F))).then(N=>{N=N||M(j,F,!1),N&&(V.delta&&!Xt(N,8)?r.go(-V.delta,!1):V.type===yr.pop&&Xt(N,20)&&r.go(-1,!1)),A(j,F,N)}).catch(or)}))}let C=Xi(),O=Xi(),L;function B(P,D,V){z(P);const j=O.list();return j.length?j.forEach(Z=>Z(P,D,V)):console.error(P),Promise.reject(P)}function W(){return L&&l.value!==ln?Promise.resolve():new Promise((P,D)=>{C.add([P,D])})}function z(P){return L||(L=!P,k(),C.list().forEach(([D,V])=>P?V(P):D()),C.reset()),P}function $(P,D,V,j){const{scrollBehavior:Z}=e;if(!Vn||!Z)return Promise.resolve();const F=!V&&kp(Mc(P.fullPath,0))||(j||!V)&&history.state&&history.state.scroll||null;return ct().then(()=>Z(P,D,F)).then(N=>N&&Rp(N)).catch(N=>B(N,P,D))}const X=P=>r.go(P);let q;const Q=new Set,ne={currentRoute:l,listening:!0,addRoute:d,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:y,getRoutes:v,resolve:S,options:e,push:b,replace:w,go:X,back:()=>X(-1),forward:()=>X(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:O.add,isReady:W,install(P){const D=this;P.component("RouterLink",Zp),P.component("RouterView",t5),P.config.globalProperties.$router=D,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>_e(l)}),Vn&&!q&&l.value===ln&&(q=!0,b(r.location).catch(Z=>{}));const V={};for(const Z in ln)Object.defineProperty(V,Z,{get:()=>l.value[Z],enumerable:!0});P.provide(As,D),P.provide(ma,vu(V)),P.provide(Fo,l);const j=P.unmount;Q.add(P),P.unmount=function(){Q.delete(P),Q.size<1&&(u=ln,_&&_(),_=null,l.value=ln,q=!1,L=!1),j()}}};function se(P){return P.reduce((D,V)=>D.then(()=>x(V)),Promise.resolve())}return ne}function i5(e,t){const n=[],i=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(u=>Yn(u,a))?i.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>Yn(u,l))||r.push(l))}return[n,i,r]}function pa(){return mt(As)}function r5(e){return mt(ma)}const co="#00FF00",Lo="light",s5="dark",Io=ae(Lo),o5=e=>Io.value=e??Io.value==Lo?s5:Lo;let Ue={};const Le=()=>Ue,nn=ae([]),a5=()=>nn.value,l5=(e,t)=>(Ue=Xe({width:e,height:t,scale:1,bgColor:"#ffffff",bgColors:["#ffffff","#000000"],stage:null,transformer:new Re.Transformer({flipEnabled:!1,anchorFill:co,anchorStroke:co,borderStroke:co,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"]}),selectedLayer:null,setScale:n=>{Ue.scale=n,Ue.transformer.anchorSize(Math.round(Ue.transformer.anchorSize()/n)),Ue.transformer.borderStrokeWidth(Math.round(Ue.transformer.borderStrokeWidth()/n)),Ue.transformer.anchorStrokeWidth(Math.round(Ue.transformer.anchorStrokeWidth()/n))}}),nn.value=[],dd(new Re.Rect({x:0,y:0,width:e,height:t,fill:Ue.bgColor,name:"background"}),"circle","background",{locked:!0}),Ue),c5=(e,t,n,i)=>({get id(){return e.id()},get object(){return e},get icon(){return t},get label(){return n},get options(){return i}}),u5=e=>{const t=nn.value.findIndex(n=>n.label==e);return t<0?{layer:null,index:t}:{layer:nn.value[t],index:t}},dd=(e,t,n,i={})=>{const r={locked:!1,selected:!1,...i},s=c5(e,t,n,r),o=nn.value.push(s);return e.id(`layer#${o}`),s},va=()=>{Ue.selectedLayer&&(Ue.selectedLayer.object instanceof Re.Image&&(Ue.selectedLayer.object.setAttrs({draggable:!1}),Ue.selectedLayer.object.off("transform dragmove")),Ue.selectedLayer.options.selected=!1,Ue.selectedLayer=null,Ue.transformer.nodes([]))},h5=e=>{va(),e&&(Ue.selectedLayer=e,Ue.transformer.nodes([e.object]),e.options.selected=!0,e.object instanceof Re.Image&&(e.object.setAttrs({draggable:!0}),e.object.on("transform",()=>{(e.object.scaleX()>1||e.object.scaleY()>1)&&e.object.scale({x:1,y:1})})))},d5=(e=null)=>{e=e??Ue.selectedLayer,Ue.selectedLayer==e&&va();const t=nn.value.indexOf(e);nn.value.splice(t,1)},Wc=.9,qc=120,f5=320,No=(e,t,n,i=0)=>{const{width:r,height:s}=e,o=Math.min(t/r,n/s,1)*(1-i);return{get size(){return{width:Math.round(r*o),height:Math.round(s*o)}},position:{x:Math.round((t-r*o)/2),y:Math.round((n-s*o)/2)},scale:{x:o,y:o}}},g5=(e,t,n,i=!1)=>{const{width:r,height:s}=e;let o=Math.max(t/r,n/s);return o=o>1&&!i?1:o,{get size(){return{width:Math.round(r*o),height:Math.round(s*o)}},position:{x:Math.round((t-r*o)/2),y:Math.round((n-s*o)/2)},scale:{x:o,y:o}}},Kc=e=>e.color!="rgb(255,255,255)"&&e.color!="rgb(0,0,0)",uo=(e,t)=>Math.min(255,Math.round(e/t)*t),m5=(e,t=4,n=24,i=256)=>{const r=e.toCanvas(),s=document.createElement("canvas"),o=s.getContext("2d"),a=r.width,l=r.height,u=Math.min(1,i/Math.max(a,l)),c=Math.floor(a*u),h=Math.floor(l*u);s.width=c,s.height=h,o.drawImage(r,0,0,a,l,0,0,c,h);const g=o.getImageData(0,0,c,h).data,d=new Map,m=[];for(let p=0;p<g.length;p+=4){const f={r:g[p],g:g[p+1],b:g[p+2]};if(g[p+3]===0)continue;const w=`rgb(${uo(f.r,n)},${uo(f.g,n)},${uo(f.b,n)})`,R=Math.sqrt((f.r-f.g)**2+(f.g-f.b)**2+(f.b-f.r)**2);d.has(w)||d.set(w,{count:0,expressiveness:R}),d.get(w).count+=1,m.push(f)}const v=m.reduce((p,f)=>(p.r+=f.r,p.g+=f.g,p.b+=f.b,p),{r:0,g:0,b:0,get color(){return`rgb(${this.r},${this.g},${this.b})`}});v.r=Math.round(v.r/m.length),v.g=Math.round(v.g/m.length),v.b=Math.round(v.b/m.length);const S=[...d.entries()].map(([p,{count:f,expressiveness:b}])=>({color:p,count:f,weight:f*(1+b/100)})).filter(Kc).sort((p,f)=>f.weight-p.weight).slice(0,t).map(p=>p.color);return Kc(v)&&!S.includes(v.color)&&S.unshift(v.color),S},p5=(e,t)=>{const n=document.createElement("a");n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)},v5=(e,t,n=.8)=>{if(!(e!=null&&e.toDataURL))return;const i=e.toDataURL({quality:n,mimeType:"image/jpeg",imageSmoothingEnabled:!0});p5(i,`${t}.jpg`)},_5={class:"wrapper flex-column center"},Pn="custom",y5={__name:"HomeView",setup(e){const t=pa(),n=ae("inst-vert"),i=ae({"inst-vert":{width:1080,height:1350,name:"Instagram post (vertical)"},"inst-sq":{width:1080,height:1080,name:"Instagram post (square)"},[Pn]:{width:0,height:0,name:"Custom..."}}),r=o=>{n.value=o},s=()=>{const o=i.value[n.value];l5(Number(o.width),Number(o.height)),t.push("/edit")};return(o,a)=>{const l=ke("van-radio"),u=ke("van-cell"),c=ke("van-field"),h=ke("van-cell-group"),g=ke("van-radio-group"),d=ke("van-button"),m=ke("van-tabbar-item"),v=ke("van-tabbar");return De(),Tt("main",null,[tn("div",_5,[U(g,{class:"options",modelValue:n.value,"onUpdate:modelValue":a[2]||(a[2]=y=>n.value=y)},{default:Ee(()=>[U(h,{inset:"",title:"Presets"},{default:Ee(()=>[(De(!0),Tt(Qe,null,ps(i.value,(y,S)=>(De(),It(u,{clickable:"",title:y.name,label:y.width+" x "+y.height,onClick:()=>r(S)},{"right-icon":Ee(()=>[U(l,{name:S},null,8,["name"])]),_:2},1032,["title","label","onClick"]))),256)),n.value==Pn?(De(),It(c,{key:0,modelValue:i.value[Pn].width,"onUpdate:modelValue":a[0]||(a[0]=y=>i.value[Pn].width=y),type:"digit",label:"Width"},null,8,["modelValue"])):mr("",!0),n.value==Pn?(De(),It(c,{key:1,modelValue:i.value[Pn].height,"onUpdate:modelValue":a[1]||(a[1]=y=>i.value[Pn].height=y),type:"digit",label:"Height"},null,8,["modelValue"])):mr("",!0)]),_:1})]),_:1},8,["modelValue"])]),U(v,{border:!1,fixed:!1},{default:Ee(()=>[U(m,null,{default:Ee(()=>[U(d,{type:"primary",icon:"photo-o",text:"Create",round:"",disabled:!(i.value[n.value].width>0&&i.value[n.value].height>0),onClick:s,class:"main-button"},null,8,["disabled"])]),_:1})]),_:1})])}}},b5={__name:"Editor",props:["transformer","layers","size","width","height","scale"],emits:["stage-mounted","layer-selected","layer-unselected","layers-updated"],setup(e,{emit:t}){const n=t;let i=null;const r=ae(),s=ae(),o=()=>{const l=i.getLayers()[0];l.removeChildren(),e.layers.forEach(u=>l.add(u.object)),l.add(e.transformer),l.draw(),n("layers-updated",l)},a=l=>{const u=l.target.id(),c=e.layers.find(h=>h.id==u);c&&!c.options.locked?n("layer-selected",c):n("layer-unselected")};return be(()=>e.layers.length,(l,u)=>l!=u?o():null),ut(()=>{i=r.value.getStage(),n("stage-mounted",i),o(),i.getLayers()[0].on("click tap",a)}),Bt(()=>{i.getLayers()[0].off("click tap")}),(l,u)=>{const c=ke("v-layer"),h=ke("v-stage");return De(),Tt("div",{ref_key:"editorRef",ref:s,class:"editor flex-column center"},[tn("div",{class:"konva-container",style:An({width:`${Math.round(e.width*e.scale*e.size)}px`,height:`${Math.round(e.height*e.scale*e.size)}px`})},[U(h,{config:{width:e.width,height:e.height},style:An({width:`${e.width}px`,height:`${e.height}px`,transform:`scale(${e.scale*e.size})`}),ref_key:"stageRef",ref:r},{default:Ee(()=>[U(c)]),_:1},8,["config","style"])],4)],512)}}},S5={__name:"Layers",setup(e){return(t,n)=>{const i=ke("van-icon"),r=ke("van-cell"),s=ke("van-button"),o=ke("van-swipe-cell"),a=ke("van-cell-group");return De(),It(a,null,{default:Ee(()=>[(De(!0),Tt(Qe,null,ps(_e(nn).slice().reverse(),(l,u)=>(De(),It(o,null,Sf({default:Ee(()=>[U(r,{icon:l.icon,title:l.label,clickable:!l.options.locked},{default:Ee(()=>[l.options.locked?(De(),It(i,{key:0,name:"lock"})):mr("",!0)]),_:2},1032,["icon","title","clickable"])]),_:2},[l.options.locked?void 0:{name:"right",fn:Ee(()=>[U(s,{square:"",type:"danger",icon:"delete",onClick:()=>_e(d5)(l)},null,8,["onClick"])]),key:"0"}]),1024))),256))]),_:1})}}},C5={class:"color-selector"},w5=["name","checked"],x5={__name:"ColorSelector",props:["name","color","selected"],emits:["select"],setup(e,{emit:t}){const n=t,i=r=>{r.stopPropagation(),n("select",e.color)};return(r,s)=>(De(),Tt("label",C5,[tn("input",{type:"radio",name:e.name,checked:e.selected,onChange:i},null,40,w5),tn("span",{class:"color-mark",style:An({backgroundColor:e.color})},null,4)]))}},P5={class:"colors-palete"},T5={__name:"ColorsPalete",props:Ra(["name","colors"],{modelValue:{},modelModifiers:{}}),emits:Ra(["changed"],["update:modelValue"]),setup(e,{emit:t}){const n=t,i=jf(e,"modelValue"),r=`cp_${Math.random()}`,s=o=>{i.value!=o&&(i.value=o,n("changed",o))};return(o,a)=>(De(),Tt("div",P5,[(De(!0),Tt(Qe,null,ps(e.colors,l=>(De(),It(x5,{name:e.name??r,color:l,selected:l==i.value,onSelect:s},null,8,["name","color","selected"]))),256))]))}},E5={key:0,class:"flex-column tool-wrapper"},R5={__name:"MainTools",setup(e){const t=ae("background"),n=i=>{var r;return(r=u5("background").layer)==null?void 0:r.object.fill(i)};return(i,r)=>{const s=ke("van-tabbar-item"),o=ke("van-tabbar");return De(),Tt(Qe,null,[t.value=="background"?(De(),Tt("div",E5,[U(T5,{colors:_e(Le)().bgColors,modelValue:_e(Le)().bgColor,"onUpdate:modelValue":r[0]||(r[0]=a=>_e(Le)().bgColor=a),onChanged:n},null,8,["colors","modelValue"])])):mr("",!0),U(o,{fixed:!1,modelValue:t.value,"onUpdate:modelValue":r[1]||(r[1]=a=>t.value=a)},{default:Ee(()=>[U(s,{name:"background",icon:"circle"},{default:Ee(()=>r[2]||(r[2]=[en("Background")])),_:1})]),_:1},8,["modelValue"])],64)}}},A5={key:0,class:"flex-row tool-wrapper"},k5="fit",O5="fill",Vr="frame",M5="none",F5={__name:"ImageTools",setup(e){const t=ae(Le().selectedLayer.options.mode==Vr),n=()=>{const s=Le(),o=s.selectedLayer.object,a=No(o.size(),s.width,s.height);o.rotation(0),o.scale(a.scale),o.position(a.position)},i=()=>{const s=Le(),o=s.selectedLayer.object,a=g5(o.size(),s.width,s.height);o.rotation(0),o.scale(a.scale),o.position(a.position)},r=()=>{const s=Le(),o=s.selectedLayer.object,a=No(o.size(),s.width,s.height,s.selectedLayer.options.frameSize);o.rotation(0),o.scale(a.scale),o.position(a.position)};return ut(()=>{var o,a;const s=Le();(o=s.selectedLayer)==null||o.object.on("transform.tool dragmove.tool",()=>s.selectedLayer.options.mode=M5),(a=s.selectedLayer.options).frameSize??(a.frameSize=.1)}),Bt(()=>{var s;return(s=Le().selectedLayer)==null?void 0:s.object.off("transform.tool dragmove.tool")}),be(()=>Le().selectedLayer.options.mode,s=>t.value=s==Vr),be(()=>Le().selectedLayer.options.frameSize,()=>Le().selectedLayer.options.mode==Vr&&r()),(s,o)=>{const a=ke("van-button"),l=ke("van-slider"),u=ke("van-tabbar-item"),c=ke("van-tabbar");return De(),Tt(Qe,null,[t.value?(De(),Tt("div",A5,[U(l,{modelValue:_e(Le)().selectedLayer.options.frameSize,"onUpdate:modelValue":o[0]||(o[0]=h=>_e(Le)().selectedLayer.options.frameSize=h),min:.05,max:.5,step:.05},{button:Ee(()=>[U(a,{type:"primary",plain:"",round:"",size:"mini"},{default:Ee(()=>[en(ar((_e(Le)().selectedLayer.options.frameSize*100).toFixed())+"%",1)]),_:1})]),_:1},8,["modelValue"])])):mr("",!0),U(c,{fixed:!1,modelValue:_e(Le)().selectedLayer.options.mode,"onUpdate:modelValue":o[1]||(o[1]=h=>_e(Le)().selectedLayer.options.mode=h)},{default:Ee(()=>[U(u,{name:k5,icon:"expand-o",onClick:n},{default:Ee(()=>o[2]||(o[2]=[en("Fit")])),_:1}),U(u,{name:O5,icon:"shrink",onClick:i},{default:Ee(()=>o[3]||(o[3]=[en("Fill")])),_:1}),U(u,{name:Vr,icon:"enlarge",onClick:r},{default:Ee(()=>o[4]||(o[4]=[en("Frame")])),_:1})]),_:1},8,["modelValue"])],64)}}},L5={class:"wrapper"},I5={class:"van-tabbar-item"},N5={__name:"EditorView",setup(e){const t=[{component:R5,icon:"edit",label:"Tools"},{component:S5,icon:"points",label:"Layers"},{component:F5,icon:null,label:"Adjust image"}],n=pa(),i=ae(),r=ae(),s=ae(0),o=ae({}),a=ae(!1),l=ae(null),u=ae(.8),c=()=>{if(!i.value||!r.value)return;const y=i.value.clientWidth,S=i.value.clientHeight,p=r.value.$el.clientHeight,f=Le();f.setScale(Math.min(y/f.width,(S-p-qc)/f.height));const b=Math.min(f5,Math.round((S-p-f.height*f.scale)*Wc)),w=Math.max(qc,Math.round(b/2));o.value["min-height"]=`${w}px`,o.value["max-height"]=`${Math.max(w,b)}px`},h=y=>{if(!(y!=null&&y.content))return;const S=new Image,p=N2({message:"Load image...",forbidClick:!0});S.addEventListener("load",()=>{var R,I;const f=Le(),b=((R=y.file)==null?void 0:R.name)??`photo-${a5().length+1}`,w=No(S,f.width,f.height);dd(new Re.Image({image:S,name:b,scale:w.scale,...w.position}),"photo",b,{mode:"fit"}),p.close(),l.value=l.value?"new-composed-image":(I=y.file)!=null&&I.name?`${y.file.name}-edited`:b},{once:!0}),S.src=y.content},g=y=>{h5(y),(y==null?void 0:y.object)instanceof Re.Image&&(s.value=2)},d=()=>{s.value>1&&(s.value=0),va()},m=y=>{const S=Le(),p=m5(y);S.bgColors.splice(2,S.bgColors.length,...p)},v=()=>{v5(Le().stage,l.value,u.value),n.push("/")};return ut(()=>{c(),window.addEventListener("resize",c)}),Bt(()=>{window.removeEventListener("resize",c)}),(y,S)=>{const p=ke("van-cell-group"),f=ke("van-button"),b=ke("van-tabbar-item"),w=ke("van-tabbar"),R=ke("van-slider"),I=ke("van-cell"),T=ke("van-dialog");return De(),Tt("main",{ref_key:"mainRef",ref:i},[tn("div",L5,[U(b5,{layers:_e(nn),transformer:_e(Le)().transformer,size:_e(Wc),width:_e(Le)().width,height:_e(Le)().height,scale:_e(Le)().scale,onLayerSelected:g,onLayerUnselected:d,onLayersUpdated:m,onStageMounted:S[0]||(S[0]=x=>_e(Le)().stage=x)},null,8,["layers","transformer","size","width","height","scale"])]),U(p,{id:"tools-panel",style:An(o.value),title:t[s.value].label},{default:Ee(()=>[(De(),It(yf(t[s.value].component))),U(_e(ym))]),_:1},8,["style","title"]),U(w,{border:!1,fixed:!1,modelValue:s.value,"onUpdate:modelValue":S[2]||(S[2]=x=>s.value=x),ref_key:"actionBarRef",ref:r},{default:Ee(()=>[U(_e(np),{class:"van-tabbar-item",accept:"image/*","after-read":h},{default:Ee(()=>[U(f,{type:"success",round:"",icon:"plus",text:"Add",class:"main-button"})]),_:1}),(De(!0),Tt(Qe,null,ps(t.slice(0,2),x=>(De(),It(b,{icon:x.icon},{default:Ee(()=>[en(ar(x.label),1)]),_:2},1032,["icon"]))),256)),tn("div",I5,[U(f,{round:"",type:"primary",icon:"success",text:"Save",onClick:S[1]||(S[1]=()=>a.value=!0)})])]),_:1},8,["modelValue"]),U(T,{show:a.value,"onUpdate:show":S[4]||(S[4]=x=>a.value=x),title:"Save image...","show-cancel-button":"",cancelButtonText:"Cancel",confirmButtonText:"Save",onConfirm:v},{default:Ee(()=>[U(I,{title:"Quality:"},{default:Ee(()=>[U(R,{modelValue:u.value,"onUpdate:modelValue":S[3]||(S[3]=x=>u.value=x),min:.1,max:1,step:.05},{button:Ee(()=>[U(f,{type:"primary",plain:"",round:"",size:"mini"},{default:Ee(()=>[en(ar((u.value*100).toFixed())+"%",1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["show"])],512)}}},D5=n5({history:Op(),routes:[{path:"/",component:y5},{path:"/edit",component:N5}]}),B5={class:"switch-icon"},G5={__name:"App",setup(e){const t=r5(),n=pa(),i=ae(!1),r=()=>t.path!="/"&&fm({title:"Dismiss changes",message:"All changes will be lost. Return to the start page?",confirmButtonText:"Yes",cancelButtonText:"No"}).then(()=>n.push("/"));return(s,o)=>{const a=ke("RouterView");return De(),It(_e(sm),{id:"config-wrapper",theme:_e(Io)},{default:Ee(()=>[U(_e(Mm),{title:"Photo Composing Tool",id:"app-header"},{left:Ee(()=>[U(_e(fa),{src:"./icons/icon-32x32.png",fit:"cover",width:"32px",height:"32px",round:"",onClick:r})]),right:Ee(()=>[U(_e(U2),{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=l=>i.value=l),onChange:_e(o5)},{node:Ee(()=>[tn("div",B5,ar(i.value?"🌙":"☀️"),1)]),_:1},8,["modelValue","onChange"])]),_:1}),U(a)]),_:1},8,["theme"])}}},fd=uh(G5);fd.use(D5).use(Dg).use(rs).use(x2).use(Je).use($h).use(rm).use(Vm).use(Hm).use(qm).use(Z2).use(j2).use(Nm).use(Rs).use(D2).use(gm);fd.mount("#app");"serviceWorker"in navigator&&navigator.serviceWorker.register("./service-worker.js").then(e=>console.log("Service Worker is registered with scope:",e.scope)).catch(e=>console.error("Service Worker error:",e));
