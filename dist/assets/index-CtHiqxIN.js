(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Gs(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const bt={},yn=[],Pe=()=>{},$h=()=>!1,Tr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Bs=t=>t.startsWith("onUpdate:"),Bt=Object.assign,Us=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},jh=Object.prototype.hasOwnProperty,St=(t,e)=>jh.call(t,e),ht=Array.isArray,Pi=t=>Rr(t)==="[object Map]",Wh=t=>Rr(t)==="[object Set]",ut=t=>typeof t=="function",It=t=>typeof t=="string",Tn=t=>typeof t=="symbol",At=t=>t!==null&&typeof t=="object",Dl=t=>(At(t)||ut(t))&&ut(t.then)&&ut(t.catch),qh=Object.prototype.toString,Rr=t=>qh.call(t),Kh=t=>Rr(t).slice(8,-1),Yh=t=>Rr(t)==="[object Object]",Vs=t=>It(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ei=Gs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ar=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Xh=/-(\w)/g,ce=Ar(t=>t.replace(Xh,(e,n)=>n?n.toUpperCase():"")),Zh=/\B([A-Z])/g,Ke=Ar(t=>t.replace(Zh,"-$1").toLowerCase()),Or=Ar(t=>t.charAt(0).toUpperCase()+t.slice(1)),jr=Ar(t=>t?`on${Or(t)}`:""),ne=(t,e)=>!Object.is(t,e),Wr=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Gl=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Qh=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Jh=t=>{const e=It(t)?Number(t):NaN;return isNaN(e)?t:e};let yo;const kr=()=>yo||(yo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Fr(t){if(ht(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=It(i)?iu(i):Fr(i);if(r)for(const s in r)e[s]=r[s]}return e}else if(It(t)||At(t))return t}const tu=/;(?![^(]*\))/g,eu=/:([^]+)/,nu=/\/\*[^]*?\*\//g;function iu(t){const e={};return t.replace(nu,"").split(tu).forEach(n=>{if(n){const i=n.split(eu);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Hs(t){let e="";if(It(t))e=t;else if(ht(t))for(let n=0;n<t.length;n++){const i=Hs(t[n]);i&&(e+=i+" ")}else if(At(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ru="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",su=Gs(ru);function Bl(t){return!!t||t===""}/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let oe;class ou{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=oe,!e&&oe&&(this.index=(oe.scopes||(oe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=oe;try{return oe=this,e()}finally{oe=n}}}on(){oe=this}off(){oe=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function au(){return oe}let Ct;const qr=new WeakSet;class Ul{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,oe&&oe.active&&oe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qr.has(this)&&(qr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Hl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,bo(this),zl(this);const e=Ct,n=ge;Ct=this,ge=!0;try{return this.fn()}finally{$l(this),Ct=e,ge=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)js(e);this.deps=this.depsTail=void 0,bo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ys(this)&&this.run()}get dirty(){return ys(this)}}let Vl=0,Ti,Ri;function Hl(t,e=!1){if(t.flags|=8,e){t.next=Ri,Ri=t;return}t.next=Ti,Ti=t}function zs(){Vl++}function $s(){if(--Vl>0)return;if(Ri){let e=Ri;for(Ri=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ti;){let e=Ti;for(Ti=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function zl(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function $l(t){let e,n=t.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),js(i),lu(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}t.deps=e,t.depsTail=n}function ys(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(jl(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function jl(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Li))return;t.globalVersion=Li;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!ys(t)){t.flags&=-3;return}const n=Ct,i=ge;Ct=t,ge=!0;try{zl(t);const r=t.fn(t._value);(e.version===0||ne(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Ct=n,ge=i,$l(t),t.flags&=-3}}function js(t,e=!1){const{dep:n,prevSub:i,nextSub:r}=t;if(i&&(i.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)js(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function lu(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let ge=!0;const Wl=[];function Ye(){Wl.push(ge),ge=!1}function Xe(){const t=Wl.pop();ge=t===void 0?!0:t}function bo(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ct;Ct=void 0;try{e()}finally{Ct=n}}}let Li=0;class cu{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Mr{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ct||!ge||Ct===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ct)n=this.activeLink=new cu(Ct,this),Ct.deps?(n.prevDep=Ct.depsTail,Ct.depsTail.nextDep=n,Ct.depsTail=n):Ct.deps=Ct.depsTail=n,ql(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Ct.depsTail,n.nextDep=void 0,Ct.depsTail.nextDep=n,Ct.depsTail=n,Ct.deps===n&&(Ct.deps=i)}return n}trigger(e){this.version++,Li++,this.notify(e)}notify(e){zs();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{$s()}}}function ql(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)ql(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const bs=new WeakMap,on=Symbol(""),Ss=Symbol(""),Di=Symbol("");function Wt(t,e,n){if(ge&&Ct){let i=bs.get(t);i||bs.set(t,i=new Map);let r=i.get(n);r||(i.set(n,r=new Mr),r.map=i,r.key=n),r.track()}}function Ie(t,e,n,i,r,s){const o=bs.get(t);if(!o){Li++;return}const a=l=>{l&&l.trigger()};if(zs(),e==="clear")o.forEach(a);else{const l=ht(t),h=l&&Vs(n);if(l&&n==="length"){const c=Number(i);o.forEach((u,p)=>{(p==="length"||p===Di||!Tn(p)&&p>=c)&&a(u)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),h&&a(o.get(Di)),e){case"add":l?h&&a(o.get("length")):(a(o.get(on)),Pi(t)&&a(o.get(Ss)));break;case"delete":l||(a(o.get(on)),Pi(t)&&a(o.get(Ss)));break;case"set":Pi(t)&&a(o.get(on));break}}$s()}function hn(t){const e=yt(t);return e===t?e:(Wt(e,"iterate",Di),pe(t)?e:e.map(Yt))}function Ws(t){return Wt(t=yt(t),"iterate",Di),t}const hu={__proto__:null,[Symbol.iterator](){return Kr(this,Symbol.iterator,Yt)},concat(...t){return hn(this).concat(...t.map(e=>ht(e)?hn(e):e))},entries(){return Kr(this,"entries",t=>(t[1]=Yt(t[1]),t))},every(t,e){return Ae(this,"every",t,e,void 0,arguments)},filter(t,e){return Ae(this,"filter",t,e,n=>n.map(Yt),arguments)},find(t,e){return Ae(this,"find",t,e,Yt,arguments)},findIndex(t,e){return Ae(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ae(this,"findLast",t,e,Yt,arguments)},findLastIndex(t,e){return Ae(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ae(this,"forEach",t,e,void 0,arguments)},includes(...t){return Yr(this,"includes",t)},indexOf(...t){return Yr(this,"indexOf",t)},join(t){return hn(this).join(t)},lastIndexOf(...t){return Yr(this,"lastIndexOf",t)},map(t,e){return Ae(this,"map",t,e,void 0,arguments)},pop(){return Rn(this,"pop")},push(...t){return Rn(this,"push",t)},reduce(t,...e){return So(this,"reduce",t,e)},reduceRight(t,...e){return So(this,"reduceRight",t,e)},shift(){return Rn(this,"shift")},some(t,e){return Ae(this,"some",t,e,void 0,arguments)},splice(...t){return Rn(this,"splice",t)},toReversed(){return hn(this).toReversed()},toSorted(t){return hn(this).toSorted(t)},toSpliced(...t){return hn(this).toSpliced(...t)},unshift(...t){return Rn(this,"unshift",t)},values(){return Kr(this,"values",Yt)}};function Kr(t,e,n){const i=Ws(t),r=i[e]();return i!==t&&!pe(t)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const uu=Array.prototype;function Ae(t,e,n,i,r,s){const o=Ws(t),a=o!==t&&!pe(t),l=o[e];if(l!==uu[e]){const u=l.apply(t,s);return a?Yt(u):u}let h=n;o!==t&&(a?h=function(u,p){return n.call(this,Yt(u),p,t)}:n.length>2&&(h=function(u,p){return n.call(this,u,p,t)}));const c=l.call(o,h,i);return a&&r?r(c):c}function So(t,e,n,i){const r=Ws(t);let s=n;return r!==t&&(pe(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,Yt(a),l,t)}),r[e](s,...i)}function Yr(t,e,n){const i=yt(t);Wt(i,"iterate",Di);const r=i[e](...n);return(r===-1||r===!1)&&Ys(n[0])?(n[0]=yt(n[0]),i[e](...n)):r}function Rn(t,e,n=[]){Ye(),zs();const i=yt(t)[e].apply(t,n);return $s(),Xe(),i}const du=Gs("__proto__,__v_isRef,__isVue"),Kl=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Tn));function fu(t){Tn(t)||(t=String(t));const e=yt(this);return Wt(e,"has",t),e.hasOwnProperty(t)}class Yl{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?wu:Jl:s?Ql:Zl).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=ht(e);if(!r){let l;if(o&&(l=hu[n]))return l;if(n==="hasOwnProperty")return fu}const a=Reflect.get(e,n,$t(e)?e:i);return(Tn(n)?Kl.has(n):du(n))||(r||Wt(e,"get",n),s)?a:$t(a)?o&&Vs(n)?a:a.value:At(a)?r?ec(a):Zt(a):a}}class Xl extends Yl{constructor(e=!1){super(!1,e)}set(e,n,i,r){let s=e[n];if(!this._isShallow){const l=ln(s);if(!pe(i)&&!ln(i)&&(s=yt(s),i=yt(i)),!ht(e)&&$t(s)&&!$t(i))return l?!1:(s.value=i,!0)}const o=ht(e)&&Vs(n)?Number(n)<e.length:St(e,n),a=Reflect.set(e,n,i,$t(e)?e:r);return e===yt(r)&&(o?ne(i,s)&&Ie(e,"set",n,i):Ie(e,"add",n,i)),a}deleteProperty(e,n){const i=St(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&Ie(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!Tn(n)||!Kl.has(n))&&Wt(e,"has",n),i}ownKeys(e){return Wt(e,"iterate",ht(e)?"length":on),Reflect.ownKeys(e)}}class gu extends Yl{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const pu=new Xl,mu=new gu,vu=new Xl(!0);const Cs=t=>t,Ji=t=>Reflect.getPrototypeOf(t);function _u(t,e,n){return function(...i){const r=this.__v_raw,s=yt(r),o=Pi(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,h=r[t](...i),c=n?Cs:e?ws:Yt;return!e&&Wt(s,"iterate",l?Ss:on),{next(){const{value:u,done:p}=h.next();return p?{value:u,done:p}:{value:a?[c(u[0]),c(u[1])]:c(u),done:p}},[Symbol.iterator](){return this}}}}function tr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function yu(t,e){const n={get(r){const s=this.__v_raw,o=yt(s),a=yt(r);t||(ne(r,a)&&Wt(o,"get",r),Wt(o,"get",a));const{has:l}=Ji(o),h=e?Cs:t?ws:Yt;if(l.call(o,r))return h(s.get(r));if(l.call(o,a))return h(s.get(a));s!==o&&s.get(r)},get size(){const r=this.__v_raw;return!t&&Wt(yt(r),"iterate",on),Reflect.get(r,"size",r)},has(r){const s=this.__v_raw,o=yt(s),a=yt(r);return t||(ne(r,a)&&Wt(o,"has",r),Wt(o,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const o=this,a=o.__v_raw,l=yt(a),h=e?Cs:t?ws:Yt;return!t&&Wt(l,"iterate",on),a.forEach((c,u)=>r.call(s,h(c),h(u),o))}};return Bt(n,t?{add:tr("add"),set:tr("set"),delete:tr("delete"),clear:tr("clear")}:{add(r){!e&&!pe(r)&&!ln(r)&&(r=yt(r));const s=yt(this);return Ji(s).has.call(s,r)||(s.add(r),Ie(s,"add",r,r)),this},set(r,s){!e&&!pe(s)&&!ln(s)&&(s=yt(s));const o=yt(this),{has:a,get:l}=Ji(o);let h=a.call(o,r);h||(r=yt(r),h=a.call(o,r));const c=l.call(o,r);return o.set(r,s),h?ne(s,c)&&Ie(o,"set",r,s):Ie(o,"add",r,s),this},delete(r){const s=yt(this),{has:o,get:a}=Ji(s);let l=o.call(s,r);l||(r=yt(r),l=o.call(s,r)),a&&a.call(s,r);const h=s.delete(r);return l&&Ie(s,"delete",r,void 0),h},clear(){const r=yt(this),s=r.size!==0,o=r.clear();return s&&Ie(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=_u(r,t,e)}),n}function qs(t,e){const n=yu(t,e);return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(St(n,r)&&r in i?n:i,r,s)}const bu={get:qs(!1,!1)},Su={get:qs(!1,!0)},Cu={get:qs(!0,!1)};const Zl=new WeakMap,Ql=new WeakMap,Jl=new WeakMap,wu=new WeakMap;function xu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Pu(t){return t.__v_skip||!Object.isExtensible(t)?0:xu(Kh(t))}function Zt(t){return ln(t)?t:Ks(t,!1,pu,bu,Zl)}function tc(t){return Ks(t,!1,vu,Su,Ql)}function ec(t){return Ks(t,!0,mu,Cu,Jl)}function Ks(t,e,n,i,r){if(!At(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const o=Pu(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return r.set(t,a),a}function Ai(t){return ln(t)?Ai(t.__v_raw):!!(t&&t.__v_isReactive)}function ln(t){return!!(t&&t.__v_isReadonly)}function pe(t){return!!(t&&t.__v_isShallow)}function Ys(t){return t?!!t.__v_raw:!1}function yt(t){const e=t&&t.__v_raw;return e?yt(e):t}function Eu(t){return!St(t,"__v_skip")&&Object.isExtensible(t)&&Gl(t,"__v_skip",!0),t}const Yt=t=>At(t)?Zt(t):t,ws=t=>At(t)?ec(t):t;function $t(t){return t?t.__v_isRef===!0:!1}function dt(t){return nc(t,!1)}function Tu(t){return nc(t,!0)}function nc(t,e){return $t(t)?t:new Ru(t,e)}class Ru{constructor(e,n){this.dep=new Mr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:yt(e),this._value=n?e:Yt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||pe(e)||ln(e);e=i?e:yt(e),ne(e,n)&&(this._rawValue=e,this._value=i?e:Yt(e),this.dep.trigger())}}function le(t){return $t(t)?t.value:t}const Au={get:(t,e,n)=>e==="__v_raw"?t:le(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return $t(r)&&!$t(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function ic(t){return Ai(t)?t:new Proxy(t,Au)}class Ou{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Mr,{get:i,set:r}=e(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function ku(t){return new Ou(t)}class Fu{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Mr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Li-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ct!==this)return Hl(this,!0),!0}get value(){const e=this.dep.track();return jl(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Mu(t,e,n=!1){let i,r;return ut(t)?i=t:(i=t.get,r=t.set),new Fu(i,r,n)}const er={},pr=new WeakMap;let rn;function Nu(t,e=!1,n=rn){if(n){let i=pr.get(n);i||pr.set(n,i=[]),i.push(t)}}function Iu(t,e,n=bt){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,h=y=>r?y:pe(y)||r===!1||r===0?Le(y,1):Le(y);let c,u,p,d,f=!1,_=!1;if($t(t)?(u=()=>t.value,f=pe(t)):Ai(t)?(u=()=>h(t),f=!0):ht(t)?(_=!0,f=t.some(y=>Ai(y)||pe(y)),u=()=>t.map(y=>{if($t(y))return y.value;if(Ai(y))return h(y);if(ut(y))return l?l(y,2):y()})):ut(t)?e?u=l?()=>l(t,2):t:u=()=>{if(p){Ye();try{p()}finally{Xe()}}const y=rn;rn=c;try{return l?l(t,3,[d]):t(d)}finally{rn=y}}:u=Pe,e&&r){const y=u,C=r===!0?1/0:r;u=()=>Le(y(),C)}const b=au(),E=()=>{c.stop(),b&&b.active&&Us(b.effects,c)};if(s&&e){const y=e;e=(...C)=>{y(...C),E()}}let m=_?new Array(t.length).fill(er):er;const g=y=>{if(!(!(c.flags&1)||!c.dirty&&!y))if(e){const C=c.run();if(r||f||(_?C.some((T,L)=>ne(T,m[L])):ne(C,m))){p&&p();const T=rn;rn=c;try{const L=[C,m===er?void 0:_&&m[0]===er?[]:m,d];l?l(e,3,L):e(...L),m=C}finally{rn=T}}}else c.run()};return a&&a(g),c=new Ul(u),c.scheduler=o?()=>o(g,!1):g,d=y=>Nu(y,!1,c),p=c.onStop=()=>{const y=pr.get(c);if(y){if(l)l(y,4);else for(const C of y)C();pr.delete(c)}},e?i?g(!0):m=c.run():o?o(g.bind(null,!0),!0):c.run(),E.pause=c.pause.bind(c),E.resume=c.resume.bind(c),E.stop=E,E}function Le(t,e=1/0,n){if(e<=0||!At(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,$t(t))Le(t.value,e,n);else if(ht(t))for(let i=0;i<t.length;i++)Le(t[i],e,n);else if(Wh(t)||Pi(t))t.forEach(i=>{Le(i,e,n)});else if(Yh(t)){for(const i in t)Le(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Le(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qi(t,e,n,i){try{return i?t(...i):t()}catch(r){Nr(r,e,n)}}function me(t,e,n,i){if(ut(t)){const r=qi(t,e,n,i);return r&&Dl(r)&&r.catch(s=>{Nr(s,e,n)}),r}if(ht(t)){const r=[];for(let s=0;s<t.length;s++)r.push(me(t[s],e,n,i));return r}}function Nr(t,e,n,i=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||bt;if(e){let a=e.parent;const l=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,l,h)===!1)return}a=a.parent}if(s){Ye(),qi(s,null,10,[t,l,h]),Xe();return}}Lu(t,n,r,i,o)}function Lu(t,e,n,i=!0,r=!1){if(r)throw t;console.error(t)}const Xt=[];let Se=-1;const bn=[];let ze=null,pn=0;const rc=Promise.resolve();let mr=null;function Ee(t){const e=mr||rc;return t?e.then(this?t.bind(this):t):e}function Du(t){let e=Se+1,n=Xt.length;for(;e<n;){const i=e+n>>>1,r=Xt[i],s=Gi(r);s<t||s===t&&r.flags&2?e=i+1:n=i}return e}function Xs(t){if(!(t.flags&1)){const e=Gi(t),n=Xt[Xt.length-1];!n||!(t.flags&2)&&e>=Gi(n)?Xt.push(t):Xt.splice(Du(e),0,t),t.flags|=1,sc()}}function sc(){mr||(mr=rc.then(ac))}function Gu(t){ht(t)?bn.push(...t):ze&&t.id===-1?ze.splice(pn+1,0,t):t.flags&1||(bn.push(t),t.flags|=1),sc()}function Co(t,e,n=Se+1){for(;n<Xt.length;n++){const i=Xt[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Xt.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function oc(t){if(bn.length){const e=[...new Set(bn)].sort((n,i)=>Gi(n)-Gi(i));if(bn.length=0,ze){ze.push(...e);return}for(ze=e,pn=0;pn<ze.length;pn++){const n=ze[pn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ze=null,pn=0}}const Gi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ac(t){try{for(Se=0;Se<Xt.length;Se++){const e=Xt[Se];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),qi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Se<Xt.length;Se++){const e=Xt[Se];e&&(e.flags&=-2)}Se=-1,Xt.length=0,oc(),mr=null,(Xt.length||bn.length)&&ac()}}let re=null,lc=null;function vr(t){const e=re;return re=t,lc=t&&t.type.__scopeId||null,e}function Sn(t,e=re,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&Lo(-1);const s=vr(e);let o;try{o=t(...r)}finally{vr(s),i._d&&Lo(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Bi(t,e){if(re===null)return t;const n=Ur(re),i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[s,o,a,l=bt]=e[r];s&&(ut(s)&&(s={mounted:s,updated:s}),s.deep&&Le(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Qe(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(Ye(),me(l,n,8,[t.el,a,t,e]),Xe())}}const cc=Symbol("_vte"),hc=t=>t.__isTeleport,Oi=t=>t&&(t.disabled||t.disabled===""),wo=t=>t&&(t.defer||t.defer===""),xo=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Po=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,xs=(t,e)=>{const n=t&&t.to;return It(n)?e?e(n):null:n},uc={name:"Teleport",__isTeleport:!0,process(t,e,n,i,r,s,o,a,l,h){const{mc:c,pc:u,pbc:p,o:{insert:d,querySelector:f,createText:_,createComment:b}}=h,E=Oi(e.props);let{shapeFlag:m,children:g,dynamicChildren:y}=e;if(t==null){const C=e.el=_(""),T=e.anchor=_("");d(C,n,i),d(T,n,i);const L=(w,x)=>{m&16&&(r&&r.isCE&&(r.ce._teleportTarget=w),c(g,w,x,r,s,o,a,l))},P=()=>{const w=e.target=xs(e.props,f),x=fc(w,e,_,d);w&&(o!=="svg"&&xo(w)?o="svg":o!=="mathml"&&Po(w)&&(o="mathml"),E||(L(w,x),cr(e,!1)))};E&&(L(n,T),cr(e,!0)),wo(e.props)?Kt(()=>{P(),e.el.__isMounted=!0},s):P()}else{if(wo(e.props)&&!t.el.__isMounted){Kt(()=>{uc.process(t,e,n,i,r,s,o,a,l,h),delete t.el.__isMounted},s);return}e.el=t.el,e.targetStart=t.targetStart;const C=e.anchor=t.anchor,T=e.target=t.target,L=e.targetAnchor=t.targetAnchor,P=Oi(t.props),w=P?n:T,x=P?C:L;if(o==="svg"||xo(T)?o="svg":(o==="mathml"||Po(T))&&(o="mathml"),y?(p(t.dynamicChildren,y,w,r,s,o,a),Js(t,e,!0)):l||u(t,e,w,x,r,s,o,a,!1),E)P?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):nr(e,n,C,h,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const k=e.target=xs(e.props,f);k&&nr(e,k,null,h,0)}else P&&nr(e,T,L,h,1);cr(e,E)}},remove(t,e,n,{um:i,o:{remove:r}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:h,targetAnchor:c,target:u,props:p}=t;if(u&&(r(h),r(c)),s&&r(l),o&16){const d=s||!Oi(p);for(let f=0;f<a.length;f++){const _=a[f];i(_,e,n,d,!!_.dynamicChildren)}}},move:nr,hydrate:Bu};function nr(t,e,n,{o:{insert:i},m:r},s=2){s===0&&i(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:h,props:c}=t,u=s===2;if(u&&i(o,e,n),(!u||Oi(c))&&l&16)for(let p=0;p<h.length;p++)r(h[p],e,n,2);u&&i(a,e,n)}function Bu(t,e,n,i,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:h,createText:c}},u){const p=e.target=xs(e.props,l);if(p){const d=Oi(e.props),f=p._lpa||p.firstChild;if(e.shapeFlag&16)if(d)e.anchor=u(o(t),e,a(t),n,i,r,s),e.targetStart=f,e.targetAnchor=f&&o(f);else{e.anchor=o(t);let _=f;for(;_;){if(_&&_.nodeType===8){if(_.data==="teleport start anchor")e.targetStart=_;else if(_.data==="teleport anchor"){e.targetAnchor=_,p._lpa=e.targetAnchor&&o(e.targetAnchor);break}}_=o(_)}e.targetAnchor||fc(p,e,c,h),u(f&&o(f),e,p,n,i,r,s)}cr(e,d)}return e.anchor&&o(e.anchor)}const dc=uc;function cr(t,e){const n=t.ctx;if(n&&n.ut){let i,r;for(e?(i=t.el,r=t.anchor):(i=t.targetStart,r=t.targetAnchor);i&&i!==r;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function fc(t,e,n,i){const r=e.targetStart=n(""),s=e.targetAnchor=n("");return r[cc]=s,t&&(i(r,t),i(s,t)),s}const $e=Symbol("_leaveCb"),ir=Symbol("_enterCb");function Uu(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ye(()=>{t.isMounted=!0}),Ze(()=>{t.isUnmounting=!0}),t}const de=[Function,Array],gc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:de,onEnter:de,onAfterEnter:de,onEnterCancelled:de,onBeforeLeave:de,onLeave:de,onAfterLeave:de,onLeaveCancelled:de,onBeforeAppear:de,onAppear:de,onAfterAppear:de,onAppearCancelled:de},pc=t=>{const e=t.subTree;return e.component?pc(e.component):e},Vu={name:"BaseTransition",props:gc,setup(t,{slots:e}){const n=Re(),i=Uu();return()=>{const r=e.default&&_c(e.default(),!0);if(!r||!r.length)return;const s=mc(r),o=yt(t),{mode:a}=o;if(i.isLeaving)return Xr(s);const l=Eo(s);if(!l)return Xr(s);let h=Ps(l,o,i,n,u=>h=u);l.type!==ie&&Ui(l,h);let c=n.subTree&&Eo(n.subTree);if(c&&c.type!==ie&&!sn(l,c)&&pc(n).type!==ie){let u=Ps(c,o,i,n);if(Ui(c,u),a==="out-in"&&l.type!==ie)return i.isLeaving=!0,u.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete u.afterLeave,c=void 0},Xr(s);a==="in-out"&&l.type!==ie?u.delayLeave=(p,d,f)=>{const _=vc(i,c);_[String(c.key)]=c,p[$e]=()=>{d(),p[$e]=void 0,delete h.delayedLeave,c=void 0},h.delayedLeave=()=>{f(),delete h.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function mc(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==ie){e=n;break}}return e}const Hu=Vu;function vc(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Ps(t,e,n,i,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:h,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:p,onLeave:d,onAfterLeave:f,onLeaveCancelled:_,onBeforeAppear:b,onAppear:E,onAfterAppear:m,onAppearCancelled:g}=e,y=String(t.key),C=vc(n,t),T=(w,x)=>{w&&me(w,i,9,x)},L=(w,x)=>{const k=x[1];T(w,x),ht(w)?w.every(N=>N.length<=1)&&k():w.length<=1&&k()},P={mode:o,persisted:a,beforeEnter(w){let x=l;if(!n.isMounted)if(s)x=b||l;else return;w[$e]&&w[$e](!0);const k=C[y];k&&sn(t,k)&&k.el[$e]&&k.el[$e](),T(x,[w])},enter(w){let x=h,k=c,N=u;if(!n.isMounted)if(s)x=E||h,k=m||c,N=g||u;else return;let v=!1;const R=w[ir]=S=>{v||(v=!0,S?T(N,[w]):T(k,[w]),P.delayedLeave&&P.delayedLeave(),w[ir]=void 0)};x?L(x,[w,R]):R()},leave(w,x){const k=String(t.key);if(w[ir]&&w[ir](!0),n.isUnmounting)return x();T(p,[w]);let N=!1;const v=w[$e]=R=>{N||(N=!0,x(),R?T(_,[w]):T(f,[w]),w[$e]=void 0,C[k]===t&&delete C[k])};C[k]=t,d?L(d,[w,v]):v()},clone(w){const x=Ps(w,e,n,i,r);return r&&r(x),x}};return P}function Xr(t){if(Ir(t))return t=qe(t),t.children=null,t}function Eo(t){if(!Ir(t))return hc(t.type)&&t.children?mc(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ut(n.default))return n.default()}}function Ui(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ui(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function _c(t,e=!1,n){let i=[],r=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===fe?(o.patchFlag&128&&r++,i=i.concat(_c(o.children,e,a))):(e||o.type!==ie)&&i.push(a!=null?qe(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Dt(t,e){return ut(t)?Bt({name:t.name},e,{setup:t}):t}function yc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function _r(t,e,n,i,r=!1){if(ht(t)){t.forEach((f,_)=>_r(f,e&&(ht(e)?e[_]:e),n,i,r));return}if(ki(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&_r(t,e,n,i.component.subTree);return}const s=i.shapeFlag&4?Ur(i.component):i.el,o=r?null:s,{i:a,r:l}=t,h=e&&e.r,c=a.refs===bt?a.refs={}:a.refs,u=a.setupState,p=yt(u),d=u===bt?()=>!1:f=>St(p,f);if(h!=null&&h!==l&&(It(h)?(c[h]=null,d(h)&&(u[h]=null)):$t(h)&&(h.value=null)),ut(l))qi(l,a,12,[o,c]);else{const f=It(l),_=$t(l);if(f||_){const b=()=>{if(t.f){const E=f?d(l)?u[l]:c[l]:l.value;r?ht(E)&&Us(E,s):ht(E)?E.includes(s)||E.push(s):f?(c[l]=[s],d(l)&&(u[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else f?(c[l]=o,d(l)&&(u[l]=o)):_&&(l.value=o,t.k&&(c[t.k]=o))};o?(b.id=-1,Kt(b,n)):b()}}}kr().requestIdleCallback;kr().cancelIdleCallback;const ki=t=>!!t.type.__asyncLoader,Ir=t=>t.type.__isKeepAlive;function Lr(t,e){bc(t,"a",e)}function Ki(t,e){bc(t,"da",e)}function bc(t,e,n=zt){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Dr(e,i,n),n){let r=n.parent;for(;r&&r.parent;)Ir(r.parent.vnode)&&zu(i,e,n,r),r=r.parent}}function zu(t,e,n,i){const r=Dr(e,t,i,!0);Yi(()=>{Us(i[e],r)},n)}function Dr(t,e,n=zt,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Ye();const a=Xi(n),l=me(e,n,t,o);return a(),Xe(),l});return i?r.unshift(s):r.push(s),s}}const Be=t=>(e,n=zt)=>{(!zi||t==="sp")&&Dr(t,(...i)=>e(...i),n)},$u=Be("bm"),ye=Be("m"),ju=Be("bu"),Zs=Be("u"),Ze=Be("bum"),Yi=Be("um"),Wu=Be("sp"),qu=Be("rtg"),Ku=Be("rtc");function Yu(t,e=zt){Dr("ec",t,e)}const Sc="components",Xu="directives";function _n(t,e){return Cc(Sc,t,!0,e)||t}const Zu=Symbol.for("v-ndc");function Qu(t){return Cc(Xu,t)}function Cc(t,e,n=!0,i=!1){const r=re||zt;if(r){const s=r.type;if(t===Sc){const a=Bd(s,!1);if(a&&(a===e||a===ce(e)||a===Or(ce(e))))return s}const o=To(r[t]||s[t],e)||To(r.appContext[t],e);return!o&&i?s:o}}function To(t,e){return t&&(t[e]||t[ce(e)]||t[Or(ce(e))])}const Es=t=>t?zc(t)?Ur(t):Es(t.parent):null,Fi=Bt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Es(t.parent),$root:t=>Es(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>xc(t),$forceUpdate:t=>t.f||(t.f=()=>{Xs(t.update)}),$nextTick:t=>t.n||(t.n=Ee.bind(t.proxy)),$watch:t=>bd.bind(t)}),Zr=(t,e)=>t!==bt&&!t.__isScriptSetup&&St(t,e),Ju={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=t;let h;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(Zr(i,e))return o[e]=1,i[e];if(r!==bt&&St(r,e))return o[e]=2,r[e];if((h=t.propsOptions[0])&&St(h,e))return o[e]=3,s[e];if(n!==bt&&St(n,e))return o[e]=4,n[e];Ts&&(o[e]=0)}}const c=Fi[e];let u,p;if(c)return e==="$attrs"&&Wt(t.attrs,"get",""),c(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(n!==bt&&St(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,St(p,e))return p[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return Zr(r,e)?(r[e]=n,!0):i!==bt&&St(i,e)?(i[e]=n,!0):St(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||t!==bt&&St(t,o)||Zr(e,o)||(a=s[0])&&St(a,o)||St(i,o)||St(Fi,o)||St(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:St(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ro(t){return ht(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Ts=!0;function td(t){const e=xc(t),n=t.proxy,i=t.ctx;Ts=!1,e.beforeCreate&&Ao(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:h,created:c,beforeMount:u,mounted:p,beforeUpdate:d,updated:f,activated:_,deactivated:b,beforeDestroy:E,beforeUnmount:m,destroyed:g,unmounted:y,render:C,renderTracked:T,renderTriggered:L,errorCaptured:P,serverPrefetch:w,expose:x,inheritAttrs:k,components:N,directives:v,filters:R}=e;if(h&&ed(h,i,null),o)for(const F in o){const D=o[F];ut(D)&&(i[F]=D.bind(n))}if(r){const F=r.call(n,n);At(F)&&(t.data=Zt(F))}if(Ts=!0,s)for(const F in s){const D=s[F],j=ut(D)?D.bind(n,n):ut(D.get)?D.get.bind(n,n):Pe,H=!ut(D)&&ut(D.set)?D.set.bind(n):Pe,U=_t({get:j,set:H});Object.defineProperty(i,F,{enumerable:!0,configurable:!0,get:()=>U.value,set:Y=>U.value=Y})}if(a)for(const F in a)wc(a[F],i,n,F);if(l){const F=ut(l)?l.call(n):l;Reflect.ownKeys(F).forEach(D=>{wn(D,F[D])})}c&&Ao(c,t,"c");function A(F,D){ht(D)?D.forEach(j=>F(j.bind(n))):D&&F(D.bind(n))}if(A($u,u),A(ye,p),A(ju,d),A(Zs,f),A(Lr,_),A(Ki,b),A(Yu,P),A(Ku,T),A(qu,L),A(Ze,m),A(Yi,y),A(Wu,w),ht(x))if(x.length){const F=t.exposed||(t.exposed={});x.forEach(D=>{Object.defineProperty(F,D,{get:()=>n[D],set:j=>n[D]=j})})}else t.exposed||(t.exposed={});C&&t.render===Pe&&(t.render=C),k!=null&&(t.inheritAttrs=k),N&&(t.components=N),v&&(t.directives=v),w&&yc(t)}function ed(t,e,n=Pe){ht(t)&&(t=Rs(t));for(const i in t){const r=t[i];let s;At(r)?"default"in r?s=se(r.from||i,r.default,!0):s=se(r.from||i):s=se(r),$t(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function Ao(t,e,n){me(ht(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function wc(t,e,n,i){let r=i.includes(".")?Lc(n,i):()=>n[i];if(It(t)){const s=e[t];ut(s)&&Et(r,s)}else if(ut(t))Et(r,t.bind(n));else if(At(t))if(ht(t))t.forEach(s=>wc(s,e,n,i));else{const s=ut(t.handler)?t.handler.bind(n):e[t.handler];ut(s)&&Et(r,s,t)}}function xc(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(h=>yr(l,h,o,!0)),yr(l,e,o)),At(e)&&s.set(e,l),l}function yr(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&yr(t,s,n,!0),r&&r.forEach(o=>yr(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=nd[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const nd={data:Oo,props:ko,emits:ko,methods:Ci,computed:Ci,beforeCreate:qt,created:qt,beforeMount:qt,mounted:qt,beforeUpdate:qt,updated:qt,beforeDestroy:qt,beforeUnmount:qt,destroyed:qt,unmounted:qt,activated:qt,deactivated:qt,errorCaptured:qt,serverPrefetch:qt,components:Ci,directives:Ci,watch:rd,provide:Oo,inject:id};function Oo(t,e){return e?t?function(){return Bt(ut(t)?t.call(this,this):t,ut(e)?e.call(this,this):e)}:e:t}function id(t,e){return Ci(Rs(t),Rs(e))}function Rs(t){if(ht(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function qt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ci(t,e){return t?Bt(Object.create(null),t,e):e}function ko(t,e){return t?ht(t)&&ht(e)?[...new Set([...t,...e])]:Bt(Object.create(null),Ro(t),Ro(e??{})):e}function rd(t,e){if(!t)return e;if(!e)return t;const n=Bt(Object.create(null),t);for(const i in e)n[i]=qt(t[i],e[i]);return n}function Pc(){return{app:null,config:{isNativeTag:$h,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sd=0;function od(t,e){return function(i,r=null){ut(i)||(i=Bt({},i)),r!=null&&!At(r)&&(r=null);const s=Pc(),o=new WeakSet,a=[];let l=!1;const h=s.app={_uid:sd++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:Vd,get config(){return s.config},set config(c){},use(c,...u){return o.has(c)||(c&&ut(c.install)?(o.add(c),c.install(h,...u)):ut(c)&&(o.add(c),c(h,...u))),h},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),h},component(c,u){return u?(s.components[c]=u,h):s.components[c]},directive(c,u){return u?(s.directives[c]=u,h):s.directives[c]},mount(c,u,p){if(!l){const d=h._ceVNode||J(i,r);return d.appContext=s,p===!0?p="svg":p===!1&&(p=void 0),t(d,c,p),l=!0,h._container=c,c.__vue_app__=h,Ur(d.component)}},onUnmount(c){a.push(c)},unmount(){l&&(me(a,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(c,u){return s.provides[c]=u,h},runWithContext(c){const u=Cn;Cn=h;try{return c()}finally{Cn=u}}};return h}}let Cn=null;function wn(t,e){if(zt){let n=zt.provides;const i=zt.parent&&zt.parent.provides;i===n&&(n=zt.provides=Object.create(i)),n[t]=e}}function se(t,e,n=!1){const i=zt||re;if(i||Cn){const r=Cn?Cn._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ut(e)?e.call(i&&i.proxy):e}}const Ec={},Tc=()=>Object.create(Ec),Rc=t=>Object.getPrototypeOf(t)===Ec;function ad(t,e,n,i=!1){const r={},s=Tc();t.propsDefaults=Object.create(null),Ac(t,e,r,s);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=i?r:tc(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function ld(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=t,a=yt(r),[l]=t.propsOptions;let h=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let u=0;u<c.length;u++){let p=c[u];if(Gr(t.emitsOptions,p))continue;const d=e[p];if(l)if(St(s,p))d!==s[p]&&(s[p]=d,h=!0);else{const f=ce(p);r[f]=As(l,a,f,d,t,!1)}else d!==s[p]&&(s[p]=d,h=!0)}}}else{Ac(t,e,r,s)&&(h=!0);let c;for(const u in a)(!e||!St(e,u)&&((c=Ke(u))===u||!St(e,c)))&&(l?n&&(n[u]!==void 0||n[c]!==void 0)&&(r[u]=As(l,a,u,void 0,t,!0)):delete r[u]);if(s!==a)for(const u in s)(!e||!St(e,u))&&(delete s[u],h=!0)}h&&Ie(t.attrs,"set","")}function Ac(t,e,n,i){const[r,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ei(l))continue;const h=e[l];let c;r&&St(r,c=ce(l))?!s||!s.includes(c)?n[c]=h:(a||(a={}))[c]=h:Gr(t.emitsOptions,l)||(!(l in i)||h!==i[l])&&(i[l]=h,o=!0)}if(s){const l=yt(n),h=a||bt;for(let c=0;c<s.length;c++){const u=s[c];n[u]=As(r,l,u,h[u],t,!St(h,u))}}return o}function As(t,e,n,i,r,s){const o=t[n];if(o!=null){const a=St(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ut(l)){const{propsDefaults:h}=r;if(n in h)i=h[n];else{const c=Xi(r);i=h[n]=l.call(null,e),c()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Ke(n))&&(i=!0))}return i}const cd=new WeakMap;function Oc(t,e,n=!1){const i=n?cd:e.propsCache,r=i.get(t);if(r)return r;const s=t.props,o={},a=[];let l=!1;if(!ut(t)){const c=u=>{l=!0;const[p,d]=Oc(u,e,!0);Bt(o,p),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return At(t)&&i.set(t,yn),yn;if(ht(s))for(let c=0;c<s.length;c++){const u=ce(s[c]);Fo(u)&&(o[u]=bt)}else if(s)for(const c in s){const u=ce(c);if(Fo(u)){const p=s[c],d=o[u]=ht(p)||ut(p)?{type:p}:Bt({},p),f=d.type;let _=!1,b=!0;if(ht(f))for(let E=0;E<f.length;++E){const m=f[E],g=ut(m)&&m.name;if(g==="Boolean"){_=!0;break}else g==="String"&&(b=!1)}else _=ut(f)&&f.name==="Boolean";d[0]=_,d[1]=b,(_||St(d,"default"))&&a.push(u)}}const h=[o,a];return At(t)&&i.set(t,h),h}function Fo(t){return t[0]!=="$"&&!Ei(t)}const kc=t=>t[0]==="_"||t==="$stable",Qs=t=>ht(t)?t.map(we):[we(t)],hd=(t,e,n)=>{if(e._n)return e;const i=Sn((...r)=>Qs(e(...r)),n);return i._c=!1,i},Fc=(t,e,n)=>{const i=t._ctx;for(const r in t){if(kc(r))continue;const s=t[r];if(ut(s))e[r]=hd(r,s,i);else if(s!=null){const o=Qs(s);e[r]=()=>o}}},Mc=(t,e)=>{const n=Qs(e);t.slots.default=()=>n},Nc=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},ud=(t,e,n)=>{const i=t.slots=Tc();if(t.vnode.shapeFlag&32){const r=e._;r?(Nc(i,e,n),n&&Gl(i,"_",r,!0)):Fc(e,i)}else e&&Mc(t,e)},dd=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,o=bt;if(i.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:Nc(r,e,n):(s=!e.$stable,Fc(e,r)),o=e}else e&&(Mc(t,e),o={default:1});if(s)for(const a in r)!kc(a)&&o[a]==null&&delete r[a]},Kt=Td;function fd(t){return gd(t)}function gd(t,e){const n=kr();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:h,setElementText:c,parentNode:u,nextSibling:p,setScopeId:d=Pe,insertStaticContent:f}=t,_=(M,I,B,$=null,K=null,q=null,Q=void 0,it=null,et=!!I.dynamicChildren)=>{if(M===I)return;M&&!sn(M,I)&&($=O(M),Y(M,K,q,!0),M=null),I.patchFlag===-2&&(et=!1,I.dynamicChildren=null);const{type:Z,ref:ot,shapeFlag:rt}=I;switch(Z){case Br:b(M,I,B,$);break;case ie:E(M,I,B,$);break;case Jr:M==null&&m(I,B,$,Q);break;case fe:N(M,I,B,$,K,q,Q,it,et);break;default:rt&1?C(M,I,B,$,K,q,Q,it,et):rt&6?v(M,I,B,$,K,q,Q,it,et):(rt&64||rt&128)&&Z.process(M,I,B,$,K,q,Q,it,et,W)}ot!=null&&K&&_r(ot,M&&M.ref,q,I||M,!I)},b=(M,I,B,$)=>{if(M==null)i(I.el=a(I.children),B,$);else{const K=I.el=M.el;I.children!==M.children&&h(K,I.children)}},E=(M,I,B,$)=>{M==null?i(I.el=l(I.children||""),B,$):I.el=M.el},m=(M,I,B,$)=>{[M.el,M.anchor]=f(M.children,I,B,$,M.el,M.anchor)},g=({el:M,anchor:I},B,$)=>{let K;for(;M&&M!==I;)K=p(M),i(M,B,$),M=K;i(I,B,$)},y=({el:M,anchor:I})=>{let B;for(;M&&M!==I;)B=p(M),r(M),M=B;r(I)},C=(M,I,B,$,K,q,Q,it,et)=>{I.type==="svg"?Q="svg":I.type==="math"&&(Q="mathml"),M==null?T(I,B,$,K,q,Q,it,et):w(M,I,K,q,Q,it,et)},T=(M,I,B,$,K,q,Q,it)=>{let et,Z;const{props:ot,shapeFlag:rt,transition:at,dirs:lt}=M;if(et=M.el=o(M.type,q,ot&&ot.is,ot),rt&8?c(et,M.children):rt&16&&P(M.children,et,null,$,K,Qr(M,q),Q,it),lt&&Qe(M,null,$,"created"),L(et,M,M.scopeId,Q,$),ot){for(const vt in ot)vt!=="value"&&!Ei(vt)&&s(et,vt,null,ot[vt],q,$);"value"in ot&&s(et,"value",null,ot.value,q),(Z=ot.onVnodeBeforeMount)&&be(Z,$,M)}lt&&Qe(M,null,$,"beforeMount");const ct=pd(K,at);ct&&at.beforeEnter(et),i(et,I,B),((Z=ot&&ot.onVnodeMounted)||ct||lt)&&Kt(()=>{Z&&be(Z,$,M),ct&&at.enter(et),lt&&Qe(M,null,$,"mounted")},K)},L=(M,I,B,$,K)=>{if(B&&d(M,B),$)for(let q=0;q<$.length;q++)d(M,$[q]);if(K){let q=K.subTree;if(I===q||Bc(q.type)&&(q.ssContent===I||q.ssFallback===I)){const Q=K.vnode;L(M,Q,Q.scopeId,Q.slotScopeIds,K.parent)}}},P=(M,I,B,$,K,q,Q,it,et=0)=>{for(let Z=et;Z<M.length;Z++){const ot=M[Z]=it?je(M[Z]):we(M[Z]);_(null,ot,I,B,$,K,q,Q,it)}},w=(M,I,B,$,K,q,Q)=>{const it=I.el=M.el;let{patchFlag:et,dynamicChildren:Z,dirs:ot}=I;et|=M.patchFlag&16;const rt=M.props||bt,at=I.props||bt;let lt;if(B&&Je(B,!1),(lt=at.onVnodeBeforeUpdate)&&be(lt,B,I,M),ot&&Qe(I,M,B,"beforeUpdate"),B&&Je(B,!0),(rt.innerHTML&&at.innerHTML==null||rt.textContent&&at.textContent==null)&&c(it,""),Z?x(M.dynamicChildren,Z,it,B,$,Qr(I,K),q):Q||D(M,I,it,null,B,$,Qr(I,K),q,!1),et>0){if(et&16)k(it,rt,at,B,K);else if(et&2&&rt.class!==at.class&&s(it,"class",null,at.class,K),et&4&&s(it,"style",rt.style,at.style,K),et&8){const ct=I.dynamicProps;for(let vt=0;vt<ct.length;vt++){const ft=ct[vt],kt=rt[ft],Rt=at[ft];(Rt!==kt||ft==="value")&&s(it,ft,kt,Rt,K,B)}}et&1&&M.children!==I.children&&c(it,I.children)}else!Q&&Z==null&&k(it,rt,at,B,K);((lt=at.onVnodeUpdated)||ot)&&Kt(()=>{lt&&be(lt,B,I,M),ot&&Qe(I,M,B,"updated")},$)},x=(M,I,B,$,K,q,Q)=>{for(let it=0;it<I.length;it++){const et=M[it],Z=I[it],ot=et.el&&(et.type===fe||!sn(et,Z)||et.shapeFlag&70)?u(et.el):B;_(et,Z,ot,null,$,K,q,Q,!0)}},k=(M,I,B,$,K)=>{if(I!==B){if(I!==bt)for(const q in I)!Ei(q)&&!(q in B)&&s(M,q,I[q],null,K,$);for(const q in B){if(Ei(q))continue;const Q=B[q],it=I[q];Q!==it&&q!=="value"&&s(M,q,it,Q,K,$)}"value"in B&&s(M,"value",I.value,B.value,K)}},N=(M,I,B,$,K,q,Q,it,et)=>{const Z=I.el=M?M.el:a(""),ot=I.anchor=M?M.anchor:a("");let{patchFlag:rt,dynamicChildren:at,slotScopeIds:lt}=I;lt&&(it=it?it.concat(lt):lt),M==null?(i(Z,B,$),i(ot,B,$),P(I.children||[],B,ot,K,q,Q,it,et)):rt>0&&rt&64&&at&&M.dynamicChildren?(x(M.dynamicChildren,at,B,K,q,Q,it),(I.key!=null||K&&I===K.subTree)&&Js(M,I,!0)):D(M,I,B,ot,K,q,Q,it,et)},v=(M,I,B,$,K,q,Q,it,et)=>{I.slotScopeIds=it,M==null?I.shapeFlag&512?K.ctx.activate(I,B,$,Q,et):R(I,B,$,K,q,Q,et):S(M,I,et)},R=(M,I,B,$,K,q,Q)=>{const it=M.component=Nd(M,$,K);if(Ir(M)&&(it.ctx.renderer=W),Id(it,!1,Q),it.asyncDep){if(K&&K.registerDep(it,A,Q),!M.el){const et=it.subTree=J(ie);E(null,et,I,B)}}else A(it,M,I,B,K,q,Q)},S=(M,I,B)=>{const $=I.component=M.component;if(Pd(M,I,B))if($.asyncDep&&!$.asyncResolved){F($,I,B);return}else $.next=I,$.update();else I.el=M.el,$.vnode=I},A=(M,I,B,$,K,q,Q)=>{const it=()=>{if(M.isMounted){let{next:rt,bu:at,u:lt,parent:ct,vnode:vt}=M;{const Ft=Ic(M);if(Ft){rt&&(rt.el=vt.el,F(M,rt,Q)),Ft.asyncDep.then(()=>{M.isUnmounted||it()});return}}let ft=rt,kt;Je(M,!1),rt?(rt.el=vt.el,F(M,rt,Q)):rt=vt,at&&Wr(at),(kt=rt.props&&rt.props.onVnodeBeforeUpdate)&&be(kt,ct,rt,vt),Je(M,!0);const Rt=No(M),Gt=M.subTree;M.subTree=Rt,_(Gt,Rt,u(Gt.el),O(Gt),M,K,q),rt.el=Rt.el,ft===null&&Ed(M,Rt.el),lt&&Kt(lt,K),(kt=rt.props&&rt.props.onVnodeUpdated)&&Kt(()=>be(kt,ct,rt,vt),K)}else{let rt;const{el:at,props:lt}=I,{bm:ct,m:vt,parent:ft,root:kt,type:Rt}=M,Gt=ki(I);Je(M,!1),ct&&Wr(ct),!Gt&&(rt=lt&&lt.onVnodeBeforeMount)&&be(rt,ft,I),Je(M,!0);{kt.ce&&kt.ce._injectChildStyle(Rt);const Ft=M.subTree=No(M);_(null,Ft,B,$,M,K,q),I.el=Ft.el}if(vt&&Kt(vt,K),!Gt&&(rt=lt&&lt.onVnodeMounted)){const Ft=I;Kt(()=>be(rt,ft,Ft),K)}(I.shapeFlag&256||ft&&ki(ft.vnode)&&ft.vnode.shapeFlag&256)&&M.a&&Kt(M.a,K),M.isMounted=!0,I=B=$=null}};M.scope.on();const et=M.effect=new Ul(it);M.scope.off();const Z=M.update=et.run.bind(et),ot=M.job=et.runIfDirty.bind(et);ot.i=M,ot.id=M.uid,et.scheduler=()=>Xs(ot),Je(M,!0),Z()},F=(M,I,B)=>{I.component=M;const $=M.vnode.props;M.vnode=I,M.next=null,ld(M,I.props,$,B),dd(M,I.children,B),Ye(),Co(M),Xe()},D=(M,I,B,$,K,q,Q,it,et=!1)=>{const Z=M&&M.children,ot=M?M.shapeFlag:0,rt=I.children,{patchFlag:at,shapeFlag:lt}=I;if(at>0){if(at&128){H(Z,rt,B,$,K,q,Q,it,et);return}else if(at&256){j(Z,rt,B,$,K,q,Q,it,et);return}}lt&8?(ot&16&&st(Z,K,q),rt!==Z&&c(B,rt)):ot&16?lt&16?H(Z,rt,B,$,K,q,Q,it,et):st(Z,K,q,!0):(ot&8&&c(B,""),lt&16&&P(rt,B,$,K,q,Q,it,et))},j=(M,I,B,$,K,q,Q,it,et)=>{M=M||yn,I=I||yn;const Z=M.length,ot=I.length,rt=Math.min(Z,ot);let at;for(at=0;at<rt;at++){const lt=I[at]=et?je(I[at]):we(I[at]);_(M[at],lt,B,null,K,q,Q,it,et)}Z>ot?st(M,K,q,!0,!1,rt):P(I,B,$,K,q,Q,it,et,rt)},H=(M,I,B,$,K,q,Q,it,et)=>{let Z=0;const ot=I.length;let rt=M.length-1,at=ot-1;for(;Z<=rt&&Z<=at;){const lt=M[Z],ct=I[Z]=et?je(I[Z]):we(I[Z]);if(sn(lt,ct))_(lt,ct,B,null,K,q,Q,it,et);else break;Z++}for(;Z<=rt&&Z<=at;){const lt=M[rt],ct=I[at]=et?je(I[at]):we(I[at]);if(sn(lt,ct))_(lt,ct,B,null,K,q,Q,it,et);else break;rt--,at--}if(Z>rt){if(Z<=at){const lt=at+1,ct=lt<ot?I[lt].el:$;for(;Z<=at;)_(null,I[Z]=et?je(I[Z]):we(I[Z]),B,ct,K,q,Q,it,et),Z++}}else if(Z>at)for(;Z<=rt;)Y(M[Z],K,q,!0),Z++;else{const lt=Z,ct=Z,vt=new Map;for(Z=ct;Z<=at;Z++){const Vt=I[Z]=et?je(I[Z]):we(I[Z]);Vt.key!=null&&vt.set(Vt.key,Z)}let ft,kt=0;const Rt=at-ct+1;let Gt=!1,Ft=0;const jt=new Array(Rt);for(Z=0;Z<Rt;Z++)jt[Z]=0;for(Z=lt;Z<=rt;Z++){const Vt=M[Z];if(kt>=Rt){Y(Vt,K,q,!0);continue}let ue;if(Vt.key!=null)ue=vt.get(Vt.key);else for(ft=ct;ft<=at;ft++)if(jt[ft-ct]===0&&sn(Vt,I[ft])){ue=ft;break}ue===void 0?Y(Vt,K,q,!0):(jt[ue-ct]=Z+1,ue>=Ft?Ft=ue:Gt=!0,_(Vt,I[ue],B,null,K,q,Q,it,et),kt++)}const Jt=Gt?md(jt):yn;for(ft=Jt.length-1,Z=Rt-1;Z>=0;Z--){const Vt=ct+Z,ue=I[Vt],_o=Vt+1<ot?I[Vt+1].el:$;jt[Z]===0?_(null,ue,B,_o,K,q,Q,it,et):Gt&&(ft<0||Z!==Jt[ft]?U(ue,B,_o,2):ft--)}}},U=(M,I,B,$,K=null)=>{const{el:q,type:Q,transition:it,children:et,shapeFlag:Z}=M;if(Z&6){U(M.component.subTree,I,B,$);return}if(Z&128){M.suspense.move(I,B,$);return}if(Z&64){Q.move(M,I,B,W);return}if(Q===fe){i(q,I,B);for(let rt=0;rt<et.length;rt++)U(et[rt],I,B,$);i(M.anchor,I,B);return}if(Q===Jr){g(M,I,B);return}if($!==2&&Z&1&&it)if($===0)it.beforeEnter(q),i(q,I,B),Kt(()=>it.enter(q),K);else{const{leave:rt,delayLeave:at,afterLeave:lt}=it,ct=()=>i(q,I,B),vt=()=>{rt(q,()=>{ct(),lt&&lt()})};at?at(q,ct,vt):vt()}else i(q,I,B)},Y=(M,I,B,$=!1,K=!1)=>{const{type:q,props:Q,ref:it,children:et,dynamicChildren:Z,shapeFlag:ot,patchFlag:rt,dirs:at,cacheIndex:lt}=M;if(rt===-2&&(K=!1),it!=null&&_r(it,null,B,M,!0),lt!=null&&(I.renderCache[lt]=void 0),ot&256){I.ctx.deactivate(M);return}const ct=ot&1&&at,vt=!ki(M);let ft;if(vt&&(ft=Q&&Q.onVnodeBeforeUnmount)&&be(ft,I,M),ot&6)nt(M.component,B,$);else{if(ot&128){M.suspense.unmount(B,$);return}ct&&Qe(M,null,I,"beforeUnmount"),ot&64?M.type.remove(M,I,B,W,$):Z&&!Z.hasOnce&&(q!==fe||rt>0&&rt&64)?st(Z,I,B,!1,!0):(q===fe&&rt&384||!K&&ot&16)&&st(et,I,B),$&&z(M)}(vt&&(ft=Q&&Q.onVnodeUnmounted)||ct)&&Kt(()=>{ft&&be(ft,I,M),ct&&Qe(M,null,I,"unmounted")},B)},z=M=>{const{type:I,el:B,anchor:$,transition:K}=M;if(I===fe){X(B,$);return}if(I===Jr){y(M);return}const q=()=>{r(B),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(M.shapeFlag&1&&K&&!K.persisted){const{leave:Q,delayLeave:it}=K,et=()=>Q(B,q);it?it(M.el,q,et):et()}else q()},X=(M,I)=>{let B;for(;M!==I;)B=p(M),r(M),M=B;r(I)},nt=(M,I,B)=>{const{bum:$,scope:K,job:q,subTree:Q,um:it,m:et,a:Z}=M;Mo(et),Mo(Z),$&&Wr($),K.stop(),q&&(q.flags|=8,Y(Q,M,I,B)),it&&Kt(it,I),Kt(()=>{M.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},st=(M,I,B,$=!1,K=!1,q=0)=>{for(let Q=q;Q<M.length;Q++)Y(M[Q],I,B,$,K)},O=M=>{if(M.shapeFlag&6)return O(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const I=p(M.anchor||M.el),B=I&&I[cc];return B?p(B):I};let G=!1;const V=(M,I,B)=>{M==null?I._vnode&&Y(I._vnode,null,null,!0):_(I._vnode||null,M,I,null,null,null,B),I._vnode=M,G||(G=!0,Co(),oc(),G=!1)},W={p:_,um:Y,m:U,r:z,mt:R,mc:P,pc:D,pbc:x,n:O,o:t};return{render:V,hydrate:void 0,createApp:od(V)}}function Qr({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Je({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function pd(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Js(t,e,n=!1){const i=t.children,r=e.children;if(ht(i)&&ht(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=je(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&Js(o,a)),a.type===Br&&(a.el=o.el)}}function md(t){const e=t.slice(),n=[0];let i,r,s,o,a;const l=t.length;for(i=0;i<l;i++){const h=t[i];if(h!==0){if(r=n[n.length-1],t[r]<h){e[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<h?s=a+1:o=a;h<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function Ic(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ic(e)}function Mo(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const vd=Symbol.for("v-scx"),_d=()=>se(vd);function yd(t,e){return to(t,null,{flush:"sync"})}function Et(t,e,n){return to(t,e,n)}function to(t,e,n=bt){const{immediate:i,deep:r,flush:s,once:o}=n,a=Bt({},n),l=e&&i||!e&&s!=="post";let h;if(zi){if(s==="sync"){const d=_d();h=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=Pe,d.resume=Pe,d.pause=Pe,d}}const c=zt;a.call=(d,f,_)=>me(d,c,f,_);let u=!1;s==="post"?a.scheduler=d=>{Kt(d,c&&c.suspense)}:s!=="sync"&&(u=!0,a.scheduler=(d,f)=>{f?d():Xs(d)}),a.augmentJob=d=>{e&&(d.flags|=4),u&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const p=Iu(t,e,a);return zi&&(h?h.push(p):l&&p()),p}function bd(t,e,n){const i=this.proxy,r=It(t)?t.includes(".")?Lc(i,t):()=>i[t]:t.bind(i,i);let s;ut(e)?s=e:(s=e.handler,n=e);const o=Xi(this),a=to(r,s.bind(i),n);return o(),a}function Lc(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function Sd(t,e,n=bt){const i=Re(),r=ce(e),s=Ke(e),o=Dc(t,r),a=ku((l,h)=>{let c,u=bt,p;return yd(()=>{const d=t[r];ne(c,d)&&(c=d,h())}),{get(){return l(),n.get?n.get(c):c},set(d){const f=n.set?n.set(d):d;if(!ne(f,c)&&!(u!==bt&&ne(d,u)))return;const _=i.vnode.props;_&&(e in _||r in _||s in _)&&(`onUpdate:${e}`in _||`onUpdate:${r}`in _||`onUpdate:${s}`in _)||(c=d,h()),i.emit(`update:${e}`,f),ne(d,f)&&ne(d,u)&&!ne(f,p)&&h(),u=d,p=f}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||bt:a,done:!1}:{done:!0}}}},a}const Dc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ce(e)}Modifiers`]||t[`${Ke(e)}Modifiers`];function Cd(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||bt;let r=n;const s=e.startsWith("update:"),o=s&&Dc(i,e.slice(7));o&&(o.trim&&(r=n.map(c=>It(c)?c.trim():c)),o.number&&(r=n.map(Qh)));let a,l=i[a=jr(e)]||i[a=jr(ce(e))];!l&&s&&(l=i[a=jr(Ke(e))]),l&&me(l,t,6,r);const h=i[a+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,me(h,t,6,r)}}function Gc(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const s=t.emits;let o={},a=!1;if(!ut(t)){const l=h=>{const c=Gc(h,e,!0);c&&(a=!0,Bt(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(At(t)&&i.set(t,null),null):(ht(s)?s.forEach(l=>o[l]=null):Bt(o,s),At(t)&&i.set(t,o),o)}function Gr(t,e){return!t||!Tr(e)?!1:(e=e.slice(2).replace(/Once$/,""),St(t,e[0].toLowerCase()+e.slice(1))||St(t,Ke(e))||St(t,e))}function No(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:h,renderCache:c,props:u,data:p,setupState:d,ctx:f,inheritAttrs:_}=t,b=vr(t);let E,m;try{if(n.shapeFlag&4){const y=r||i,C=y;E=we(h.call(C,y,c,u,d,p,f)),m=a}else{const y=e;E=we(y.length>1?y(u,{attrs:a,slots:o,emit:l}):y(u,null)),m=e.props?a:wd(a)}}catch(y){Mi.length=0,Nr(y,t,1),E=J(ie)}let g=E;if(m&&_!==!1){const y=Object.keys(m),{shapeFlag:C}=g;y.length&&C&7&&(s&&y.some(Bs)&&(m=xd(m,s)),g=qe(g,m,!1,!0))}return n.dirs&&(g=qe(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&Ui(g,n.transition),E=g,vr(b),E}const wd=t=>{let e;for(const n in t)(n==="class"||n==="style"||Tr(n))&&((e||(e={}))[n]=t[n]);return e},xd=(t,e)=>{const n={};for(const i in t)(!Bs(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function Pd(t,e,n){const{props:i,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?Io(i,o,h):!!o;if(l&8){const c=e.dynamicProps;for(let u=0;u<c.length;u++){const p=c[u];if(o[p]!==i[p]&&!Gr(h,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Io(i,o,h):!0:!!o;return!1}function Io(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!Gr(n,s))return!0}return!1}function Ed({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const Bc=t=>t.__isSuspense;function Td(t,e){e&&e.pendingBranch?ht(t)?e.effects.push(...t):e.effects.push(t):Gu(t)}const fe=Symbol.for("v-fgt"),Br=Symbol.for("v-txt"),ie=Symbol.for("v-cmt"),Jr=Symbol.for("v-stc"),Mi=[];let ae=null;function xn(t=!1){Mi.push(ae=t?null:[])}function Rd(){Mi.pop(),ae=Mi[Mi.length-1]||null}let Vi=1;function Lo(t,e=!1){Vi+=t,t<0&&ae&&e&&(ae.hasOnce=!0)}function Uc(t){return t.dynamicChildren=Vi>0?ae||yn:null,Rd(),Vi>0&&ae&&ae.push(t),t}function eo(t,e,n,i,r,s){return Uc(io(t,e,n,i,r,s,!0))}function no(t,e,n,i,r){return Uc(J(t,e,n,i,r,!0))}function Hi(t){return t?t.__v_isVNode===!0:!1}function sn(t,e){return t.type===e.type&&t.key===e.key}const Vc=({key:t})=>t??null,hr=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?It(t)||$t(t)||ut(t)?{i:re,r:t,k:e,f:!!n}:t:null);function io(t,e=null,n=null,i=0,r=null,s=t===fe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Vc(e),ref:e&&hr(e),scopeId:lc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:re};return a?(ro(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=It(n)?8:16),Vi>0&&!o&&ae&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ae.push(l),l}const J=Ad;function Ad(t,e=null,n=null,i=0,r=null,s=!1){if((!t||t===Zu)&&(t=ie),Hi(t)){const a=qe(t,e,!0);return n&&ro(a,n),Vi>0&&!s&&ae&&(a.shapeFlag&6?ae[ae.indexOf(t)]=a:ae.push(a)),a.patchFlag=-2,a}if(Ud(t)&&(t=t.__vccOpts),e){e=Od(e);let{class:a,style:l}=e;a&&!It(a)&&(e.class=Hs(a)),At(l)&&(Ys(l)&&!ht(l)&&(l=Bt({},l)),e.style=Fr(l))}const o=It(t)?1:Bc(t)?128:hc(t)?64:At(t)?4:ut(t)?2:0;return io(t,e,n,i,r,o,s,!0)}function Od(t){return t?Ys(t)||Rc(t)?Bt({},t):t:null}function qe(t,e,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=t,h=e?Te(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&Vc(h),ref:e&&e.ref?n&&s?ht(s)?s.concat(hr(e)):[s,hr(e)]:hr(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==fe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&qe(t.ssContent),ssFallback:t.ssFallback&&qe(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Ui(c,l.clone(c)),c}function Hc(t=" ",e=0){return J(Br,null,t,e)}function kd(t="",e=!1){return e?(xn(),no(ie,null,t)):J(ie,null,t)}function we(t){return t==null||typeof t=="boolean"?J(ie):ht(t)?J(fe,null,t.slice()):Hi(t)?je(t):J(Br,null,String(t))}function je(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:qe(t)}function ro(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(ht(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),ro(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Rc(e)?e._ctx=re:r===3&&re&&(re.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ut(e)?(e={default:e,_ctx:re},n=32):(e=String(e),i&64?(n=16,e=[Hc(e)]):n=8);t.children=e,t.shapeFlag|=n}function Te(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=Hs([e.class,i.class]));else if(r==="style")e.style=Fr([e.style,i.style]);else if(Tr(r)){const s=e[r],o=i[r];o&&s!==o&&!(ht(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=i[r])}return e}function be(t,e,n,i=null){me(t,e,7,[n,i])}const Fd=Pc();let Md=0;function Nd(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||Fd,s={uid:Md++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ou(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Oc(i,r),emitsOptions:Gc(i,r),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:i.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Cd.bind(null,s),t.ce&&t.ce(s),s}let zt=null;const Re=()=>zt||re;let br,Os;{const t=kr(),e=(n,i)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};br=e("__VUE_INSTANCE_SETTERS__",n=>zt=n),Os=e("__VUE_SSR_SETTERS__",n=>zi=n)}const Xi=t=>{const e=zt;return br(t),t.scope.on(),()=>{t.scope.off(),br(e)}},Do=()=>{zt&&zt.scope.off(),br(null)};function zc(t){return t.vnode.shapeFlag&4}let zi=!1;function Id(t,e=!1,n=!1){e&&Os(e);const{props:i,children:r}=t.vnode,s=zc(t);ad(t,i,s,e),ud(t,r,n);const o=s?Ld(t,e):void 0;return e&&Os(!1),o}function Ld(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Ju);const{setup:i}=n;if(i){Ye();const r=t.setupContext=i.length>1?Gd(t):null,s=Xi(t),o=qi(i,t,0,[t.props,r]),a=Dl(o);if(Xe(),s(),(a||t.sp)&&!ki(t)&&yc(t),a){if(o.then(Do,Do),e)return o.then(l=>{Go(t,l)}).catch(l=>{Nr(l,t,0)});t.asyncDep=o}else Go(t,o)}else $c(t)}function Go(t,e,n){ut(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:At(e)&&(t.setupState=ic(e)),$c(t)}function $c(t,e,n){const i=t.type;t.render||(t.render=i.render||Pe);{const r=Xi(t);Ye();try{td(t)}finally{Xe(),r()}}}const Dd={get(t,e){return Wt(t,"get",""),t[e]}};function Gd(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Dd),slots:t.slots,emit:t.emit,expose:e}}function Ur(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ic(Eu(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Fi)return Fi[n](t)},has(e,n){return n in e||n in Fi}})):t.proxy}function Bd(t,e=!0){return ut(t)?t.displayName||t.name:t.name||e&&t.__name}function Ud(t){return ut(t)&&"__vccOpts"in t}const _t=(t,e)=>Mu(t,e,zi);function Zi(t,e,n){const i=arguments.length;return i===2?At(e)&&!ht(e)?Hi(e)?J(t,null,[e]):J(t,e):J(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Hi(n)&&(n=[n]),J(t,e,n))}const Vd="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ks;const Bo=typeof window<"u"&&window.trustedTypes;if(Bo)try{ks=Bo.createPolicy("vue",{createHTML:t=>t})}catch{}const jc=ks?t=>ks.createHTML(t):t=>t,Hd="http://www.w3.org/2000/svg",zd="http://www.w3.org/1998/Math/MathML",Ne=typeof document<"u"?document:null,Uo=Ne&&Ne.createElement("template"),$d={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e==="svg"?Ne.createElementNS(Hd,t):e==="mathml"?Ne.createElementNS(zd,t):n?Ne.createElement(t,{is:n}):Ne.createElement(t);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>Ne.createTextNode(t),createComment:t=>Ne.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ne.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const o=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{Uo.innerHTML=jc(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=Uo.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ue="transition",An="animation",$i=Symbol("_vtc"),Wc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},jd=Bt({},gc,Wc),Wd=t=>(t.displayName="Transition",t.props=jd,t),qc=Wd((t,{slots:e})=>Zi(Hu,qd(t),e)),tn=(t,e=[])=>{ht(t)?t.forEach(n=>n(...e)):t&&t(...e)},Vo=t=>t?ht(t)?t.some(e=>e.length>1):t.length>1:!1;function qd(t){const e={};for(const N in t)N in Wc||(e[N]=t[N]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:h=o,appearToClass:c=a,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,f=Kd(r),_=f&&f[0],b=f&&f[1],{onBeforeEnter:E,onEnter:m,onEnterCancelled:g,onLeave:y,onLeaveCancelled:C,onBeforeAppear:T=E,onAppear:L=m,onAppearCancelled:P=g}=e,w=(N,v,R,S)=>{N._enterCancelled=S,en(N,v?c:a),en(N,v?h:o),R&&R()},x=(N,v)=>{N._isLeaving=!1,en(N,u),en(N,d),en(N,p),v&&v()},k=N=>(v,R)=>{const S=N?L:m,A=()=>w(v,N,R);tn(S,[v,A]),Ho(()=>{en(v,N?l:s),Oe(v,N?c:a),Vo(S)||zo(v,i,_,A)})};return Bt(e,{onBeforeEnter(N){tn(E,[N]),Oe(N,s),Oe(N,o)},onBeforeAppear(N){tn(T,[N]),Oe(N,l),Oe(N,h)},onEnter:k(!1),onAppear:k(!0),onLeave(N,v){N._isLeaving=!0;const R=()=>x(N,v);Oe(N,u),N._enterCancelled?(Oe(N,p),Wo()):(Wo(),Oe(N,p)),Ho(()=>{N._isLeaving&&(en(N,u),Oe(N,d),Vo(y)||zo(N,i,b,R))}),tn(y,[N,R])},onEnterCancelled(N){w(N,!1,void 0,!0),tn(g,[N])},onAppearCancelled(N){w(N,!0,void 0,!0),tn(P,[N])},onLeaveCancelled(N){x(N),tn(C,[N])}})}function Kd(t){if(t==null)return null;if(At(t))return[ts(t.enter),ts(t.leave)];{const e=ts(t);return[e,e]}}function ts(t){return Jh(t)}function Oe(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[$i]||(t[$i]=new Set)).add(e)}function en(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[$i];n&&(n.delete(e),n.size||(t[$i]=void 0))}function Ho(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Yd=0;function zo(t,e,n,i){const r=t._endId=++Yd,s=()=>{r===t._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=Xd(t,e);if(!o)return i();const h=o+"end";let c=0;const u=()=>{t.removeEventListener(h,p),s()},p=d=>{d.target===t&&++c>=l&&u()};setTimeout(()=>{c<l&&u()},a+1),t.addEventListener(h,p)}function Xd(t,e){const n=window.getComputedStyle(t),i=f=>(n[f]||"").split(", "),r=i(`${Ue}Delay`),s=i(`${Ue}Duration`),o=$o(r,s),a=i(`${An}Delay`),l=i(`${An}Duration`),h=$o(a,l);let c=null,u=0,p=0;e===Ue?o>0&&(c=Ue,u=o,p=s.length):e===An?h>0&&(c=An,u=h,p=l.length):(u=Math.max(o,h),c=u>0?o>h?Ue:An:null,p=c?c===Ue?s.length:l.length:0);const d=c===Ue&&/\b(transform|all)(,|$)/.test(i(`${Ue}Property`).toString());return{type:c,timeout:u,propCount:p,hasTransform:d}}function $o(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>jo(n)+jo(t[i])))}function jo(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Wo(){return document.body.offsetHeight}function Zd(t,e,n){const i=t[$i];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Sr=Symbol("_vod"),Kc=Symbol("_vsh"),Cr={beforeMount(t,{value:e},{transition:n}){t[Sr]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):On(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),On(t,!0),i.enter(t)):i.leave(t,()=>{On(t,!1)}):On(t,e))},beforeUnmount(t,{value:e}){On(t,e)}};function On(t,e){t.style.display=e?t[Sr]:"none",t[Kc]=!e}const Qd=Symbol(""),Jd=/(^|;)\s*display\s*:/;function tf(t,e,n){const i=t.style,r=It(n);let s=!1;if(n&&!r){if(e)if(It(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ur(i,a,"")}else for(const o in e)n[o]==null&&ur(i,o,"");for(const o in n)o==="display"&&(s=!0),ur(i,o,n[o])}else if(r){if(e!==n){const o=i[Qd];o&&(n+=";"+o),i.cssText=n,s=Jd.test(n)}}else e&&t.removeAttribute("style");Sr in t&&(t[Sr]=s?i.display:"",t[Kc]&&(i.display="none"))}const qo=/\s*!important$/;function ur(t,e,n){if(ht(n))n.forEach(i=>ur(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=ef(t,e);qo.test(n)?t.setProperty(Ke(i),n.replace(qo,""),"important"):t[i]=n}}const Ko=["Webkit","Moz","ms"],es={};function ef(t,e){const n=es[e];if(n)return n;let i=ce(e);if(i!=="filter"&&i in t)return es[e]=i;i=Or(i);for(let r=0;r<Ko.length;r++){const s=Ko[r]+i;if(s in t)return es[e]=s}return e}const Yo="http://www.w3.org/1999/xlink";function Xo(t,e,n,i,r,s=su(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Yo,e.slice(6,e.length)):t.setAttributeNS(Yo,e,n):n==null||s&&!Bl(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Tn(n)?String(n):n)}function Zo(t,e,n,i,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?jc(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Bl(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function nf(t,e,n,i){t.addEventListener(e,n,i)}function rf(t,e,n,i){t.removeEventListener(e,n,i)}const Qo=Symbol("_vei");function sf(t,e,n,i,r=null){const s=t[Qo]||(t[Qo]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=of(e);if(i){const h=s[e]=cf(i,r);nf(t,a,h,l)}else o&&(rf(t,a,o,l),s[e]=void 0)}}const Jo=/(?:Once|Passive|Capture)$/;function of(t){let e;if(Jo.test(t)){e={};let i;for(;i=t.match(Jo);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ke(t.slice(2)),e]}let ns=0;const af=Promise.resolve(),lf=()=>ns||(af.then(()=>ns=0),ns=Date.now());function cf(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;me(hf(i,n.value),e,5,[i])};return n.value=t,n.attached=lf(),n}function hf(t,e){if(ht(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const ta=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,uf=(t,e,n,i,r,s)=>{const o=r==="svg";e==="class"?Zd(t,i,o):e==="style"?tf(t,n,i):Tr(e)?Bs(e)||sf(t,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):df(t,e,i,o))?(Zo(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Xo(t,e,i,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!It(i))?Zo(t,ce(e),i,s,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Xo(t,e,i,o))};function df(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&ta(e)&&ut(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return ta(e)&&It(n)?!1:e in t}const ff=Bt({patchProp:uf},$d);let ea;function gf(){return ea||(ea=fd(ff))}const Yc=(...t)=>{const e=gf().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=mf(i);if(!r)return;const s=e._component;!ut(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,pf(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function pf(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function mf(t){return It(t)?document.querySelector(t):t}var na=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dr={exports:{}},kn={},is={},rs={},ia;function gt(){return ia||(ia=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof na<"u"?na:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.19",isBrowser:n(),isUnminified:/param/.test((function(r){}).toString()),dblClickWindow:400,getAngle(r){return t.Konva.angleDeg?r*e:r},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var r;return(r=t.Konva.Transformer)===null||r===void 0?void 0:r.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(r){t.glob.Konva=r}};const i=r=>{t.Konva[r.prototype.getClassName()]=r};t._registerNode=i,t.Konva._injectGlobal(t.Konva)}(rs)),rs}var ss={},ra;function Ot(){return ra||(ra=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=gt();class n{constructor(y=[1,0,0,1,0,0]){this.dirty=!1,this.m=y&&y.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(y){y.m[0]=this.m[0],y.m[1]=this.m[1],y.m[2]=this.m[2],y.m[3]=this.m[3],y.m[4]=this.m[4],y.m[5]=this.m[5]}point(y){const C=this.m;return{x:C[0]*y.x+C[2]*y.y+C[4],y:C[1]*y.x+C[3]*y.y+C[5]}}translate(y,C){return this.m[4]+=this.m[0]*y+this.m[2]*C,this.m[5]+=this.m[1]*y+this.m[3]*C,this}scale(y,C){return this.m[0]*=y,this.m[1]*=y,this.m[2]*=C,this.m[3]*=C,this}rotate(y){const C=Math.cos(y),T=Math.sin(y),L=this.m[0]*C+this.m[2]*T,P=this.m[1]*C+this.m[3]*T,w=this.m[0]*-T+this.m[2]*C,x=this.m[1]*-T+this.m[3]*C;return this.m[0]=L,this.m[1]=P,this.m[2]=w,this.m[3]=x,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(y,C){const T=this.m[0]+this.m[2]*C,L=this.m[1]+this.m[3]*C,P=this.m[2]+this.m[0]*y,w=this.m[3]+this.m[1]*y;return this.m[0]=T,this.m[1]=L,this.m[2]=P,this.m[3]=w,this}multiply(y){const C=this.m[0]*y.m[0]+this.m[2]*y.m[1],T=this.m[1]*y.m[0]+this.m[3]*y.m[1],L=this.m[0]*y.m[2]+this.m[2]*y.m[3],P=this.m[1]*y.m[2]+this.m[3]*y.m[3],w=this.m[0]*y.m[4]+this.m[2]*y.m[5]+this.m[4],x=this.m[1]*y.m[4]+this.m[3]*y.m[5]+this.m[5];return this.m[0]=C,this.m[1]=T,this.m[2]=L,this.m[3]=P,this.m[4]=w,this.m[5]=x,this}invert(){const y=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),C=this.m[3]*y,T=-this.m[1]*y,L=-this.m[2]*y,P=this.m[0]*y,w=y*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),x=y*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=C,this.m[1]=T,this.m[2]=L,this.m[3]=P,this.m[4]=w,this.m[5]=x,this}getMatrix(){return this.m}decompose(){const y=this.m[0],C=this.m[1],T=this.m[2],L=this.m[3],P=this.m[4],w=this.m[5],x=y*L-C*T,k={x:P,y:w,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(y!=0||C!=0){const N=Math.sqrt(y*y+C*C);k.rotation=C>0?Math.acos(y/N):-Math.acos(y/N),k.scaleX=N,k.scaleY=x/N,k.skewX=(y*T+C*L)/x,k.skewY=0}else if(T!=0||L!=0){const N=Math.sqrt(T*T+L*L);k.rotation=Math.PI/2-(L>0?Math.acos(-T/N):-Math.acos(T/N)),k.scaleX=x/N,k.scaleY=N,k.skewX=0,k.skewY=(y*T+C*L)/x}return k.rotation=t.Util._getRotation(k.rotation),k}}t.Transform=n;const i="[object Array]",r="[object Number]",s="[object String]",o="[object Boolean]",a=Math.PI/180,l=180/Math.PI,h="#",c="",u="0",p="Konva warning: ",d="Konva error: ",f="rgb(",_={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},b=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let E=[];const m=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(g){setTimeout(g,60)};t.Util={_isElement(g){return!!(g&&g.nodeType==1)},_isFunction(g){return!!(g&&g.constructor&&g.call&&g.apply)},_isPlainObject(g){return!!g&&g.constructor===Object},_isArray(g){return Object.prototype.toString.call(g)===i},_isNumber(g){return Object.prototype.toString.call(g)===r&&!isNaN(g)&&isFinite(g)},_isString(g){return Object.prototype.toString.call(g)===s},_isBoolean(g){return Object.prototype.toString.call(g)===o},isObject(g){return g instanceof Object},isValidSelector(g){if(typeof g!="string")return!1;const y=g[0];return y==="#"||y==="."||y===y.toUpperCase()},_sign(g){return g===0||g>0?1:-1},requestAnimFrame(g){E.push(g),E.length===1&&m(function(){const y=E;E=[],y.forEach(function(C){C()})})},createCanvasElement(){const g=document.createElement("canvas");try{g.style=g.style||{}}catch{}return g},createImageElement(){return document.createElement("img")},_isInDocument(g){for(;g=g.parentNode;)if(g==document)return!0;return!1},_urlToImage(g,y){const C=t.Util.createImageElement();C.onload=function(){y(C)},C.src=g},_rgbToHex(g,y,C){return((1<<24)+(g<<16)+(y<<8)+C).toString(16).slice(1)},_hexToRgb(g){g=g.replace(h,c);const y=parseInt(g,16);return{r:y>>16&255,g:y>>8&255,b:y&255}},getRandomColor(){let g=(Math.random()*16777215<<0).toString(16);for(;g.length<6;)g=u+g;return h+g},getRGB(g){let y;return g in _?(y=_[g],{r:y[0],g:y[1],b:y[2]}):g[0]===h?this._hexToRgb(g.substring(1)):g.substr(0,4)===f?(y=b.exec(g.replace(/ /g,"")),{r:parseInt(y[1],10),g:parseInt(y[2],10),b:parseInt(y[3],10)}):{r:0,g:0,b:0}},colorToRGBA(g){return g=g||"black",t.Util._namedColorToRBA(g)||t.Util._hex3ColorToRGBA(g)||t.Util._hex4ColorToRGBA(g)||t.Util._hex6ColorToRGBA(g)||t.Util._hex8ColorToRGBA(g)||t.Util._rgbColorToRGBA(g)||t.Util._rgbaColorToRGBA(g)||t.Util._hslColorToRGBA(g)},_namedColorToRBA(g){const y=_[g.toLowerCase()];return y?{r:y[0],g:y[1],b:y[2],a:1}:null},_rgbColorToRGBA(g){if(g.indexOf("rgb(")===0){g=g.match(/rgb\(([^)]+)\)/)[1];const y=g.split(/ *, */).map(Number);return{r:y[0],g:y[1],b:y[2],a:1}}},_rgbaColorToRGBA(g){if(g.indexOf("rgba(")===0){g=g.match(/rgba\(([^)]+)\)/)[1];const y=g.split(/ *, */).map((C,T)=>C.slice(-1)==="%"?T===3?parseInt(C)/100:parseInt(C)/100*255:Number(C));return{r:y[0],g:y[1],b:y[2],a:y[3]}}},_hex8ColorToRGBA(g){if(g[0]==="#"&&g.length===9)return{r:parseInt(g.slice(1,3),16),g:parseInt(g.slice(3,5),16),b:parseInt(g.slice(5,7),16),a:parseInt(g.slice(7,9),16)/255}},_hex6ColorToRGBA(g){if(g[0]==="#"&&g.length===7)return{r:parseInt(g.slice(1,3),16),g:parseInt(g.slice(3,5),16),b:parseInt(g.slice(5,7),16),a:1}},_hex4ColorToRGBA(g){if(g[0]==="#"&&g.length===5)return{r:parseInt(g[1]+g[1],16),g:parseInt(g[2]+g[2],16),b:parseInt(g[3]+g[3],16),a:parseInt(g[4]+g[4],16)/255}},_hex3ColorToRGBA(g){if(g[0]==="#"&&g.length===4)return{r:parseInt(g[1]+g[1],16),g:parseInt(g[2]+g[2],16),b:parseInt(g[3]+g[3],16),a:1}},_hslColorToRGBA(g){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(g)){const[y,...C]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(g),T=Number(C[0])/360,L=Number(C[1])/100,P=Number(C[2])/100;let w,x,k;if(L===0)return k=P*255,{r:Math.round(k),g:Math.round(k),b:Math.round(k),a:1};P<.5?w=P*(1+L):w=P+L-P*L;const N=2*P-w,v=[0,0,0];for(let R=0;R<3;R++)x=T+1/3*-(R-1),x<0&&x++,x>1&&x--,6*x<1?k=N+(w-N)*6*x:2*x<1?k=w:3*x<2?k=N+(w-N)*(2/3-x)*6:k=N,v[R]=k*255;return{r:Math.round(v[0]),g:Math.round(v[1]),b:Math.round(v[2]),a:1}}},haveIntersection(g,y){return!(y.x>g.x+g.width||y.x+y.width<g.x||y.y>g.y+g.height||y.y+y.height<g.y)},cloneObject(g){const y={};for(const C in g)this._isPlainObject(g[C])?y[C]=this.cloneObject(g[C]):this._isArray(g[C])?y[C]=this.cloneArray(g[C]):y[C]=g[C];return y},cloneArray(g){return g.slice(0)},degToRad(g){return g*a},radToDeg(g){return g*l},_degToRad(g){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(g)},_radToDeg(g){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(g)},_getRotation(g){return e.Konva.angleDeg?t.Util.radToDeg(g):g},_capitalize(g){return g.charAt(0).toUpperCase()+g.slice(1)},throw(g){throw new Error(d+g)},error(g){console.error(d+g)},warn(g){e.Konva.showWarnings&&console.warn(p+g)},each(g,y){for(const C in g)y(C,g[C])},_inRange(g,y,C){return y<=g&&g<C},_getProjectionToSegment(g,y,C,T,L,P){let w,x,k;const N=(g-C)*(g-C)+(y-T)*(y-T);if(N==0)w=g,x=y,k=(L-C)*(L-C)+(P-T)*(P-T);else{const v=((L-g)*(C-g)+(P-y)*(T-y))/N;v<0?(w=g,x=y,k=(g-L)*(g-L)+(y-P)*(y-P)):v>1?(w=C,x=T,k=(C-L)*(C-L)+(T-P)*(T-P)):(w=g+v*(C-g),x=y+v*(T-y),k=(w-L)*(w-L)+(x-P)*(x-P))}return[w,x,k]},_getProjectionToLine(g,y,C){const T=t.Util.cloneObject(g);let L=Number.MAX_VALUE;return y.forEach(function(P,w){if(!C&&w===y.length-1)return;const x=y[(w+1)%y.length],k=t.Util._getProjectionToSegment(P.x,P.y,x.x,x.y,g.x,g.y),N=k[0],v=k[1],R=k[2];R<L&&(T.x=N,T.y=v,L=R)}),T},_prepareArrayForTween(g,y,C){const T=[],L=[];if(g.length>y.length){const w=y;y=g,g=w}for(let w=0;w<g.length;w+=2)T.push({x:g[w],y:g[w+1]});for(let w=0;w<y.length;w+=2)L.push({x:y[w],y:y[w+1]});const P=[];return L.forEach(function(w){const x=t.Util._getProjectionToLine(w,T,C);P.push(x.x),P.push(x.y)}),P},_prepareToStringify(g){let y;g.visitedByCircularReferenceRemoval=!0;for(const C in g)if(g.hasOwnProperty(C)&&g[C]&&typeof g[C]=="object"){if(y=Object.getOwnPropertyDescriptor(g,C),g[C].visitedByCircularReferenceRemoval||t.Util._isElement(g[C]))if(y.configurable)delete g[C];else return null;else if(t.Util._prepareToStringify(g[C])===null)if(y.configurable)delete g[C];else return null}return delete g.visitedByCircularReferenceRemoval,g},_assign(g,y){for(const C in y)g[C]=y[C];return g},_getFirstPointerId(g){return g.touches?g.changedTouches[0].identifier:g.pointerId||999},releaseCanvas(...g){e.Konva.releaseCanvasOnDestroy&&g.forEach(y=>{y.width=0,y.height=0})},drawRoundedRectPath(g,y,C,T){let L=0,P=0,w=0,x=0;typeof T=="number"?L=P=w=x=Math.min(T,y/2,C/2):(L=Math.min(T[0]||0,y/2,C/2),P=Math.min(T[1]||0,y/2,C/2),x=Math.min(T[2]||0,y/2,C/2),w=Math.min(T[3]||0,y/2,C/2)),g.moveTo(L,0),g.lineTo(y-P,0),g.arc(y-P,P,P,Math.PI*3/2,0,!1),g.lineTo(y,C-x),g.arc(y-x,C-x,x,0,Math.PI/2,!1),g.lineTo(w,C),g.arc(w,C-w,w,Math.PI/2,Math.PI,!1),g.lineTo(0,L),g.arc(L,L,L,Math.PI,Math.PI*3/2,!1)}}}(ss)),ss}var Fn={},os={},te={},sa;function mt(){if(sa)return te;sa=1,Object.defineProperty(te,"__esModule",{value:!0}),te.RGBComponent=i,te.alphaComponent=r,te.getNumberValidator=s,te.getNumberOrArrayOfNumbersValidator=o,te.getNumberOrAutoValidator=a,te.getStringValidator=l,te.getStringOrGradientValidator=h,te.getFunctionValidator=c,te.getNumberArrayValidator=u,te.getBooleanValidator=p,te.getComponentValidator=d;const t=gt(),e=Ot();function n(f){return e.Util._isString(f)?'"'+f+'"':Object.prototype.toString.call(f)==="[object Number]"||e.Util._isBoolean(f)?f:Object.prototype.toString.call(f)}function i(f){return f>255?255:f<0?0:Math.round(f)}function r(f){return f>1?1:f<1e-4?1e-4:f}function s(){if(t.Konva.isUnminified)return function(f,_){return e.Util._isNumber(f)||e.Util.warn(n(f)+' is a not valid value for "'+_+'" attribute. The value should be a number.'),f}}function o(f){if(t.Konva.isUnminified)return function(_,b){let E=e.Util._isNumber(_),m=e.Util._isArray(_)&&_.length==f;return!E&&!m&&e.Util.warn(n(_)+' is a not valid value for "'+b+'" attribute. The value should be a number or Array<number>('+f+")"),_}}function a(){if(t.Konva.isUnminified)return function(f,_){var b=e.Util._isNumber(f),E=f==="auto";return b||E||e.Util.warn(n(f)+' is a not valid value for "'+_+'" attribute. The value should be a number or "auto".'),f}}function l(){if(t.Konva.isUnminified)return function(f,_){return e.Util._isString(f)||e.Util.warn(n(f)+' is a not valid value for "'+_+'" attribute. The value should be a string.'),f}}function h(){if(t.Konva.isUnminified)return function(f,_){const b=e.Util._isString(f),E=Object.prototype.toString.call(f)==="[object CanvasGradient]"||f&&f.addColorStop;return b||E||e.Util.warn(n(f)+' is a not valid value for "'+_+'" attribute. The value should be a string or a native gradient.'),f}}function c(){if(t.Konva.isUnminified)return function(f,_){return e.Util._isFunction(f)||e.Util.warn(n(f)+' is a not valid value for "'+_+'" attribute. The value should be a function.'),f}}function u(){if(t.Konva.isUnminified)return function(f,_){const b=Int8Array?Object.getPrototypeOf(Int8Array):null;return b&&f instanceof b||(e.Util._isArray(f)?f.forEach(function(E){e.Util._isNumber(E)||e.Util.warn('"'+_+'" attribute has non numeric element '+E+". Make sure that all elements are numbers.")}):e.Util.warn(n(f)+' is a not valid value for "'+_+'" attribute. The value should be a array of numbers.')),f}}function p(){if(t.Konva.isUnminified)return function(f,_){var b=f===!0||f===!1;return b||e.Util.warn(n(f)+' is a not valid value for "'+_+'" attribute. The value should be a boolean.'),f}}function d(f){if(t.Konva.isUnminified)return function(_,b){return _==null||e.Util.isObject(_)||e.Util.warn(n(_)+' is a not valid value for "'+b+'" attribute. The value should be an object with properties '+f),_}}return te}var oa;function pt(){return oa||(oa=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=Ot(),n=mt(),i="get",r="set";t.Factory={addGetterSetter(s,o,a,l,h){t.Factory.addGetter(s,o,a),t.Factory.addSetter(s,o,l,h),t.Factory.addOverloadedGetterSetter(s,o)},addGetter(s,o,a){var l=i+e.Util._capitalize(o);s.prototype[l]=s.prototype[l]||function(){const h=this.attrs[o];return h===void 0?a:h}},addSetter(s,o,a,l){var h=r+e.Util._capitalize(o);s.prototype[h]||t.Factory.overWriteSetter(s,o,a,l)},overWriteSetter(s,o,a,l){var h=r+e.Util._capitalize(o);s.prototype[h]=function(c){return a&&c!==void 0&&c!==null&&(c=a.call(this,c,o)),this._setAttr(o,c),l&&l.call(this),this}},addComponentsGetterSetter(s,o,a,l,h){const c=a.length,u=e.Util._capitalize,p=i+u(o),d=r+u(o);s.prototype[p]=function(){const _={};for(let b=0;b<c;b++){const E=a[b];_[E]=this.getAttr(o+u(E))}return _};const f=(0,n.getComponentValidator)(a);s.prototype[d]=function(_){const b=this.attrs[o];l&&(_=l.call(this,_,o)),f&&f.call(this,_,o);for(const E in _)_.hasOwnProperty(E)&&this._setAttr(o+u(E),_[E]);return _||a.forEach(E=>{this._setAttr(o+u(E),void 0)}),this._fireChangeEvent(o,b,_),h&&h.call(this),this},t.Factory.addOverloadedGetterSetter(s,o)},addOverloadedGetterSetter(s,o){var a=e.Util._capitalize(o),l=r+a,h=i+a;s.prototype[o]=function(){return arguments.length?(this[l](arguments[0]),this):this[h]()}},addDeprecatedGetterSetter(s,o,a,l){e.Util.error("Adding deprecated "+o);const h=i+e.Util._capitalize(o),c=o+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[h]=function(){e.Util.error(c);const u=this.attrs[o];return u===void 0?a:u},t.Factory.addSetter(s,o,l,function(){e.Util.error(c)}),t.Factory.addOverloadedGetterSetter(s,o)},backCompat(s,o){e.Util.each(o,function(a,l){const h=s.prototype[l],c=i+e.Util._capitalize(a),u=r+e.Util._capitalize(a);function p(){h.apply(this,arguments),e.Util.error('"'+a+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}s.prototype[a]=p,s.prototype[c]=p,s.prototype[u]=p})},afterSetFilter(){this._filterUpToDate=!1}}}(os)),os}var ke={},Fe={},aa;function Xc(){if(aa)return Fe;aa=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.HitContext=Fe.SceneContext=Fe.Context=void 0;const t=Ot(),e=gt();function n(E){const m=[],g=E.length,y=t.Util;for(let C=0;C<g;C++){let T=E[C];y._isNumber(T)?T=Math.round(T*1e3)/1e3:y._isString(T)||(T=T+""),m.push(T)}return m}const i=",",r="(",s=")",o="([",a="])",l=";",h="()",c="=",u=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],p=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],d=100;let f=class{constructor(m){this.canvas=m,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(m){m.fillEnabled()&&this._fill(m)}_fill(m){}strokeShape(m){m.hasStroke()&&this._stroke(m)}_stroke(m){}fillStrokeShape(m){m.attrs.fillAfterStrokeEnabled?(this.strokeShape(m),this.fillShape(m)):(this.fillShape(m),this.strokeShape(m))}getTrace(m,g){let y=this.traceArr,C=y.length,T="",L,P,w,x;for(L=0;L<C;L++)P=y[L],w=P.method,w?(x=P.args,T+=w,m?T+=h:t.Util._isArray(x[0])?T+=o+x.join(i)+a:(g&&(x=x.map(k=>typeof k=="number"?Math.floor(k):k)),T+=r+x.join(i)+s)):(T+=P.property,m||(T+=c+P.val)),T+=l;return T}clearTrace(){this.traceArr=[]}_trace(m){let g=this.traceArr,y;g.push(m),y=g.length,y>=d&&g.shift()}reset(){const m=this.getCanvas().getPixelRatio();this.setTransform(1*m,0,0,1*m,0,0)}getCanvas(){return this.canvas}clear(m){const g=this.getCanvas();m?this.clearRect(m.x||0,m.y||0,m.width||0,m.height||0):this.clearRect(0,0,g.getWidth()/g.pixelRatio,g.getHeight()/g.pixelRatio)}_applyLineCap(m){const g=m.attrs.lineCap;g&&this.setAttr("lineCap",g)}_applyOpacity(m){const g=m.getAbsoluteOpacity();g!==1&&this.setAttr("globalAlpha",g)}_applyLineJoin(m){const g=m.attrs.lineJoin;g&&this.setAttr("lineJoin",g)}setAttr(m,g){this._context[m]=g}arc(m,g,y,C,T,L){this._context.arc(m,g,y,C,T,L)}arcTo(m,g,y,C,T){this._context.arcTo(m,g,y,C,T)}beginPath(){this._context.beginPath()}bezierCurveTo(m,g,y,C,T,L){this._context.bezierCurveTo(m,g,y,C,T,L)}clearRect(m,g,y,C){this._context.clearRect(m,g,y,C)}clip(...m){this._context.clip.apply(this._context,m)}closePath(){this._context.closePath()}createImageData(m,g){const y=arguments;if(y.length===2)return this._context.createImageData(m,g);if(y.length===1)return this._context.createImageData(m)}createLinearGradient(m,g,y,C){return this._context.createLinearGradient(m,g,y,C)}createPattern(m,g){return this._context.createPattern(m,g)}createRadialGradient(m,g,y,C,T,L){return this._context.createRadialGradient(m,g,y,C,T,L)}drawImage(m,g,y,C,T,L,P,w,x){const k=arguments,N=this._context;k.length===3?N.drawImage(m,g,y):k.length===5?N.drawImage(m,g,y,C,T):k.length===9&&N.drawImage(m,g,y,C,T,L,P,w,x)}ellipse(m,g,y,C,T,L,P,w){this._context.ellipse(m,g,y,C,T,L,P,w)}isPointInPath(m,g,y,C){return y?this._context.isPointInPath(y,m,g,C):this._context.isPointInPath(m,g,C)}fill(...m){this._context.fill.apply(this._context,m)}fillRect(m,g,y,C){this._context.fillRect(m,g,y,C)}strokeRect(m,g,y,C){this._context.strokeRect(m,g,y,C)}fillText(m,g,y,C){C?this._context.fillText(m,g,y,C):this._context.fillText(m,g,y)}measureText(m){return this._context.measureText(m)}getImageData(m,g,y,C){return this._context.getImageData(m,g,y,C)}lineTo(m,g){this._context.lineTo(m,g)}moveTo(m,g){this._context.moveTo(m,g)}rect(m,g,y,C){this._context.rect(m,g,y,C)}roundRect(m,g,y,C,T){this._context.roundRect(m,g,y,C,T)}putImageData(m,g,y){this._context.putImageData(m,g,y)}quadraticCurveTo(m,g,y,C){this._context.quadraticCurveTo(m,g,y,C)}restore(){this._context.restore()}rotate(m){this._context.rotate(m)}save(){this._context.save()}scale(m,g){this._context.scale(m,g)}setLineDash(m){this._context.setLineDash?this._context.setLineDash(m):"mozDash"in this._context?this._context.mozDash=m:"webkitLineDash"in this._context&&(this._context.webkitLineDash=m)}getLineDash(){return this._context.getLineDash()}setTransform(m,g,y,C,T,L){this._context.setTransform(m,g,y,C,T,L)}stroke(m){m?this._context.stroke(m):this._context.stroke()}strokeText(m,g,y,C){this._context.strokeText(m,g,y,C)}transform(m,g,y,C,T,L){this._context.transform(m,g,y,C,T,L)}translate(m,g){this._context.translate(m,g)}_enableTrace(){let m=this,g=u.length,y=this.setAttr,C,T;const L=function(P){let w=m[P],x;m[P]=function(){return T=n(Array.prototype.slice.call(arguments,0)),x=w.apply(m,arguments),m._trace({method:P,args:T}),x}};for(C=0;C<g;C++)L(u[C]);m.setAttr=function(){y.apply(m,arguments);const P=arguments[0];let w=arguments[1];(P==="shadowOffsetX"||P==="shadowOffsetY"||P==="shadowBlur")&&(w=w/this.canvas.getPixelRatio()),m._trace({property:P,val:w})}}_applyGlobalCompositeOperation(m){const g=m.attrs.globalCompositeOperation;!g||g==="source-over"||this.setAttr("globalCompositeOperation",g)}};Fe.Context=f,p.forEach(function(E){Object.defineProperty(f.prototype,E,{get(){return this._context[E]},set(m){this._context[E]=m}})});class _ extends f{constructor(m,{willReadFrequently:g=!1}={}){super(m),this._context=m._canvas.getContext("2d",{willReadFrequently:g})}_fillColor(m){const g=m.fill();this.setAttr("fillStyle",g),m._fillFunc(this)}_fillPattern(m){this.setAttr("fillStyle",m._getFillPattern()),m._fillFunc(this)}_fillLinearGradient(m){const g=m._getLinearGradient();g&&(this.setAttr("fillStyle",g),m._fillFunc(this))}_fillRadialGradient(m){const g=m._getRadialGradient();g&&(this.setAttr("fillStyle",g),m._fillFunc(this))}_fill(m){const g=m.fill(),y=m.getFillPriority();if(g&&y==="color"){this._fillColor(m);return}const C=m.getFillPatternImage();if(C&&y==="pattern"){this._fillPattern(m);return}const T=m.getFillLinearGradientColorStops();if(T&&y==="linear-gradient"){this._fillLinearGradient(m);return}const L=m.getFillRadialGradientColorStops();if(L&&y==="radial-gradient"){this._fillRadialGradient(m);return}g?this._fillColor(m):C?this._fillPattern(m):T?this._fillLinearGradient(m):L&&this._fillRadialGradient(m)}_strokeLinearGradient(m){const g=m.getStrokeLinearGradientStartPoint(),y=m.getStrokeLinearGradientEndPoint(),C=m.getStrokeLinearGradientColorStops(),T=this.createLinearGradient(g.x,g.y,y.x,y.y);if(C){for(let L=0;L<C.length;L+=2)T.addColorStop(C[L],C[L+1]);this.setAttr("strokeStyle",T)}}_stroke(m){const g=m.dash(),y=m.getStrokeScaleEnabled();if(m.hasStroke()){if(!y){this.save();const T=this.getCanvas().getPixelRatio();this.setTransform(T,0,0,T,0,0)}this._applyLineCap(m),g&&m.dashEnabled()&&(this.setLineDash(g),this.setAttr("lineDashOffset",m.dashOffset())),this.setAttr("lineWidth",m.strokeWidth()),m.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),m.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(m):this.setAttr("strokeStyle",m.stroke()),m._strokeFunc(this),y||this.restore()}}_applyShadow(m){var g,y,C;const T=(g=m.getShadowRGBA())!==null&&g!==void 0?g:"black",L=(y=m.getShadowBlur())!==null&&y!==void 0?y:5,P=(C=m.getShadowOffset())!==null&&C!==void 0?C:{x:0,y:0},w=m.getAbsoluteScale(),x=this.canvas.getPixelRatio(),k=w.x*x,N=w.y*x;this.setAttr("shadowColor",T),this.setAttr("shadowBlur",L*Math.min(Math.abs(k),Math.abs(N))),this.setAttr("shadowOffsetX",P.x*k),this.setAttr("shadowOffsetY",P.y*N)}}Fe.SceneContext=_;class b extends f{constructor(m){super(m),this._context=m._canvas.getContext("2d",{willReadFrequently:!0})}_fill(m){this.save(),this.setAttr("fillStyle",m.colorKey),m._fillFuncHit(this),this.restore()}strokeShape(m){m.hasHitStroke()&&this._stroke(m)}_stroke(m){if(m.hasHitStroke()){const g=m.getStrokeScaleEnabled();if(!g){this.save();const T=this.getCanvas().getPixelRatio();this.setTransform(T,0,0,T,0,0)}this._applyLineCap(m);const y=m.hitStrokeWidth(),C=y==="auto"?m.strokeWidth():y;this.setAttr("lineWidth",C),this.setAttr("strokeStyle",m.colorKey),m._strokeFuncHit(this),g||this.restore()}}}return Fe.HitContext=b,Fe}var la;function Vr(){if(la)return ke;la=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.HitCanvas=ke.SceneCanvas=ke.Canvas=void 0;const t=Ot(),e=Xc(),n=gt();let i;function r(){if(i)return i;const l=t.Util.createCanvasElement(),h=l.getContext("2d");return i=function(){const c=n.Konva._global.devicePixelRatio||1,u=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return c/u}(),t.Util.releaseCanvas(l),i}let s=class{constructor(h){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const u=(h||{}).pixelRatio||n.Konva.pixelRatio||r();this.pixelRatio=u,this._canvas=t.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(h){const c=this.pixelRatio;this.pixelRatio=h,this.setSize(this.getWidth()/c,this.getHeight()/c)}setWidth(h){this.width=this._canvas.width=h*this.pixelRatio,this._canvas.style.width=h+"px";const c=this.pixelRatio;this.getContext()._context.scale(c,c)}setHeight(h){this.height=this._canvas.height=h*this.pixelRatio,this._canvas.style.height=h+"px";const c=this.pixelRatio;this.getContext()._context.scale(c,c)}getWidth(){return this.width}getHeight(){return this.height}setSize(h,c){this.setWidth(h||0),this.setHeight(c||0)}toDataURL(h,c){try{return this._canvas.toDataURL(h,c)}catch{try{return this._canvas.toDataURL()}catch(p){return t.Util.error("Unable to get data URL. "+p.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};ke.Canvas=s;class o extends s{constructor(h={width:0,height:0,willReadFrequently:!1}){super(h),this.context=new e.SceneContext(this,{willReadFrequently:h.willReadFrequently}),this.setSize(h.width,h.height)}}ke.SceneCanvas=o;class a extends s{constructor(h={width:0,height:0}){super(h),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(h.width,h.height)}}return ke.HitCanvas=a,ke}var as={},ca;function so(){return ca||(ca=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=gt(),n=Ot();t.DD={get isDragging(){let i=!1;return t.DD._dragElements.forEach(r=>{r.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){let i;return t.DD._dragElements.forEach(r=>{i=r.node}),i},_dragElements:new Map,_drag(i){const r=[];t.DD._dragElements.forEach((s,o)=>{const{node:a}=s,l=a.getStage();l.setPointersPositions(i),s.pointerId===void 0&&(s.pointerId=n.Util._getFirstPointerId(i));const h=l._changedPointerPositions.find(c=>c.id===s.pointerId);if(h){if(s.dragStatus!=="dragging"){const c=a.dragDistance();if(Math.max(Math.abs(h.x-s.startPointerPos.x),Math.abs(h.y-s.startPointerPos.y))<c||(a.startDrag({evt:i}),!a.isDragging()))return}a._setDragPosition(i,s),r.push(a)}}),r.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:i},!0)})},_endDragBefore(i){const r=[];t.DD._dragElements.forEach(s=>{const{node:o}=s,a=o.getStage();if(i&&a.setPointersPositions(i),!a._changedPointerPositions.find(c=>c.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,s.dragStatus="stopped");const h=s.node.getLayer()||s.node instanceof e.Konva.Stage&&s.node;h&&r.indexOf(h)===-1&&r.push(h)}),r.forEach(s=>{s.draw()})},_endDragAfter(i){t.DD._dragElements.forEach((r,s)=>{r.dragStatus==="stopped"&&r.node.fire("dragend",{type:"dragend",target:r.node,evt:i},!0),r.dragStatus!=="dragging"&&t.DD._dragElements.delete(s)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))}(as)),as}var ha;function Mt(){if(ha)return Fn;ha=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.Node=void 0;const t=Ot(),e=pt(),n=Vr(),i=gt(),r=so(),s=mt(),o="absoluteOpacity",a="allEventListeners",l="absoluteTransform",h="absoluteScale",c="canvas",u="Change",p="children",d="konva",f="listening",_="mouseenter",b="mouseleave",E="set",m="Shape",g=" ",y="stage",C="transform",T="Stage",L="visible",P=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(g);let w=1,x=class Fs{constructor(v){this._id=w++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(v),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(v){(v===C||v===l)&&this._cache.get(v)?this._cache.get(v).dirty=!0:v?this._cache.delete(v):this._cache.clear()}_getCache(v,R){let S=this._cache.get(v);return(S===void 0||(v===C||v===l)&&S.dirty===!0)&&(S=R.call(this),this._cache.set(v,S)),S}_calculate(v,R,S){if(!this._attachedDepsListeners.get(v)){const A=R.map(F=>F+"Change.konva").join(g);this.on(A,()=>{this._clearCache(v)}),this._attachedDepsListeners.set(v,!0)}return this._getCache(v,S)}_getCanvasCache(){return this._cache.get(c)}_clearSelfAndDescendantCache(v){this._clearCache(v),v===l&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(c)){const{scene:v,filter:R,hit:S}=this._cache.get(c);t.Util.releaseCanvas(v,R,S),this._cache.delete(c)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(v){const R=v||{};let S={};(R.x===void 0||R.y===void 0||R.width===void 0||R.height===void 0)&&(S=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let A=Math.ceil(R.width||S.width),F=Math.ceil(R.height||S.height),D=R.pixelRatio,j=R.x===void 0?Math.floor(S.x):R.x,H=R.y===void 0?Math.floor(S.y):R.y,U=R.offset||0,Y=R.drawBorder||!1,z=R.hitCanvasPixelRatio||1;if(!A||!F){t.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const X=Math.abs(Math.round(S.x)-j)>.5?1:0,nt=Math.abs(Math.round(S.y)-H)>.5?1:0;A+=U*2+X,F+=U*2+nt,j-=U,H-=U;const st=new n.SceneCanvas({pixelRatio:D,width:A,height:F}),O=new n.SceneCanvas({pixelRatio:D,width:0,height:0,willReadFrequently:!0}),G=new n.HitCanvas({pixelRatio:z,width:A,height:F}),V=st.getContext(),W=G.getContext();return G.isCache=!0,st.isCache=!0,this._cache.delete(c),this._filterUpToDate=!1,R.imageSmoothingEnabled===!1&&(st.getContext()._context.imageSmoothingEnabled=!1,O.getContext()._context.imageSmoothingEnabled=!1),V.save(),W.save(),V.translate(-j,-H),W.translate(-j,-H),this._isUnderCache=!0,this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(h),this.drawScene(st,this),this.drawHit(G,this),this._isUnderCache=!1,V.restore(),W.restore(),Y&&(V.save(),V.beginPath(),V.rect(0,0,A,F),V.closePath(),V.setAttr("strokeStyle","red"),V.setAttr("lineWidth",5),V.stroke(),V.restore()),this._cache.set(c,{scene:st,filter:O,hit:G,x:j,y:H}),this._requestDraw(),this}isCached(){return this._cache.has(c)}getClientRect(v){throw new Error('abstract "getClientRect" method call')}_transformedRect(v,R){const S=[{x:v.x,y:v.y},{x:v.x+v.width,y:v.y},{x:v.x+v.width,y:v.y+v.height},{x:v.x,y:v.y+v.height}];let A=1/0,F=1/0,D=-1/0,j=-1/0;const H=this.getAbsoluteTransform(R);return S.forEach(function(U){const Y=H.point(U);A===void 0&&(A=D=Y.x,F=j=Y.y),A=Math.min(A,Y.x),F=Math.min(F,Y.y),D=Math.max(D,Y.x),j=Math.max(j,Y.y)}),{x:A,y:F,width:D-A,height:j-F}}_drawCachedSceneCanvas(v){v.save(),v._applyOpacity(this),v._applyGlobalCompositeOperation(this);const R=this._getCanvasCache();v.translate(R.x,R.y);const S=this._getCachedSceneCanvas(),A=S.pixelRatio;v.drawImage(S._canvas,0,0,S.width/A,S.height/A),v.restore()}_drawCachedHitCanvas(v){const R=this._getCanvasCache(),S=R.hit;v.save(),v.translate(R.x,R.y),v.drawImage(S._canvas,0,0,S.width/S.pixelRatio,S.height/S.pixelRatio),v.restore()}_getCachedSceneCanvas(){let v=this.filters(),R=this._getCanvasCache(),S=R.scene,A=R.filter,F=A.getContext(),D,j,H,U;if(v){if(!this._filterUpToDate){const Y=S.pixelRatio;A.setSize(S.width/S.pixelRatio,S.height/S.pixelRatio);try{for(D=v.length,F.clear(),F.drawImage(S._canvas,0,0,S.getWidth()/Y,S.getHeight()/Y),j=F.getImageData(0,0,A.getWidth(),A.getHeight()),H=0;H<D;H++){if(U=v[H],typeof U!="function"){t.Util.error("Filter should be type of function, but got "+typeof U+" instead. Please check correct filters");continue}U.call(this,j),F.putImageData(j,0,0)}}catch(z){t.Util.error("Unable to apply filter. "+z.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return A}return S}on(v,R){if(this._cache&&this._cache.delete(a),arguments.length===3)return this._delegate.apply(this,arguments);let S=v.split(g),A=S.length,F,D,j,H,U;for(F=0;F<A;F++)D=S[F],j=D.split("."),H=j[0],U=j[1]||"",this.eventListeners[H]||(this.eventListeners[H]=[]),this.eventListeners[H].push({name:U,handler:R});return this}off(v,R){let S=(v||"").split(g),A=S.length,F,D,j,H,U,Y;if(this._cache&&this._cache.delete(a),!v)for(D in this.eventListeners)this._off(D);for(F=0;F<A;F++)if(j=S[F],H=j.split("."),U=H[0],Y=H[1],U)this.eventListeners[U]&&this._off(U,Y,R);else for(D in this.eventListeners)this._off(D,Y,R);return this}dispatchEvent(v){const R={target:this,type:v.type,evt:v};return this.fire(v.type,R),this}addEventListener(v,R){return this.on(v,function(S){R.call(this,S.evt)}),this}removeEventListener(v){return this.off(v),this}_delegate(v,R,S){const A=this;this.on(v,function(F){const D=F.target.findAncestors(R,!0,A);for(let j=0;j<D.length;j++)F=t.Util.cloneObject(F),F.currentTarget=D[j],S.call(D[j],F)})}remove(){return this.isDragging()&&this.stopDrag(),r.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(y),this._clearSelfAndDescendantCache(L),this._clearSelfAndDescendantCache(f)}_remove(){this._clearCaches();const v=this.getParent();v&&v.children&&(v.children.splice(this.index,1),v._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(v){const R="get"+t.Util._capitalize(v);return t.Util._isFunction(this[R])?this[R]():this.attrs[v]}getAncestors(){let v=this.getParent(),R=[];for(;v;)R.push(v),v=v.getParent();return R}getAttrs(){return this.attrs||{}}setAttrs(v){return this._batchTransformChanges(()=>{let R,S;if(!v)return this;for(R in v)R!==p&&(S=E+t.Util._capitalize(R),t.Util._isFunction(this[S])?this[S](v[R]):this._setAttr(R,v[R]))}),this}isListening(){return this._getCache(f,this._isListening)}_isListening(v){if(!this.listening())return!1;const S=this.getParent();return S&&S!==v&&this!==v?S._isListening(v):!0}isVisible(){return this._getCache(L,this._isVisible)}_isVisible(v){if(!this.visible())return!1;const S=this.getParent();return S&&S!==v&&this!==v?S._isVisible(v):!0}shouldDrawHit(v,R=!1){if(v)return this._isVisible(v)&&this._isListening(v);const S=this.getLayer();let A=!1;r.DD._dragElements.forEach(D=>{D.dragStatus==="dragging"&&(D.node.nodeType==="Stage"||D.node.getLayer()===S)&&(A=!0)});const F=!R&&!i.Konva.hitOnDragEnabled&&(A||i.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!F}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let v=this.getDepth(),R=this,S=0,A,F,D,j;function H(Y){for(A=[],F=Y.length,D=0;D<F;D++)j=Y[D],S++,j.nodeType!==m&&(A=A.concat(j.getChildren().slice())),j._id===R._id&&(D=F);A.length>0&&A[0].getDepth()<=v&&H(A)}const U=this.getStage();return R.nodeType!==T&&U&&H(U.getChildren()),S}getDepth(){let v=0,R=this.parent;for(;R;)v++,R=R.parent;return v}_batchTransformChanges(v){this._batchingTransformChange=!0,v(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(C),this._clearSelfAndDescendantCache(l)),this._needClearTransformCache=!1}setPosition(v){return this._batchTransformChanges(()=>{this.x(v.x),this.y(v.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const v=this.getStage();if(!v)return null;const R=v.getPointerPosition();if(!R)return null;const S=this.getAbsoluteTransform().copy();return S.invert(),S.point(R)}getAbsolutePosition(v){let R=!1,S=this.parent;for(;S;){if(S.isCached()){R=!0;break}S=S.parent}R&&!v&&(v=!0);const A=this.getAbsoluteTransform(v).getMatrix(),F=new t.Transform,D=this.offset();return F.m=A.slice(),F.translate(D.x,D.y),F.getTranslation()}setAbsolutePosition(v){const{x:R,y:S,...A}=this._clearTransform();this.attrs.x=R,this.attrs.y=S,this._clearCache(C);const F=this._getAbsoluteTransform().copy();return F.invert(),F.translate(v.x,v.y),v={x:this.attrs.x+F.getTranslation().x,y:this.attrs.y+F.getTranslation().y},this._setTransform(A),this.setPosition({x:v.x,y:v.y}),this._clearCache(C),this._clearSelfAndDescendantCache(l),this}_setTransform(v){let R;for(R in v)this.attrs[R]=v[R]}_clearTransform(){const v={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,v}move(v){let R=v.x,S=v.y,A=this.x(),F=this.y();return R!==void 0&&(A+=R),S!==void 0&&(F+=S),this.setPosition({x:A,y:F}),this}_eachAncestorReverse(v,R){let S=[],A=this.getParent(),F,D;if(!(R&&R._id===this._id)){for(S.unshift(this);A&&(!R||A._id!==R._id);)S.unshift(A),A=A.parent;for(F=S.length,D=0;D<F;D++)v(S[D])}}rotate(v){return this.rotation(this.rotation()+v),this}moveToTop(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const v=this.index,R=this.parent.getChildren().length;return v<R-1?(this.parent.children.splice(v,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;const v=this.index,R=this.parent.getChildren().length;return v<R-1?(this.parent.children.splice(v,1),this.parent.children.splice(v+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;const v=this.index;return v>0?(this.parent.children.splice(v,1),this.parent.children.splice(v-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const v=this.index;return v>0?(this.parent.children.splice(v,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(v){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(v<0||v>=this.parent.children.length)&&t.Util.warn("Unexpected value "+v+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const R=this.index;return this.parent.children.splice(R,1),this.parent.children.splice(v,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(o,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let v=this.opacity();const R=this.getParent();return R&&!R._isUnderCache&&(v*=R.getAbsoluteOpacity()),v}moveTo(v){return this.getParent()!==v&&(this._remove(),v.add(this)),this}toObject(){let v=this.getAttrs(),R,S,A,F,D;const j={attrs:{},className:this.getClassName()};for(R in v)S=v[R],D=t.Util.isObject(S)&&!t.Util._isPlainObject(S)&&!t.Util._isArray(S),!D&&(A=typeof this[R]=="function"&&this[R],delete v[R],F=A?A.call(this):null,v[R]=S,F!==S&&(j.attrs[R]=S));return t.Util._prepareToStringify(j)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(v,R,S){const A=[];R&&this._isMatch(v)&&A.push(this);let F=this.parent;for(;F;){if(F===S)return A;F._isMatch(v)&&A.push(F),F=F.parent}return A}isAncestorOf(v){return!1}findAncestor(v,R,S){return this.findAncestors(v,R,S)[0]}_isMatch(v){if(!v)return!1;if(typeof v=="function")return v(this);let R=v.replace(/ /g,"").split(","),S=R.length,A,F;for(A=0;A<S;A++)if(F=R[A],t.Util.isValidSelector(F)||(t.Util.warn('Selector "'+F+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),F.charAt(0)==="#"){if(this.id()===F.slice(1))return!0}else if(F.charAt(0)==="."){if(this.hasName(F.slice(1)))return!0}else if(this.className===F||this.nodeType===F)return!0;return!1}getLayer(){const v=this.getParent();return v?v.getLayer():null}getStage(){return this._getCache(y,this._getStage)}_getStage(){const v=this.getParent();return v?v.getStage():null}fire(v,R={},S){return R.target=R.target||this,S?this._fireAndBubble(v,R):this._fire(v,R),this}getAbsoluteTransform(v){return v?this._getAbsoluteTransform(v):this._getCache(l,this._getAbsoluteTransform)}_getAbsoluteTransform(v){let R;if(v)return R=new t.Transform,this._eachAncestorReverse(function(S){const A=S.transformsEnabled();A==="all"?R.multiply(S.getTransform()):A==="position"&&R.translate(S.x()-S.offsetX(),S.y()-S.offsetY())},v),R;{R=this._cache.get(l)||new t.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(R):R.reset();const S=this.transformsEnabled();if(S==="all")R.multiply(this.getTransform());else if(S==="position"){const A=this.attrs.x||0,F=this.attrs.y||0,D=this.attrs.offsetX||0,j=this.attrs.offsetY||0;R.translate(A-D,F-j)}return R.dirty=!1,R}}getAbsoluteScale(v){let R=this;for(;R;)R._isUnderCache&&(v=R),R=R.getParent();const A=this.getAbsoluteTransform(v).decompose();return{x:A.scaleX,y:A.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(C,this._getTransform)}_getTransform(){var v,R;const S=this._cache.get(C)||new t.Transform;S.reset();const A=this.x(),F=this.y(),D=i.Konva.getAngle(this.rotation()),j=(v=this.attrs.scaleX)!==null&&v!==void 0?v:1,H=(R=this.attrs.scaleY)!==null&&R!==void 0?R:1,U=this.attrs.skewX||0,Y=this.attrs.skewY||0,z=this.attrs.offsetX||0,X=this.attrs.offsetY||0;return(A!==0||F!==0)&&S.translate(A,F),D!==0&&S.rotate(D),(U!==0||Y!==0)&&S.skew(U,Y),(j!==1||H!==1)&&S.scale(j,H),(z!==0||X!==0)&&S.translate(-1*z,-1*X),S.dirty=!1,S}clone(v){let R=t.Util.cloneObject(this.attrs),S,A,F,D,j;for(S in v)R[S]=v[S];const H=new this.constructor(R);for(S in this.eventListeners)for(A=this.eventListeners[S],F=A.length,D=0;D<F;D++)j=A[D],j.name.indexOf(d)<0&&(H.eventListeners[S]||(H.eventListeners[S]=[]),H.eventListeners[S].push(j));return H}_toKonvaCanvas(v){v=v||{};const R=this.getClientRect(),S=this.getStage(),A=v.x!==void 0?v.x:Math.floor(R.x),F=v.y!==void 0?v.y:Math.floor(R.y),D=v.pixelRatio||1,j=new n.SceneCanvas({width:v.width||Math.ceil(R.width)||(S?S.width():0),height:v.height||Math.ceil(R.height)||(S?S.height():0),pixelRatio:D}),H=j.getContext(),U=new n.SceneCanvas({width:j.width/j.pixelRatio+Math.abs(A),height:j.height/j.pixelRatio+Math.abs(F),pixelRatio:j.pixelRatio});return v.imageSmoothingEnabled===!1&&(H._context.imageSmoothingEnabled=!1),H.save(),(A||F)&&H.translate(-1*A,-1*F),this.drawScene(j,void 0,U),H.restore(),j}toCanvas(v){return this._toKonvaCanvas(v)._canvas}toDataURL(v){v=v||{};const R=v.mimeType||null,S=v.quality||null,A=this._toKonvaCanvas(v).toDataURL(R,S);return v.callback&&v.callback(A),A}toImage(v){return new Promise((R,S)=>{try{const A=v==null?void 0:v.callback;A&&delete v.callback,t.Util._urlToImage(this.toDataURL(v),function(F){R(F),A==null||A(F)})}catch(A){S(A)}})}toBlob(v){return new Promise((R,S)=>{try{const A=v==null?void 0:v.callback;A&&delete v.callback,this.toCanvas(v).toBlob(F=>{R(F),A==null||A(F)},v==null?void 0:v.mimeType,v==null?void 0:v.quality)}catch(A){S(A)}})}setSize(v){return this.width(v.width),this.height(v.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance}_off(v,R,S){let A=this.eventListeners[v],F,D,j;for(F=0;F<A.length;F++)if(D=A[F].name,j=A[F].handler,(D!=="konva"||R==="konva")&&(!R||D===R)&&(!S||S===j)){if(A.splice(F,1),A.length===0){delete this.eventListeners[v];break}F--}}_fireChangeEvent(v,R,S){this._fire(v+u,{oldVal:R,newVal:S})}addName(v){if(!this.hasName(v)){const R=this.name(),S=R?R+" "+v:v;this.name(S)}return this}hasName(v){if(!v)return!1;const R=this.name();return R?(R||"").split(/\s/g).indexOf(v)!==-1:!1}removeName(v){const R=(this.name()||"").split(/\s/g),S=R.indexOf(v);return S!==-1&&(R.splice(S,1),this.name(R.join(" "))),this}setAttr(v,R){const S=this[E+t.Util._capitalize(v)];return t.Util._isFunction(S)?S.call(this,R):this._setAttr(v,R),this}_requestDraw(){if(i.Konva.autoDrawEnabled){const v=this.getLayer()||this.getStage();v==null||v.batchDraw()}}_setAttr(v,R){const S=this.attrs[v];S===R&&!t.Util.isObject(R)||(R==null?delete this.attrs[v]:this.attrs[v]=R,this._shouldFireChangeEvents&&this._fireChangeEvent(v,S,R),this._requestDraw())}_setComponentAttr(v,R,S){let A;S!==void 0&&(A=this.attrs[v],A||(this.attrs[v]=this.getAttr(v)),this.attrs[v][R]=S,this._fireChangeEvent(v,A,S))}_fireAndBubble(v,R,S){if(R&&this.nodeType===m&&(R.target=this),!((v===_||v===b)&&(S&&(this===S||this.isAncestorOf&&this.isAncestorOf(S))||this.nodeType==="Stage"&&!S))){this._fire(v,R);const F=(v===_||v===b)&&S&&S.isAncestorOf&&S.isAncestorOf(this)&&!S.isAncestorOf(this.parent);(R&&!R.cancelBubble||!R)&&this.parent&&this.parent.isListening()&&!F&&(S&&S.parent?this._fireAndBubble.call(this.parent,v,R,S):this._fireAndBubble.call(this.parent,v,R))}}_getProtoListeners(v){var R,S,A;const F=(R=this._cache.get(a))!==null&&R!==void 0?R:{};let D=F==null?void 0:F[v];if(D===void 0){D=[];let j=Object.getPrototypeOf(this);for(;j;){const H=(A=(S=j.eventListeners)===null||S===void 0?void 0:S[v])!==null&&A!==void 0?A:[];D.push(...H),j=Object.getPrototypeOf(j)}F[v]=D,this._cache.set(a,F)}return D}_fire(v,R){R=R||{},R.currentTarget=this,R.type=v;const S=this._getProtoListeners(v);if(S)for(var A=0;A<S.length;A++)S[A].handler.call(this,R);const F=this.eventListeners[v];if(F)for(var A=0;A<F.length;A++)F[A].handler.call(this,R)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(v){const R=v?v.pointerId:void 0,S=this.getStage(),A=this.getAbsolutePosition();if(!S)return;const F=S._getPointerById(R)||S._changedPointerPositions[0]||A;r.DD._dragElements.set(this._id,{node:this,startPointerPos:F,offset:{x:F.x-A.x,y:F.y-A.y},dragStatus:"ready",pointerId:R})}startDrag(v,R=!0){r.DD._dragElements.has(this._id)||this._createDragElement(v);const S=r.DD._dragElements.get(this._id);S.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:v&&v.evt},R)}_setDragPosition(v,R){const S=this.getStage()._getPointerById(R.pointerId);if(!S)return;let A={x:S.x-R.offset.x,y:S.y-R.offset.y};const F=this.dragBoundFunc();if(F!==void 0){const D=F.call(this,A,v);D?A=D:t.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==A.x||this._lastPos.y!==A.y)&&(this.setAbsolutePosition(A),this._requestDraw()),this._lastPos=A}stopDrag(v){const R=r.DD._dragElements.get(this._id);R&&(R.dragStatus="stopped"),r.DD._endDragBefore(v),r.DD._endDragAfter(v)}setDraggable(v){this._setAttr("draggable",v),this._dragChange()}isDragging(){const v=r.DD._dragElements.get(this._id);return v?v.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(v){if(!(!(v.evt.button!==void 0)||i.Konva.dragButtons.indexOf(v.evt.button)>=0)||this.isDragging())return;let A=!1;r.DD._dragElements.forEach(F=>{this.isAncestorOf(F.node)&&(A=!0)}),A||this._createDragElement(v)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const R=r.DD._dragElements.get(this._id),S=R&&R.dragStatus==="dragging",A=R&&R.dragStatus==="ready";S?this.stopDrag():A&&r.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(v={x:0,y:0}){const R=this.getStage();if(!R)return!1;const S={x:-v.x,y:-v.y,width:R.width()+2*v.x,height:R.height()+2*v.y};return t.Util.haveIntersection(S,this.getClientRect())}static create(v,R){return t.Util._isString(v)&&(v=JSON.parse(v)),this._createNode(v,R)}static _createNode(v,R){let S=Fs.prototype.getClassName.call(v),A=v.children,F,D,j;R&&(v.attrs.container=R),i.Konva[S]||(t.Util.warn('Can not find a node with class name "'+S+'". Fallback to "Shape".'),S="Shape");const H=i.Konva[S];if(F=new H(v.attrs),A)for(D=A.length,j=0;j<D;j++)F.add(Fs._createNode(A[j]));return F}};Fn.Node=x,x.prototype.nodeType="Node",x.prototype._attrsAffectingSize=[],x.prototype.eventListeners={},x.prototype.on.call(x.prototype,P,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(C),this._clearSelfAndDescendantCache(l)}),x.prototype.on.call(x.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(L)}),x.prototype.on.call(x.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(f)}),x.prototype.on.call(x.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(o)});const k=e.Factory.addGetterSetter;return k(x,"zIndex"),k(x,"absolutePosition"),k(x,"position"),k(x,"x",0,(0,s.getNumberValidator)()),k(x,"y",0,(0,s.getNumberValidator)()),k(x,"globalCompositeOperation","source-over",(0,s.getStringValidator)()),k(x,"opacity",1,(0,s.getNumberValidator)()),k(x,"name","",(0,s.getStringValidator)()),k(x,"id","",(0,s.getStringValidator)()),k(x,"rotation",0,(0,s.getNumberValidator)()),e.Factory.addComponentsGetterSetter(x,"scale",["x","y"]),k(x,"scaleX",1,(0,s.getNumberValidator)()),k(x,"scaleY",1,(0,s.getNumberValidator)()),e.Factory.addComponentsGetterSetter(x,"skew",["x","y"]),k(x,"skewX",0,(0,s.getNumberValidator)()),k(x,"skewY",0,(0,s.getNumberValidator)()),e.Factory.addComponentsGetterSetter(x,"offset",["x","y"]),k(x,"offsetX",0,(0,s.getNumberValidator)()),k(x,"offsetY",0,(0,s.getNumberValidator)()),k(x,"dragDistance",void 0,(0,s.getNumberValidator)()),k(x,"width",0,(0,s.getNumberValidator)()),k(x,"height",0,(0,s.getNumberValidator)()),k(x,"listening",!0,(0,s.getBooleanValidator)()),k(x,"preventDefault",!0,(0,s.getBooleanValidator)()),k(x,"filters",void 0,function(N){return this._filterUpToDate=!1,N}),k(x,"visible",!0,(0,s.getBooleanValidator)()),k(x,"transformsEnabled","all",(0,s.getStringValidator)()),k(x,"size"),k(x,"dragBoundFunc"),k(x,"draggable",!1,(0,s.getBooleanValidator)()),e.Factory.backCompat(x,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Fn}var Mn={},ua;function Hr(){if(ua)return Mn;ua=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.Container=void 0;const t=pt(),e=Mt(),n=mt();let i=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(s){if(!s)return this.children||[];const o=this.children||[],a=[];return o.forEach(function(l){s(l)&&a.push(l)}),a}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.destroy()}),this.children=[],this._requestDraw(),this}add(...s){if(s.length===0)return this;if(s.length>1){for(let a=0;a<s.length;a++)this.add(s[a]);return this}const o=s[0];return o.getParent()?(o.moveTo(this),this):(this._validateAdd(o),o.index=this.getChildren().length,o.parent=this,o._clearCaches(),this.getChildren().push(o),this._fire("add",{child:o}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(s){return this._generalFind(s,!1)}findOne(s){const o=this._generalFind(s,!0);return o.length>0?o[0]:void 0}_generalFind(s,o){const a=[];return this._descendants(l=>{const h=l._isMatch(s);return h&&a.push(l),!!(h&&o)}),a}_descendants(s){let o=!1;const a=this.getChildren();for(const l of a){if(o=s(l),o)return!0;if(l.hasChildren()&&(o=l._descendants(s),o))return!0}return!1}toObject(){const s=e.Node.prototype.toObject.call(this);return s.children=[],this.getChildren().forEach(o=>{s.children.push(o.toObject())}),s}isAncestorOf(s){let o=s.getParent();for(;o;){if(o._id===this._id)return!0;o=o.getParent()}return!1}clone(s){const o=e.Node.prototype.clone.call(this,s);return this.getChildren().forEach(function(a){o.add(a.clone())}),o}getAllIntersections(s){const o=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(s)&&o.push(a)}),o}_clearSelfAndDescendantCache(s){var o;super._clearSelfAndDescendantCache(s),!this.isCached()&&((o=this.children)===null||o===void 0||o.forEach(function(a){a._clearSelfAndDescendantCache(s)}))}_setChildrenIndices(){var s;(s=this.children)===null||s===void 0||s.forEach(function(o,a){o.index=a}),this._requestDraw()}drawScene(s,o,a){const l=this.getLayer(),h=s||l&&l.getCanvas(),c=h&&h.getContext(),u=this._getCanvasCache(),p=u&&u.scene,d=h&&h.isCache;if(!this.isVisible()&&!d)return this;if(p){c.save();const f=this.getAbsoluteTransform(o).getMatrix();c.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(c),c.restore()}else this._drawChildren("drawScene",h,o,a);return this}drawHit(s,o){if(!this.shouldDrawHit(o))return this;const a=this.getLayer(),l=s||a&&a.hitCanvas,h=l&&l.getContext(),c=this._getCanvasCache();if(c&&c.hit){h.save();const p=this.getAbsoluteTransform(o).getMatrix();h.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedHitCanvas(h),h.restore()}else this._drawChildren("drawHit",l,o);return this}_drawChildren(s,o,a,l){var h;const c=o&&o.getContext(),u=this.clipWidth(),p=this.clipHeight(),d=this.clipFunc(),f=typeof u=="number"&&typeof p=="number"||d,_=a===this;if(f){c.save();const E=this.getAbsoluteTransform(a);let m=E.getMatrix();c.transform(m[0],m[1],m[2],m[3],m[4],m[5]),c.beginPath();let g;if(d)g=d.call(this,c,this);else{const y=this.clipX(),C=this.clipY();c.rect(y||0,C||0,u,p)}c.clip.apply(c,g),m=E.copy().invert().getMatrix(),c.transform(m[0],m[1],m[2],m[3],m[4],m[5])}const b=!_&&this.globalCompositeOperation()!=="source-over"&&s==="drawScene";b&&(c.save(),c._applyGlobalCompositeOperation(this)),(h=this.children)===null||h===void 0||h.forEach(function(E){E[s](o,a,l)}),b&&c.restore(),f&&c.restore()}getClientRect(s={}){var o;const a=s.skipTransform,l=s.relativeTo;let h,c,u,p,d={x:1/0,y:1/0,width:0,height:0};const f=this;(o=this.children)===null||o===void 0||o.forEach(function(E){if(!E.visible())return;const m=E.getClientRect({relativeTo:f,skipShadow:s.skipShadow,skipStroke:s.skipStroke});m.width===0&&m.height===0||(h===void 0?(h=m.x,c=m.y,u=m.x+m.width,p=m.y+m.height):(h=Math.min(h,m.x),c=Math.min(c,m.y),u=Math.max(u,m.x+m.width),p=Math.max(p,m.y+m.height)))});const _=this.find("Shape");let b=!1;for(let E=0;E<_.length;E++)if(_[E]._isVisible(this)){b=!0;break}return b&&h!==void 0?d={x:h,y:c,width:u-h,height:p-c}:d={x:0,y:0,width:0,height:0},a?d:this._transformedRect(d,l)}};return Mn.Container=i,t.Factory.addComponentsGetterSetter(i,"clip",["x","y","width","height"]),t.Factory.addGetterSetter(i,"clipX",void 0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipY",void 0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipWidth",void 0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipHeight",void 0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipFunc"),Mn}var ls={},Ve={},da;function Zc(){if(da)return Ve;da=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.getCapturedShape=i,Ve.createEvent=r,Ve.hasPointerCapture=s,Ve.setPointerCapture=o,Ve.releaseCapture=a;const t=gt(),e=new Map,n=t.Konva._global.PointerEvent!==void 0;function i(l){return e.get(l)}function r(l){return{evt:l,pointerId:l.pointerId}}function s(l,h){return e.get(l)===h}function o(l,h){a(l),h.getStage()&&(e.set(l,h),n&&h._fire("gotpointercapture",r(new PointerEvent("gotpointercapture"))))}function a(l,h){const c=e.get(l);if(!c)return;const u=c.getStage();u&&u.content,e.delete(l),n&&c._fire("lostpointercapture",r(new PointerEvent("lostpointercapture")))}return Ve}var fa;function _f(){return fa||(fa=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=Ot(),n=pt(),i=Hr(),r=gt(),s=Vr(),o=so(),a=gt(),l=Zc(),h="Stage",c="string",u="px",p="mouseout",d="mouseleave",f="mouseover",_="mouseenter",b="mousemove",E="mousedown",m="mouseup",g="pointermove",y="pointerdown",C="pointerup",T="pointercancel",L="lostpointercapture",P="pointerout",w="pointerleave",x="pointerover",k="pointerenter",N="contextmenu",v="touchstart",R="touchend",S="touchmove",A="touchcancel",F="wheel",D=5,j=[[_,"_pointerenter"],[E,"_pointerdown"],[b,"_pointermove"],[m,"_pointerup"],[d,"_pointerleave"],[v,"_pointerdown"],[S,"_pointermove"],[R,"_pointerup"],[A,"_pointercancel"],[f,"_pointerover"],[F,"_wheel"],[N,"_contextmenu"],[y,"_pointerdown"],[g,"_pointermove"],[C,"_pointerup"],[T,"_pointercancel"],[L,"_lostpointercapture"]],H={mouse:{[P]:p,[w]:d,[x]:f,[k]:_,[g]:b,[y]:E,[C]:m,[T]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[P]:"touchout",[w]:"touchleave",[x]:"touchover",[k]:"touchenter",[g]:S,[y]:v,[C]:R,[T]:A,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[P]:P,[w]:w,[x]:x,[k]:k,[g]:g,[y]:y,[C]:C,[T]:T,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},U=st=>st.indexOf("pointer")>=0?"pointer":st.indexOf("touch")>=0?"touch":"mouse",Y=st=>{const O=U(st);if(O==="pointer")return r.Konva.pointerEventsEnabled&&H.pointer;if(O==="touch")return H.touch;if(O==="mouse")return H.mouse};function z(st={}){return(st.clipFunc||st.clipWidth||st.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),st}const X="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class nt extends i.Container{constructor(O){super(z(O)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{z(this.attrs)}),this._checkVisibility()}_validateAdd(O){const G=O.getType()==="Layer",V=O.getType()==="FastLayer";G||V||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const O=this.visible()?"":"none";this.content.style.display=O}setContainer(O){if(typeof O===c){if(O.charAt(0)==="."){const V=O.slice(1);O=document.getElementsByClassName(V)[0]}else{var G;O.charAt(0)!=="#"?G=O:G=O.slice(1),O=document.getElementById(G)}if(!O)throw"Can not find container in document with id "+G}return this._setAttr("container",O),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),O.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const O=this.children,G=O.length;for(let V=0;V<G;V++)O[V].clear();return this}clone(O){return O||(O={}),O.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,O)}destroy(){super.destroy();const O=this.content;O&&e.Util._isInDocument(O)&&this.container().removeChild(O);const G=t.stages.indexOf(this);return G>-1&&t.stages.splice(G,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const O=this._pointerPositions[0]||this._changedPointerPositions[0];return O?{x:O.x,y:O.y}:(e.Util.warn(X),null)}_getPointerById(O){return this._pointerPositions.find(G=>G.id===O)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(O){O=O||{},O.x=O.x||0,O.y=O.y||0,O.width=O.width||this.width(),O.height=O.height||this.height();const G=new s.SceneCanvas({width:O.width,height:O.height,pixelRatio:O.pixelRatio||1}),V=G.getContext()._context,W=this.children;return(O.x||O.y)&&V.translate(-1*O.x,-1*O.y),W.forEach(function(tt){if(!tt.isVisible())return;const M=tt._toKonvaCanvas(O);V.drawImage(M._canvas,O.x,O.y,M.getWidth()/M.getPixelRatio(),M.getHeight()/M.getPixelRatio())}),G}getIntersection(O){if(!O)return null;const G=this.children,V=G.length,W=V-1;for(let tt=W;tt>=0;tt--){const M=G[tt].getIntersection(O);if(M)return M}return null}_resizeDOM(){const O=this.width(),G=this.height();this.content&&(this.content.style.width=O+u,this.content.style.height=G+u),this.bufferCanvas.setSize(O,G),this.bufferHitCanvas.setSize(O,G),this.children.forEach(V=>{V.setSize({width:O,height:G}),V.draw()})}add(O,...G){if(arguments.length>1){for(let W=0;W<arguments.length;W++)this.add(arguments[W]);return this}super.add(O);const V=this.children.length;return V>D&&e.Util.warn("The stage has "+V+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),O.setSize({width:this.width(),height:this.height()}),O.draw(),r.Konva.isBrowser&&this.content.appendChild(O.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(O){return l.hasPointerCapture(O,this)}setPointerCapture(O){l.setPointerCapture(O,this)}releaseCapture(O){l.releaseCapture(O,this)}getLayers(){return this.children}_bindContentEvents(){r.Konva.isBrowser&&j.forEach(([O,G])=>{this.content.addEventListener(O,V=>{this[G](V)},{passive:!1})})}_pointerenter(O){this.setPointersPositions(O);const G=Y(O.type);G&&this._fire(G.pointerenter,{evt:O,target:this,currentTarget:this})}_pointerover(O){this.setPointersPositions(O);const G=Y(O.type);G&&this._fire(G.pointerover,{evt:O,target:this,currentTarget:this})}_getTargetShape(O){let G=this[O+"targetShape"];return G&&!G.getStage()&&(G=null),G}_pointerleave(O){const G=Y(O.type),V=U(O.type);if(!G)return;this.setPointersPositions(O);const W=this._getTargetShape(V),tt=!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled;W&&tt?(W._fireAndBubble(G.pointerout,{evt:O}),W._fireAndBubble(G.pointerleave,{evt:O}),this._fire(G.pointerleave,{evt:O,target:this,currentTarget:this}),this[V+"targetShape"]=null):tt&&(this._fire(G.pointerleave,{evt:O,target:this,currentTarget:this}),this._fire(G.pointerout,{evt:O,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(O){const G=Y(O.type),V=U(O.type);if(!G)return;this.setPointersPositions(O);let W=!1;this._changedPointerPositions.forEach(tt=>{const M=this.getIntersection(tt);if(o.DD.justDragged=!1,r.Konva["_"+V+"ListenClick"]=!0,!M||!M.isListening()){this[V+"ClickStartShape"]=void 0;return}r.Konva.capturePointerEventsEnabled&&M.setPointerCapture(tt.id),this[V+"ClickStartShape"]=M,M._fireAndBubble(G.pointerdown,{evt:O,pointerId:tt.id}),W=!0;const I=O.type.indexOf("touch")>=0;M.preventDefault()&&O.cancelable&&I&&O.preventDefault()}),W||this._fire(G.pointerdown,{evt:O,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(O){const G=Y(O.type),V=U(O.type);if(!G||(r.Konva.isDragging()&&o.DD.node.preventDefault()&&O.cancelable&&O.preventDefault(),this.setPointersPositions(O),!(!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled)))return;const tt={};let M=!1;const I=this._getTargetShape(V);this._changedPointerPositions.forEach(B=>{const $=l.getCapturedShape(B.id)||this.getIntersection(B),K=B.id,q={evt:O,pointerId:K},Q=I!==$;if(Q&&I&&(I._fireAndBubble(G.pointerout,{...q},$),I._fireAndBubble(G.pointerleave,{...q},$)),$){if(tt[$._id])return;tt[$._id]=!0}$&&$.isListening()?(M=!0,Q&&($._fireAndBubble(G.pointerover,{...q},I),$._fireAndBubble(G.pointerenter,{...q},I),this[V+"targetShape"]=$),$._fireAndBubble(G.pointermove,{...q})):I&&(this._fire(G.pointerover,{evt:O,target:this,currentTarget:this,pointerId:K}),this[V+"targetShape"]=null)}),M||this._fire(G.pointermove,{evt:O,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(O){const G=Y(O.type),V=U(O.type);if(!G)return;this.setPointersPositions(O);const W=this[V+"ClickStartShape"],tt=this[V+"ClickEndShape"],M={};let I=!1;this._changedPointerPositions.forEach(B=>{const $=l.getCapturedShape(B.id)||this.getIntersection(B);if($){if($.releaseCapture(B.id),M[$._id])return;M[$._id]=!0}const K=B.id,q={evt:O,pointerId:K};let Q=!1;r.Konva["_"+V+"InDblClickWindow"]?(Q=!0,clearTimeout(this[V+"DblTimeout"])):o.DD.justDragged||(r.Konva["_"+V+"InDblClickWindow"]=!0,clearTimeout(this[V+"DblTimeout"])),this[V+"DblTimeout"]=setTimeout(function(){r.Konva["_"+V+"InDblClickWindow"]=!1},r.Konva.dblClickWindow),$&&$.isListening()?(I=!0,this[V+"ClickEndShape"]=$,$._fireAndBubble(G.pointerup,{...q}),r.Konva["_"+V+"ListenClick"]&&W&&W===$&&($._fireAndBubble(G.pointerclick,{...q}),Q&&tt&&tt===$&&$._fireAndBubble(G.pointerdblclick,{...q}))):(this[V+"ClickEndShape"]=null,r.Konva["_"+V+"ListenClick"]&&this._fire(G.pointerclick,{evt:O,target:this,currentTarget:this,pointerId:K}),Q&&this._fire(G.pointerdblclick,{evt:O,target:this,currentTarget:this,pointerId:K}))}),I||this._fire(G.pointerup,{evt:O,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),r.Konva["_"+V+"ListenClick"]=!1,O.cancelable&&V!=="touch"&&V!=="pointer"&&O.preventDefault()}_contextmenu(O){this.setPointersPositions(O);const G=this.getIntersection(this.getPointerPosition());G&&G.isListening()?G._fireAndBubble(N,{evt:O}):this._fire(N,{evt:O,target:this,currentTarget:this})}_wheel(O){this.setPointersPositions(O);const G=this.getIntersection(this.getPointerPosition());G&&G.isListening()?G._fireAndBubble(F,{evt:O}):this._fire(F,{evt:O,target:this,currentTarget:this})}_pointercancel(O){this.setPointersPositions(O);const G=l.getCapturedShape(O.pointerId)||this.getIntersection(this.getPointerPosition());G&&G._fireAndBubble(C,l.createEvent(O)),l.releaseCapture(O.pointerId)}_lostpointercapture(O){l.releaseCapture(O.pointerId)}setPointersPositions(O){const G=this._getContentPosition();let V=null,W=null;O=O||window.event,O.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(O.touches,tt=>{this._pointerPositions.push({id:tt.identifier,x:(tt.clientX-G.left)/G.scaleX,y:(tt.clientY-G.top)/G.scaleY})}),Array.prototype.forEach.call(O.changedTouches||O.touches,tt=>{this._changedPointerPositions.push({id:tt.identifier,x:(tt.clientX-G.left)/G.scaleX,y:(tt.clientY-G.top)/G.scaleY})})):(V=(O.clientX-G.left)/G.scaleX,W=(O.clientY-G.top)/G.scaleY,this.pointerPos={x:V,y:W},this._pointerPositions=[{x:V,y:W,id:e.Util._getFirstPointerId(O)}],this._changedPointerPositions=[{x:V,y:W,id:e.Util._getFirstPointerId(O)}])}_setPointerPosition(O){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(O)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const O=this.content.getBoundingClientRect();return{top:O.top,left:O.left,scaleX:O.width/this.content.clientWidth||1,scaleY:O.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!r.Konva.isBrowser)return;const O=this.container();if(!O)throw"Stage has no container. A container is required.";O.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),O.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(O){O.batchDraw()}),this}}t.Stage=nt,nt.prototype.nodeType=h,(0,a._registerNode)(nt),n.Factory.addGetterSetter(nt,"container"),r.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(st=>{st.batchDraw()})})}(ls)),ls}var Nn={},cs={},ga;function Ut(){return ga||(ga=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=gt(),n=Ot(),i=pt(),r=Mt(),s=mt(),o=gt(),a=Zc(),l="hasShadow",h="shadowRGBA",c="patternImage",u="linearGradient",p="radialGradient";let d;function f(){return d||(d=n.Util.createCanvasElement().getContext("2d"),d)}t.shapes={};function _(w){const x=this.attrs.fillRule;x?w.fill(x):w.fill()}function b(w){w.stroke()}function E(w){const x=this.attrs.fillRule;x?w.fill(x):w.fill()}function m(w){w.stroke()}function g(){this._clearCache(l)}function y(){this._clearCache(h)}function C(){this._clearCache(c)}function T(){this._clearCache(u)}function L(){this._clearCache(p)}class P extends r.Node{constructor(x){super(x);let k;for(;k=n.Util.getRandomColor(),!(k&&!(k in t.shapes)););this.colorKey=k,t.shapes[k]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(c,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const k=f().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(k&&k.setTransform){const N=new n.Transform;N.translate(this.fillPatternX(),this.fillPatternY()),N.rotate(e.Konva.getAngle(this.fillPatternRotation())),N.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),N.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const v=N.getMatrix(),R=typeof DOMMatrix>"u"?{a:v[0],b:v[1],c:v[2],d:v[3],e:v[4],f:v[5]}:new DOMMatrix(v);k.setTransform(R)}return k}}_getLinearGradient(){return this._getCache(u,this.__getLinearGradient)}__getLinearGradient(){const x=this.fillLinearGradientColorStops();if(x){const k=f(),N=this.fillLinearGradientStartPoint(),v=this.fillLinearGradientEndPoint(),R=k.createLinearGradient(N.x,N.y,v.x,v.y);for(let S=0;S<x.length;S+=2)R.addColorStop(x[S],x[S+1]);return R}}_getRadialGradient(){return this._getCache(p,this.__getRadialGradient)}__getRadialGradient(){const x=this.fillRadialGradientColorStops();if(x){const k=f(),N=this.fillRadialGradientStartPoint(),v=this.fillRadialGradientEndPoint(),R=k.createRadialGradient(N.x,N.y,this.fillRadialGradientStartRadius(),v.x,v.y,this.fillRadialGradientEndRadius());for(let S=0;S<x.length;S+=2)R.addColorStop(x[S],x[S+1]);return R}}getShadowRGBA(){return this._getCache(h,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const x=n.Util.colorToRGBA(this.shadowColor());if(x)return"rgba("+x.r+","+x.g+","+x.b+","+x.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const x=this.hitStrokeWidth();return x==="auto"?this.hasStroke():this.strokeEnabled()&&!!x}intersects(x){const k=this.getStage();if(!k)return!1;const N=k.bufferHitCanvas;return N.getContext().clear(),this.drawHit(N,void 0,!0),N.context.getImageData(Math.round(x.x),Math.round(x.y),1,1).data[3]>0}destroy(){return r.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(x){var k;if(!((k=this.attrs.perfectDrawEnabled)!==null&&k!==void 0?k:!0))return!1;const v=x||this.hasFill(),R=this.hasStroke(),S=this.getAbsoluteOpacity()!==1;if(v&&R&&S)return!0;const A=this.hasShadow(),F=this.shadowForStrokeEnabled();return!!(v&&R&&A&&F)}setStrokeHitEnabled(x){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),x?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const x=this.size();return{x:this._centroid?-x.width/2:0,y:this._centroid?-x.height/2:0,width:x.width,height:x.height}}getClientRect(x={}){let k=!1,N=this.getParent();for(;N;){if(N.isCached()){k=!0;break}N=N.getParent()}const v=x.skipTransform,R=x.relativeTo||k&&this.getStage()||void 0,S=this.getSelfRect(),F=!x.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,D=S.width+F,j=S.height+F,H=!x.skipShadow&&this.hasShadow(),U=H?this.shadowOffsetX():0,Y=H?this.shadowOffsetY():0,z=D+Math.abs(U),X=j+Math.abs(Y),nt=H&&this.shadowBlur()||0,st=z+nt*2,O=X+nt*2,G={width:st,height:O,x:-(F/2+nt)+Math.min(U,0)+S.x,y:-(F/2+nt)+Math.min(Y,0)+S.y};return v?G:this._transformedRect(G,R)}drawScene(x,k,N){const v=this.getLayer();let R=x||v.getCanvas(),S=R.getContext(),A=this._getCanvasCache(),F=this.getSceneFunc(),D=this.hasShadow(),j,H;const U=R.isCache,Y=k===this;if(!this.isVisible()&&!Y)return this;if(A){S.save();const X=this.getAbsoluteTransform(k).getMatrix();return S.transform(X[0],X[1],X[2],X[3],X[4],X[5]),this._drawCachedSceneCanvas(S),S.restore(),this}if(!F)return this;if(S.save(),this._useBufferCanvas()&&!U){j=this.getStage();const X=N||j.bufferCanvas;H=X.getContext(),H.clear(),H.save(),H._applyLineJoin(this);var z=this.getAbsoluteTransform(k).getMatrix();H.transform(z[0],z[1],z[2],z[3],z[4],z[5]),F.call(this,H,this),H.restore();const nt=X.pixelRatio;D&&S._applyShadow(this),S._applyOpacity(this),S._applyGlobalCompositeOperation(this),S.drawImage(X._canvas,0,0,X.width/nt,X.height/nt)}else{if(S._applyLineJoin(this),!Y){var z=this.getAbsoluteTransform(k).getMatrix();S.transform(z[0],z[1],z[2],z[3],z[4],z[5]),S._applyOpacity(this),S._applyGlobalCompositeOperation(this)}D&&S._applyShadow(this),F.call(this,S,this)}return S.restore(),this}drawHit(x,k,N=!1){if(!this.shouldDrawHit(k,N))return this;const v=this.getLayer(),R=x||v.hitCanvas,S=R&&R.getContext(),A=this.hitFunc()||this.sceneFunc(),F=this._getCanvasCache(),D=F&&F.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),D){S.save();const H=this.getAbsoluteTransform(k).getMatrix();return S.transform(H[0],H[1],H[2],H[3],H[4],H[5]),this._drawCachedHitCanvas(S),S.restore(),this}if(!A)return this;if(S.save(),S._applyLineJoin(this),!(this===k)){const H=this.getAbsoluteTransform(k).getMatrix();S.transform(H[0],H[1],H[2],H[3],H[4],H[5])}return A.call(this,S,this),S.restore(),this}drawHitFromCache(x=0){const k=this._getCanvasCache(),N=this._getCachedSceneCanvas(),v=k.hit,R=v.getContext(),S=v.getWidth(),A=v.getHeight();R.clear(),R.drawImage(N._canvas,0,0,S,A);try{const F=R.getImageData(0,0,S,A),D=F.data,j=D.length,H=n.Util._hexToRgb(this.colorKey);for(let U=0;U<j;U+=4)D[U+3]>x?(D[U]=H.r,D[U+1]=H.g,D[U+2]=H.b,D[U+3]=255):D[U+3]=0;R.putImageData(F,0,0)}catch(F){n.Util.error("Unable to draw hit graph from cached scene canvas. "+F.message)}return this}hasPointerCapture(x){return a.hasPointerCapture(x,this)}setPointerCapture(x){a.setPointerCapture(x,this)}releaseCapture(x){a.releaseCapture(x,this)}}t.Shape=P,P.prototype._fillFunc=_,P.prototype._strokeFunc=b,P.prototype._fillFuncHit=E,P.prototype._strokeFuncHit=m,P.prototype._centroid=!1,P.prototype.nodeType="Shape",(0,o._registerNode)(P),P.prototype.eventListeners={},P.prototype.on.call(P.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",g),P.prototype.on.call(P.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",y),P.prototype.on.call(P.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",C),P.prototype.on.call(P.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",T),P.prototype.on.call(P.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",L),i.Factory.addGetterSetter(P,"stroke",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(P,"strokeWidth",2,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(P,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(P,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(P,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(P,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(P,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(P,"lineJoin"),i.Factory.addGetterSetter(P,"lineCap"),i.Factory.addGetterSetter(P,"sceneFunc"),i.Factory.addGetterSetter(P,"hitFunc"),i.Factory.addGetterSetter(P,"dash"),i.Factory.addGetterSetter(P,"dashOffset",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(P,"shadowColor",void 0,(0,s.getStringValidator)()),i.Factory.addGetterSetter(P,"shadowBlur",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(P,"shadowOpacity",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(P,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(P,"shadowOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(P,"shadowOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(P,"fillPatternImage"),i.Factory.addGetterSetter(P,"fill",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(P,"fillPatternX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(P,"fillPatternY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(P,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(P,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(P,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(P,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(P,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(P,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(P,"fillEnabled",!0),i.Factory.addGetterSetter(P,"strokeEnabled",!0),i.Factory.addGetterSetter(P,"shadowEnabled",!0),i.Factory.addGetterSetter(P,"dashEnabled",!0),i.Factory.addGetterSetter(P,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(P,"fillPriority","color"),i.Factory.addComponentsGetterSetter(P,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(P,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(P,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(P,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(P,"fillPatternScaleX",1,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(P,"fillPatternScaleY",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(P,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(P,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(P,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(P,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(P,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(P,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(P,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(P,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(P,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(P,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(P,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(P,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(P,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(P,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(P,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(P,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(P,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(P,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(P,"fillPatternRotation",0),i.Factory.addGetterSetter(P,"fillRule",void 0,(0,s.getStringValidator)()),i.Factory.backCompat(P,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(cs)),cs}var pa;function Qc(){if(pa)return Nn;pa=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.Layer=void 0;const t=Ot(),e=Hr(),n=Mt(),i=pt(),r=Vr(),s=mt(),o=Ut(),a=gt(),l="#",h="beforeDraw",c="draw",u=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],p=u.length;let d=class extends e.Container{constructor(_){super(_),this.canvas=new r.SceneCanvas,this.hitCanvas=new r.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(_){return this.getContext().clear(_),this.getHitCanvas().getContext().clear(_),this}setZIndex(_){super.setZIndex(_);const b=this.getStage();return b&&b.content&&(b.content.removeChild(this.getNativeCanvasElement()),_<b.children.length-1?b.content.insertBefore(this.getNativeCanvasElement(),b.children[_+1].getCanvas()._canvas):b.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){n.Node.prototype.moveToTop.call(this);const _=this.getStage();return _&&_.content&&(_.content.removeChild(this.getNativeCanvasElement()),_.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!n.Node.prototype.moveUp.call(this))return!1;const b=this.getStage();return!b||!b.content?!1:(b.content.removeChild(this.getNativeCanvasElement()),this.index<b.children.length-1?b.content.insertBefore(this.getNativeCanvasElement(),b.children[this.index+1].getCanvas()._canvas):b.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(n.Node.prototype.moveDown.call(this)){const _=this.getStage();if(_){const b=_.children;_.content&&(_.content.removeChild(this.getNativeCanvasElement()),_.content.insertBefore(this.getNativeCanvasElement(),b[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(n.Node.prototype.moveToBottom.call(this)){const _=this.getStage();if(_){const b=_.children;_.content&&(_.content.removeChild(this.getNativeCanvasElement()),_.content.insertBefore(this.getNativeCanvasElement(),b[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const _=this.getNativeCanvasElement();return n.Node.prototype.remove.call(this),_&&_.parentNode&&t.Util._isInDocument(_)&&_.parentNode.removeChild(_),this}getStage(){return this.parent}setSize({width:_,height:b}){return this.canvas.setSize(_,b),this.hitCanvas.setSize(_,b),this._setSmoothEnabled(),this}_validateAdd(_){const b=_.getType();b!=="Group"&&b!=="Shape"&&t.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(_){return _=_||{},_.width=_.width||this.getWidth(),_.height=_.height||this.getHeight(),_.x=_.x!==void 0?_.x:this.x(),_.y=_.y!==void 0?_.y:this.y(),n.Node.prototype._toKonvaCanvas.call(this,_)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){t.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){t.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,t.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(_){if(!this.isListening()||!this.isVisible())return null;let b=1,E=!1;for(;;){for(let m=0;m<p;m++){const g=u[m],y=this._getIntersection({x:_.x+g.x*b,y:_.y+g.y*b}),C=y.shape;if(C)return C;if(E=!!y.antialiased,!y.antialiased)break}if(E)b+=1;else return null}}_getIntersection(_){const b=this.hitCanvas.pixelRatio,E=this.hitCanvas.context.getImageData(Math.round(_.x*b),Math.round(_.y*b),1,1).data,m=E[3];if(m===255){const g=t.Util._rgbToHex(E[0],E[1],E[2]),y=o.shapes[l+g];return y?{shape:y}:{antialiased:!0}}else if(m>0)return{antialiased:!0};return{}}drawScene(_,b){const E=this.getLayer(),m=_||E&&E.getCanvas();return this._fire(h,{node:this}),this.clearBeforeDraw()&&m.getContext().clear(),e.Container.prototype.drawScene.call(this,m,b),this._fire(c,{node:this}),this}drawHit(_,b){const E=this.getLayer(),m=_||E&&E.hitCanvas;return E&&E.clearBeforeDraw()&&E.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,m,b),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(_){t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(_)}getHitGraphEnabled(_){return t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const _=this.parent;!!this.hitCanvas._canvas.parentNode?_.content.removeChild(this.hitCanvas._canvas):_.content.appendChild(this.hitCanvas._canvas)}destroy(){return t.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Nn.Layer=d,d.prototype.nodeType="Layer",(0,a._registerNode)(d),i.Factory.addGetterSetter(d,"imageSmoothingEnabled",!0),i.Factory.addGetterSetter(d,"clearBeforeDraw",!0),i.Factory.addGetterSetter(d,"hitGraphEnabled",!0,(0,s.getBooleanValidator)()),Nn}var In={},ma;function yf(){if(ma)return In;ma=1,Object.defineProperty(In,"__esModule",{value:!0}),In.FastLayer=void 0;const t=Ot(),e=Qc(),n=gt();let i=class extends e.Layer{constructor(s){super(s),this.listening(!1),t.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return In.FastLayer=i,i.prototype.nodeType="FastLayer",(0,n._registerNode)(i),In}var Ln={},va;function oo(){if(va)return Ln;va=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.Group=void 0;const t=Ot(),e=Hr(),n=gt();let i=class extends e.Container{_validateAdd(s){const o=s.getType();o!=="Group"&&o!=="Shape"&&t.Util.throw("You may only add groups and shapes to groups.")}};return Ln.Group=i,i.prototype.nodeType="Group",(0,n._registerNode)(i),Ln}var Dn={},_a;function ao(){if(_a)return Dn;_a=1,Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.Animation=void 0;const t=gt(),e=Ot(),n=function(){return t.glob.performance&&t.glob.performance.now?function(){return t.glob.performance.now()}:function(){return new Date().getTime()}}();let i=class mn{constructor(s,o){this.id=mn.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:n(),frameRate:0},this.func=s,this.setLayers(o)}setLayers(s){let o=[];return s&&(o=Array.isArray(s)?s:[s]),this.layers=o,this}getLayers(){return this.layers}addLayer(s){const o=this.layers,a=o.length;for(let l=0;l<a;l++)if(o[l]._id===s._id)return!1;return this.layers.push(s),!0}isRunning(){const o=mn.animations,a=o.length;for(let l=0;l<a;l++)if(o[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=n(),mn._addAnimation(this),this}stop(){return mn._removeAnimation(this),this}_updateFrameObject(s){this.frame.timeDiff=s-this.frame.lastTime,this.frame.lastTime=s,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(s){this.animations.push(s),this._handleAnimation()}static _removeAnimation(s){const o=s.id,a=this.animations,l=a.length;for(let h=0;h<l;h++)if(a[h].id===o){this.animations.splice(h,1);break}}static _runFrames(){const s={},o=this.animations;for(let a=0;a<o.length;a++){const l=o[a],h=l.layers,c=l.func;l._updateFrameObject(n());const u=h.length;let p;if(c?p=c.call(l,l.frame)!==!1:p=!0,!!p)for(let d=0;d<u;d++){const f=h[d];f._id!==void 0&&(s[f._id]=f)}}for(const a in s)s.hasOwnProperty(a)&&s[a].batchDraw()}static _animationLoop(){const s=mn;s.animations.length?(s._runFrames(),e.Util.requestAnimFrame(s._animationLoop)):s.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return Dn.Animation=i,i.animations=[],i.animIdCounter=0,i.animRunning=!1,Dn}var hs={},ya;function bf(){return ya||(ya=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=Ot(),n=ao(),i=Mt(),r=gt(),s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},o=1,a=2,l=3,h=["fill","stroke","shadowColor"];let c=0;class u{constructor(f,_,b,E,m,g,y){this.prop=f,this.propFunc=_,this.begin=E,this._pos=E,this.duration=g,this._change=0,this.prevPos=0,this.yoyo=y,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=b,this._change=m-this.begin,this.pause()}fire(f){const _=this[f];_&&_()}setTime(f){f>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():f<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=f,this.update())}getTime(){return this._time}setPosition(f){this.prevPos=this._pos,this.propFunc(f),this._pos=f}getPosition(f){return f===void 0&&(f=this._time),this.func(f,this.begin,this._change,this.duration)}play(){this.state=a,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(f){this.pause(),this._time=f,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const f=this.getTimer()-this._startTime;this.state===a?this.setTime(f):this.state===l&&this.setTime(this.duration-f)}pause(){this.state=o,this.fire("onPause")}getTimer(){return new Date().getTime()}}class p{constructor(f){const _=this,b=f.node,E=b._id,m=f.easing||t.Easings.Linear,g=!!f.yoyo;let y,C;typeof f.duration>"u"?y=.3:f.duration===0?y=.001:y=f.duration,this.node=b,this._id=c++;const T=b.getLayer()||(b instanceof r.Konva.Stage?b.getLayers():null);T||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){_.tween.onEnterFrame()},T),this.tween=new u(C,function(L){_._tweenFunc(L)},m,0,1,y*1e3,g),this._addListeners(),p.attrs[E]||(p.attrs[E]={}),p.attrs[E][this._id]||(p.attrs[E][this._id]={}),p.tweens[E]||(p.tweens[E]={});for(C in f)s[C]===void 0&&this._addAttr(C,f[C]);this.reset(),this.onFinish=f.onFinish,this.onReset=f.onReset,this.onUpdate=f.onUpdate}_addAttr(f,_){const b=this.node,E=b._id;let m,g,y,C,T;const L=p.tweens[E][f];L&&delete p.attrs[E][L][f];let P=b.getAttr(f);if(e.Util._isArray(_))if(m=[],g=Math.max(_.length,P.length),f==="points"&&_.length!==P.length&&(_.length>P.length?(C=P,P=e.Util._prepareArrayForTween(P,_,b.closed())):(y=_,_=e.Util._prepareArrayForTween(_,P,b.closed()))),f.indexOf("fill")===0)for(let w=0;w<g;w++)if(w%2===0)m.push(_[w]-P[w]);else{const x=e.Util.colorToRGBA(P[w]);T=e.Util.colorToRGBA(_[w]),P[w]=x,m.push({r:T.r-x.r,g:T.g-x.g,b:T.b-x.b,a:T.a-x.a})}else for(let w=0;w<g;w++)m.push(_[w]-P[w]);else h.indexOf(f)!==-1?(P=e.Util.colorToRGBA(P),T=e.Util.colorToRGBA(_),m={r:T.r-P.r,g:T.g-P.g,b:T.b-P.b,a:T.a-P.a}):m=_-P;p.attrs[E][this._id][f]={start:P,diff:m,end:_,trueEnd:y,trueStart:C},p.tweens[E][f]=this._id}_tweenFunc(f){const _=this.node,b=p.attrs[_._id][this._id];let E,m,g,y,C,T,L,P;for(E in b){if(m=b[E],g=m.start,y=m.diff,P=m.end,e.Util._isArray(g))if(C=[],L=Math.max(g.length,P.length),E.indexOf("fill")===0)for(T=0;T<L;T++)T%2===0?C.push((g[T]||0)+y[T]*f):C.push("rgba("+Math.round(g[T].r+y[T].r*f)+","+Math.round(g[T].g+y[T].g*f)+","+Math.round(g[T].b+y[T].b*f)+","+(g[T].a+y[T].a*f)+")");else for(T=0;T<L;T++)C.push((g[T]||0)+y[T]*f);else h.indexOf(E)!==-1?C="rgba("+Math.round(g.r+y.r*f)+","+Math.round(g.g+y.g*f)+","+Math.round(g.b+y.b*f)+","+(g.a+y.a*f)+")":C=g+y*f;_.setAttr(E,C)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const f=this.node,_=p.attrs[f._id][this._id];_.points&&_.points.trueEnd&&f.setAttr("points",_.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const f=this.node,_=p.attrs[f._id][this._id];_.points&&_.points.trueStart&&f.points(_.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(f){return this.tween.seek(f*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const f=this.node._id,_=this._id,b=p.tweens[f];this.pause();for(const E in b)delete p.tweens[f][E];delete p.attrs[f][_]}}t.Tween=p,p.attrs={},p.tweens={},i.Node.prototype.to=function(d){const f=d.onFinish;d.node=this,d.onFinish=function(){this.destroy(),f&&f()},new p(d).play()},t.Easings={BackEaseIn(d,f,_,b){return _*(d/=b)*d*((1.70158+1)*d-1.70158)+f},BackEaseOut(d,f,_,b){return _*((d=d/b-1)*d*((1.70158+1)*d+1.70158)+1)+f},BackEaseInOut(d,f,_,b){let E=1.70158;return(d/=b/2)<1?_/2*(d*d*(((E*=1.525)+1)*d-E))+f:_/2*((d-=2)*d*(((E*=1.525)+1)*d+E)+2)+f},ElasticEaseIn(d,f,_,b,E,m){let g=0;return d===0?f:(d/=b)===1?f+_:(m||(m=b*.3),!E||E<Math.abs(_)?(E=_,g=m/4):g=m/(2*Math.PI)*Math.asin(_/E),-(E*Math.pow(2,10*(d-=1))*Math.sin((d*b-g)*(2*Math.PI)/m))+f)},ElasticEaseOut(d,f,_,b,E,m){let g=0;return d===0?f:(d/=b)===1?f+_:(m||(m=b*.3),!E||E<Math.abs(_)?(E=_,g=m/4):g=m/(2*Math.PI)*Math.asin(_/E),E*Math.pow(2,-10*d)*Math.sin((d*b-g)*(2*Math.PI)/m)+_+f)},ElasticEaseInOut(d,f,_,b,E,m){let g=0;return d===0?f:(d/=b/2)===2?f+_:(m||(m=b*(.3*1.5)),!E||E<Math.abs(_)?(E=_,g=m/4):g=m/(2*Math.PI)*Math.asin(_/E),d<1?-.5*(E*Math.pow(2,10*(d-=1))*Math.sin((d*b-g)*(2*Math.PI)/m))+f:E*Math.pow(2,-10*(d-=1))*Math.sin((d*b-g)*(2*Math.PI)/m)*.5+_+f)},BounceEaseOut(d,f,_,b){return(d/=b)<1/2.75?_*(7.5625*d*d)+f:d<2/2.75?_*(7.5625*(d-=1.5/2.75)*d+.75)+f:d<2.5/2.75?_*(7.5625*(d-=2.25/2.75)*d+.9375)+f:_*(7.5625*(d-=2.625/2.75)*d+.984375)+f},BounceEaseIn(d,f,_,b){return _-t.Easings.BounceEaseOut(b-d,0,_,b)+f},BounceEaseInOut(d,f,_,b){return d<b/2?t.Easings.BounceEaseIn(d*2,0,_,b)*.5+f:t.Easings.BounceEaseOut(d*2-b,0,_,b)*.5+_*.5+f},EaseIn(d,f,_,b){return _*(d/=b)*d+f},EaseOut(d,f,_,b){return-_*(d/=b)*(d-2)+f},EaseInOut(d,f,_,b){return(d/=b/2)<1?_/2*d*d+f:-_/2*(--d*(d-2)-1)+f},StrongEaseIn(d,f,_,b){return _*(d/=b)*d*d*d*d+f},StrongEaseOut(d,f,_,b){return _*((d=d/b-1)*d*d*d*d+1)+f},StrongEaseInOut(d,f,_,b){return(d/=b/2)<1?_/2*d*d*d*d*d+f:_/2*((d-=2)*d*d*d*d+2)+f},Linear(d,f,_,b){return _*d/b+f}}}(hs)),hs}var ba;function Sf(){return ba||(ba=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=gt(),n=Ot(),i=Mt(),r=Hr(),s=_f(),o=Qc(),a=yf(),l=oo(),h=so(),c=Ut(),u=ao(),p=bf(),d=Xc(),f=Vr();t.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:i.Node,Container:r.Container,Stage:s.Stage,stages:s.stages,Layer:o.Layer,FastLayer:a.FastLayer,Group:l.Group,DD:h.DD,Shape:c.Shape,shapes:c.shapes,Animation:u.Animation,Tween:p.Tween,Easings:p.Easings,Context:d.Context,Canvas:f.Canvas}),t.default=t.Konva}(is)),is}var Gn={},Sa;function Cf(){if(Sa)return Gn;Sa=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.Arc=void 0;const t=pt(),e=Ut(),n=gt(),i=mt(),r=gt();let s=class extends e.Shape{_sceneFunc(a){const l=n.Konva.getAngle(this.angle()),h=this.clockwise();a.beginPath(),a.arc(0,0,this.outerRadius(),0,l,h),a.arc(0,0,this.innerRadius(),l,0,!h),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}getSelfRect(){const a=this.innerRadius(),l=this.outerRadius(),h=this.clockwise(),c=n.Konva.getAngle(h?360-this.angle():this.angle()),u=Math.cos(Math.min(c,Math.PI)),p=1,d=Math.sin(Math.min(Math.max(Math.PI,c),3*Math.PI/2)),f=Math.sin(Math.min(c,Math.PI/2)),_=u*(u>0?a:l),b=p*l,E=d*(d>0?a:l),m=f*(f>0?l:a);return{x:_,y:h?-1*m:E,width:b-_,height:m-E}}};return Gn.Arc=s,s.prototype._centroid=!0,s.prototype.className="Arc",s.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"innerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"outerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"angle",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"clockwise",!1,(0,i.getBooleanValidator)()),Gn}var Bn={},Un={},Ca;function Jc(){if(Ca)return Un;Ca=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.Line=void 0;const t=pt(),e=gt(),n=Ut(),i=mt();function r(a,l,h,c,u,p,d){const f=Math.sqrt(Math.pow(h-a,2)+Math.pow(c-l,2)),_=Math.sqrt(Math.pow(u-h,2)+Math.pow(p-c,2)),b=d*f/(f+_),E=d*_/(f+_),m=h-b*(u-a),g=c-b*(p-l),y=h+E*(u-a),C=c+E*(p-l);return[m,g,y,C]}function s(a,l){const h=a.length,c=[];for(let u=2;u<h-2;u+=2){const p=r(a[u-2],a[u-1],a[u],a[u+1],a[u+2],a[u+3],l);isNaN(p[0])||(c.push(p[0]),c.push(p[1]),c.push(a[u]),c.push(a[u+1]),c.push(p[2]),c.push(p[3]))}return c}let o=class extends n.Shape{constructor(l){super(l),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(l){let h=this.points(),c=h.length,u=this.tension(),p=this.closed(),d=this.bezier(),f,_,b;if(c){if(l.beginPath(),l.moveTo(h[0],h[1]),u!==0&&c>4){for(f=this.getTensionPoints(),_=f.length,b=p?0:4,p||l.quadraticCurveTo(f[0],f[1],f[2],f[3]);b<_-2;)l.bezierCurveTo(f[b++],f[b++],f[b++],f[b++],f[b++],f[b++]);p||l.quadraticCurveTo(f[_-2],f[_-1],h[c-2],h[c-1])}else if(d)for(b=2;b<c;)l.bezierCurveTo(h[b++],h[b++],h[b++],h[b++],h[b++],h[b++]);else for(b=2;b<c;b+=2)l.lineTo(h[b],h[b+1]);p?(l.closePath(),l.fillStrokeShape(this)):l.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():s(this.points(),this.tension())}_getTensionPointsClosed(){const l=this.points(),h=l.length,c=this.tension(),u=r(l[h-2],l[h-1],l[0],l[1],l[2],l[3],c),p=r(l[h-4],l[h-3],l[h-2],l[h-1],l[0],l[1],c),d=s(l,c);return[u[2],u[3]].concat(d).concat([p[0],p[1],l[h-2],l[h-1],p[2],p[3],u[0],u[1],l[0],l[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let l=this.points();if(l.length<4)return{x:l[0]||0,y:l[1]||0,width:0,height:0};this.tension()!==0?l=[l[0],l[1],...this._getTensionPoints(),l[l.length-2],l[l.length-1]]:l=this.points();let h=l[0],c=l[0],u=l[1],p=l[1],d,f;for(let _=0;_<l.length/2;_++)d=l[_*2],f=l[_*2+1],h=Math.min(h,d),c=Math.max(c,d),u=Math.min(u,f),p=Math.max(p,f);return{x:h,y:u,width:c-h,height:p-u}}};return Un.Line=o,o.prototype.className="Line",o.prototype._attrsAffectingSize=["points","bezier","tension"],(0,e._registerNode)(o),t.Factory.addGetterSetter(o,"closed",!1),t.Factory.addGetterSetter(o,"bezier",!1),t.Factory.addGetterSetter(o,"tension",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(o,"points",[],(0,i.getNumberArrayValidator)()),Un}var Vn={},us={},wa;function wf(){return wa||(wa=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(o,a,l)=>{let h,c;const p=l/2;h=0;for(let d=0;d<20;d++)c=p*t.tValues[20][d]+p,h+=t.cValues[20][d]*i(o,a,c);return p*h};t.getCubicArcLength=e;const n=(o,a,l)=>{l===void 0&&(l=1);const h=o[0]-2*o[1]+o[2],c=a[0]-2*a[1]+a[2],u=2*o[1]-2*o[0],p=2*a[1]-2*a[0],d=4*(h*h+c*c),f=4*(h*u+c*p),_=u*u+p*p;if(d===0)return l*Math.sqrt(Math.pow(o[2]-o[0],2)+Math.pow(a[2]-a[0],2));const b=f/(2*d),E=_/d,m=l+b,g=E-b*b,y=m*m+g>0?Math.sqrt(m*m+g):0,C=b*b+g>0?Math.sqrt(b*b+g):0,T=b+Math.sqrt(b*b+g)!==0?g*Math.log(Math.abs((m+y)/(b+C))):0;return Math.sqrt(d)/2*(m*y-b*C+T)};t.getQuadraticArcLength=n;function i(o,a,l){const h=r(1,l,o),c=r(1,l,a),u=h*h+c*c;return Math.sqrt(u)}const r=(o,a,l)=>{const h=l.length-1;let c,u;if(h===0)return 0;if(o===0){u=0;for(let p=0;p<=h;p++)u+=t.binomialCoefficients[h][p]*Math.pow(1-a,h-p)*Math.pow(a,p)*l[p];return u}else{c=new Array(h);for(let p=0;p<h;p++)c[p]=h*(l[p+1]-l[p]);return r(o-1,a,c)}},s=(o,a,l)=>{let h=1,c=o/a,u=(o-l(c))/a,p=0;for(;h>.001;){const d=l(c+u),f=Math.abs(o-d)/a;if(f<h)h=f,c+=u;else{const _=l(c-u),b=Math.abs(o-_)/a;b<h?(h=b,c-=u):u/=2}if(p++,p>500)break}return c};t.t2length=s}(us)),us}var xa;function lo(){if(xa)return Vn;xa=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.Path=void 0;const t=pt(),e=Ut(),n=gt(),i=wf();let r=class ee extends e.Shape{constructor(o){super(o),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=ee.parsePathData(this.data()),this.pathLength=ee.getPathLength(this.dataArray)}_sceneFunc(o){const a=this.dataArray;o.beginPath();let l=!1;for(let y=0;y<a.length;y++){const C=a[y].command,T=a[y].points;switch(C){case"L":o.lineTo(T[0],T[1]);break;case"M":o.moveTo(T[0],T[1]);break;case"C":o.bezierCurveTo(T[0],T[1],T[2],T[3],T[4],T[5]);break;case"Q":o.quadraticCurveTo(T[0],T[1],T[2],T[3]);break;case"A":var h=T[0],c=T[1],u=T[2],p=T[3],d=T[4],f=T[5],_=T[6],b=T[7],E=u>p?u:p,m=u>p?1:u/p,g=u>p?p/u:1;o.translate(h,c),o.rotate(_),o.scale(m,g),o.arc(0,0,E,d,d+f,1-b),o.scale(1/m,1/g),o.rotate(-_),o.translate(-h,-c);break;case"z":l=!0,o.closePath();break}}!l&&!this.hasFill()?o.strokeShape(this):o.fillStrokeShape(this)}getSelfRect(){let o=[];this.dataArray.forEach(function(d){if(d.command==="A"){const f=d.points[4],_=d.points[5],b=d.points[4]+_;let E=Math.PI/180;if(Math.abs(f-b)<E&&(E=Math.abs(f-b)),_<0)for(let m=f-E;m>b;m-=E){const g=ee.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],m,0);o.push(g.x,g.y)}else for(let m=f+E;m<b;m+=E){const g=ee.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],m,0);o.push(g.x,g.y)}}else if(d.command==="C")for(let f=0;f<=1;f+=.01){const _=ee.getPointOnCubicBezier(f,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);o.push(_.x,_.y)}else o=o.concat(d.points)});let a=o[0],l=o[0],h=o[1],c=o[1],u,p;for(let d=0;d<o.length/2;d++)u=o[d*2],p=o[d*2+1],isNaN(u)||(a=Math.min(a,u),l=Math.max(l,u)),isNaN(p)||(h=Math.min(h,p),c=Math.max(c,p));return{x:a,y:h,width:l-a,height:c-h}}getLength(){return this.pathLength}getPointAtLength(o){return ee.getPointAtLengthOfDataArray(o,this.dataArray)}static getLineLength(o,a,l,h){return Math.sqrt((l-o)*(l-o)+(h-a)*(h-a))}static getPathLength(o){let a=0;for(let l=0;l<o.length;++l)a+=o[l].pathLength;return a}static getPointAtLengthOfDataArray(o,a){let l,h=0,c=a.length;if(!c)return null;for(;h<c&&o>a[h].pathLength;)o-=a[h].pathLength,++h;if(h===c)return l=a[h-1].points.slice(-2),{x:l[0],y:l[1]};if(o<.01)return l=a[h].points.slice(0,2),{x:l[0],y:l[1]};const u=a[h],p=u.points;switch(u.command){case"L":return ee.getPointOnLine(o,u.start.x,u.start.y,p[0],p[1]);case"C":return ee.getPointOnCubicBezier((0,i.t2length)(o,ee.getPathLength(a),y=>(0,i.getCubicArcLength)([u.start.x,p[0],p[2],p[4]],[u.start.y,p[1],p[3],p[5]],y)),u.start.x,u.start.y,p[0],p[1],p[2],p[3],p[4],p[5]);case"Q":return ee.getPointOnQuadraticBezier((0,i.t2length)(o,ee.getPathLength(a),y=>(0,i.getQuadraticArcLength)([u.start.x,p[0],p[2]],[u.start.y,p[1],p[3]],y)),u.start.x,u.start.y,p[0],p[1],p[2],p[3]);case"A":var d=p[0],f=p[1],_=p[2],b=p[3],E=p[4],m=p[5],g=p[6];return E+=m*o/u.pathLength,ee.getPointOnEllipticalArc(d,f,_,b,E,g)}return null}static getPointOnLine(o,a,l,h,c,u,p){u=u??a,p=p??l;const d=this.getLineLength(a,l,h,c);if(d<1e-10)return{x:a,y:l};if(h===a)return{x:u,y:p+(c>l?o:-o)};const f=(c-l)/(h-a),_=Math.sqrt(o*o/(1+f*f))*(h<a?-1:1),b=f*_;if(Math.abs(p-l-f*(u-a))<1e-10)return{x:u+_,y:p+b};const E=((u-a)*(h-a)+(p-l)*(c-l))/(d*d),m=a+E*(h-a),g=l+E*(c-l),y=this.getLineLength(u,p,m,g),C=Math.sqrt(o*o-y*y),T=Math.sqrt(C*C/(1+f*f))*(h<a?-1:1),L=f*T;return{x:m+T,y:g+L}}static getPointOnCubicBezier(o,a,l,h,c,u,p,d,f){function _(C){return C*C*C}function b(C){return 3*C*C*(1-C)}function E(C){return 3*C*(1-C)*(1-C)}function m(C){return(1-C)*(1-C)*(1-C)}const g=d*_(o)+u*b(o)+h*E(o)+a*m(o),y=f*_(o)+p*b(o)+c*E(o)+l*m(o);return{x:g,y}}static getPointOnQuadraticBezier(o,a,l,h,c,u,p){function d(m){return m*m}function f(m){return 2*m*(1-m)}function _(m){return(1-m)*(1-m)}const b=u*d(o)+h*f(o)+a*_(o),E=p*d(o)+c*f(o)+l*_(o);return{x:b,y:E}}static getPointOnEllipticalArc(o,a,l,h,c,u){const p=Math.cos(u),d=Math.sin(u),f={x:l*Math.cos(c),y:h*Math.sin(c)};return{x:o+(f.x*p-f.y*d),y:a+(f.x*d+f.y*p)}}static parsePathData(o){if(!o)return[];let a=o;const l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];a=a.replace(new RegExp(" ","g"),",");for(var h=0;h<l.length;h++)a=a.replace(new RegExp(l[h],"g"),"|"+l[h]);const c=a.split("|"),u=[],p=[];let d=0,f=0;const _=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let b;for(h=1;h<c.length;h++){let v=c[h],R=v.charAt(0);for(v=v.slice(1),p.length=0;b=_.exec(v);)p.push(b[0]);const S=[];for(let A=0,F=p.length;A<F;A++){if(p[A]==="00"){S.push(0,0);continue}const D=parseFloat(p[A]);isNaN(D)?S.push(0):S.push(D)}for(;S.length>0&&!isNaN(S[0]);){let A="",F=[];const D=d,j=f;var E,m,g,y,C,T,L,P,w,x;switch(R){case"l":d+=S.shift(),f+=S.shift(),A="L",F.push(d,f);break;case"L":d=S.shift(),f=S.shift(),F.push(d,f);break;case"m":var k=S.shift(),N=S.shift();if(d+=k,f+=N,A="M",u.length>2&&u[u.length-1].command==="z"){for(let H=u.length-2;H>=0;H--)if(u[H].command==="M"){d=u[H].points[0]+k,f=u[H].points[1]+N;break}}F.push(d,f),R="l";break;case"M":d=S.shift(),f=S.shift(),A="M",F.push(d,f),R="L";break;case"h":d+=S.shift(),A="L",F.push(d,f);break;case"H":d=S.shift(),A="L",F.push(d,f);break;case"v":f+=S.shift(),A="L",F.push(d,f);break;case"V":f=S.shift(),A="L",F.push(d,f);break;case"C":F.push(S.shift(),S.shift(),S.shift(),S.shift()),d=S.shift(),f=S.shift(),F.push(d,f);break;case"c":F.push(d+S.shift(),f+S.shift(),d+S.shift(),f+S.shift()),d+=S.shift(),f+=S.shift(),A="C",F.push(d,f);break;case"S":m=d,g=f,E=u[u.length-1],E.command==="C"&&(m=d+(d-E.points[2]),g=f+(f-E.points[3])),F.push(m,g,S.shift(),S.shift()),d=S.shift(),f=S.shift(),A="C",F.push(d,f);break;case"s":m=d,g=f,E=u[u.length-1],E.command==="C"&&(m=d+(d-E.points[2]),g=f+(f-E.points[3])),F.push(m,g,d+S.shift(),f+S.shift()),d+=S.shift(),f+=S.shift(),A="C",F.push(d,f);break;case"Q":F.push(S.shift(),S.shift()),d=S.shift(),f=S.shift(),F.push(d,f);break;case"q":F.push(d+S.shift(),f+S.shift()),d+=S.shift(),f+=S.shift(),A="Q",F.push(d,f);break;case"T":m=d,g=f,E=u[u.length-1],E.command==="Q"&&(m=d+(d-E.points[0]),g=f+(f-E.points[1])),d=S.shift(),f=S.shift(),A="Q",F.push(m,g,d,f);break;case"t":m=d,g=f,E=u[u.length-1],E.command==="Q"&&(m=d+(d-E.points[0]),g=f+(f-E.points[1])),d+=S.shift(),f+=S.shift(),A="Q",F.push(m,g,d,f);break;case"A":y=S.shift(),C=S.shift(),T=S.shift(),L=S.shift(),P=S.shift(),w=d,x=f,d=S.shift(),f=S.shift(),A="A",F=this.convertEndpointToCenterParameterization(w,x,d,f,L,P,y,C,T);break;case"a":y=S.shift(),C=S.shift(),T=S.shift(),L=S.shift(),P=S.shift(),w=d,x=f,d+=S.shift(),f+=S.shift(),A="A",F=this.convertEndpointToCenterParameterization(w,x,d,f,L,P,y,C,T);break}u.push({command:A||R,points:F,start:{x:D,y:j},pathLength:this.calcLength(D,j,A||R,F)})}(R==="z"||R==="Z")&&u.push({command:"z",points:[],start:void 0,pathLength:0})}return u}static calcLength(o,a,l,h){let c,u,p,d;const f=ee;switch(l){case"L":return f.getLineLength(o,a,h[0],h[1]);case"C":return(0,i.getCubicArcLength)([o,h[0],h[2],h[4]],[a,h[1],h[3],h[5]],1);case"Q":return(0,i.getQuadraticArcLength)([o,h[0],h[2]],[a,h[1],h[3]],1);case"A":c=0;var _=h[4],b=h[5],E=h[4]+b,m=Math.PI/180;if(Math.abs(_-E)<m&&(m=Math.abs(_-E)),u=f.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],_,0),b<0)for(d=_-m;d>E;d-=m)p=f.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],d,0),c+=f.getLineLength(u.x,u.y,p.x,p.y),u=p;else for(d=_+m;d<E;d+=m)p=f.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],d,0),c+=f.getLineLength(u.x,u.y,p.x,p.y),u=p;return p=f.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],E,0),c+=f.getLineLength(u.x,u.y,p.x,p.y),c}return 0}static convertEndpointToCenterParameterization(o,a,l,h,c,u,p,d,f){const _=f*(Math.PI/180),b=Math.cos(_)*(o-l)/2+Math.sin(_)*(a-h)/2,E=-1*Math.sin(_)*(o-l)/2+Math.cos(_)*(a-h)/2,m=b*b/(p*p)+E*E/(d*d);m>1&&(p*=Math.sqrt(m),d*=Math.sqrt(m));let g=Math.sqrt((p*p*(d*d)-p*p*(E*E)-d*d*(b*b))/(p*p*(E*E)+d*d*(b*b)));c===u&&(g*=-1),isNaN(g)&&(g=0);const y=g*p*E/d,C=g*-d*b/p,T=(o+l)/2+Math.cos(_)*y-Math.sin(_)*C,L=(a+h)/2+Math.sin(_)*y+Math.cos(_)*C,P=function(S){return Math.sqrt(S[0]*S[0]+S[1]*S[1])},w=function(S,A){return(S[0]*A[0]+S[1]*A[1])/(P(S)*P(A))},x=function(S,A){return(S[0]*A[1]<S[1]*A[0]?-1:1)*Math.acos(w(S,A))},k=x([1,0],[(b-y)/p,(E-C)/d]),N=[(b-y)/p,(E-C)/d],v=[(-1*b-y)/p,(-1*E-C)/d];let R=x(N,v);return w(N,v)<=-1&&(R=Math.PI),w(N,v)>=1&&(R=0),u===0&&R>0&&(R=R-2*Math.PI),u===1&&R<0&&(R=R+2*Math.PI),[T,L,p,d,k,R,_,u]}};return Vn.Path=r,r.prototype.className="Path",r.prototype._attrsAffectingSize=["data"],(0,n._registerNode)(r),t.Factory.addGetterSetter(r,"data"),Vn}var Pa;function xf(){if(Pa)return Bn;Pa=1,Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.Arrow=void 0;const t=pt(),e=Jc(),n=mt(),i=gt(),r=lo();let s=class extends e.Line{_sceneFunc(a){super._sceneFunc(a);const l=Math.PI*2,h=this.points();let c=h;const u=this.tension()!==0&&h.length>4;u&&(c=this.getTensionPoints());const p=this.pointerLength(),d=h.length;let f,_;if(u){const m=[c[c.length-4],c[c.length-3],c[c.length-2],c[c.length-1],h[d-2],h[d-1]],g=r.Path.calcLength(c[c.length-4],c[c.length-3],"C",m),y=r.Path.getPointOnQuadraticBezier(Math.min(1,1-p/g),m[0],m[1],m[2],m[3],m[4],m[5]);f=h[d-2]-y.x,_=h[d-1]-y.y}else f=h[d-2]-h[d-4],_=h[d-1]-h[d-3];const b=(Math.atan2(_,f)+l)%l,E=this.pointerWidth();this.pointerAtEnding()&&(a.save(),a.beginPath(),a.translate(h[d-2],h[d-1]),a.rotate(b),a.moveTo(0,0),a.lineTo(-p,E/2),a.lineTo(-p,-E/2),a.closePath(),a.restore(),this.__fillStroke(a)),this.pointerAtBeginning()&&(a.save(),a.beginPath(),a.translate(h[0],h[1]),u?(f=(c[0]+c[2])/2-h[0],_=(c[1]+c[3])/2-h[1]):(f=h[2]-h[0],_=h[3]-h[1]),a.rotate((Math.atan2(-_,-f)+l)%l),a.moveTo(0,0),a.lineTo(-p,E/2),a.lineTo(-p,-E/2),a.closePath(),a.restore(),this.__fillStroke(a))}__fillStroke(a){const l=this.dashEnabled();l&&(this.attrs.dashEnabled=!1,a.setLineDash([])),a.fillStrokeShape(this),l&&(this.attrs.dashEnabled=!0)}getSelfRect(){const a=super.getSelfRect(),l=this.pointerWidth()/2;return{x:a.x,y:a.y-l,width:a.width,height:a.height+l*2}}};return Bn.Arrow=s,s.prototype.className="Arrow",(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"pointerLength",10,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"pointerWidth",10,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"pointerAtBeginning",!1),t.Factory.addGetterSetter(s,"pointerAtEnding",!0),Bn}var Hn={},Ea;function Pf(){if(Ea)return Hn;Ea=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.Circle=void 0;const t=pt(),e=Ut(),n=mt(),i=gt();let r=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius()!==o/2&&this.radius(o/2)}setHeight(o){this.radius()!==o/2&&this.radius(o/2)}};return Hn.Circle=r,r.prototype._centroid=!0,r.prototype.className="Circle",r.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(r),t.Factory.addGetterSetter(r,"radius",0,(0,n.getNumberValidator)()),Hn}var zn={},Ta;function Ef(){if(Ta)return zn;Ta=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.Ellipse=void 0;const t=pt(),e=Ut(),n=mt(),i=gt();let r=class extends e.Shape{_sceneFunc(o){const a=this.radiusX(),l=this.radiusY();o.beginPath(),o.save(),a!==l&&o.scale(1,l/a),o.arc(0,0,a,0,Math.PI*2,!1),o.restore(),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(o){this.radiusX(o/2)}setHeight(o){this.radiusY(o/2)}};return zn.Ellipse=r,r.prototype.className="Ellipse",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,i._registerNode)(r),t.Factory.addComponentsGetterSetter(r,"radius",["x","y"]),t.Factory.addGetterSetter(r,"radiusX",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"radiusY",0,(0,n.getNumberValidator)()),zn}var $n={},Ra;function Tf(){if(Ra)return $n;Ra=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.Image=void 0;const t=Ot(),e=pt(),n=Ut(),i=gt(),r=mt();class s extends n.Shape{constructor(a){super(a),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",l=>{this._removeImageLoad(l.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const a=this.image();a&&a.complete||a&&a.readyState===4||a&&a.addEventListener&&a.addEventListener("load",this._loadListener)}_removeImageLoad(a){a&&a.removeEventListener&&a.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const a=!!this.cornerRadius(),l=this.hasShadow();return a&&l?!0:super._useBufferCanvas(!0)}_sceneFunc(a){const l=this.getWidth(),h=this.getHeight(),c=this.cornerRadius(),u=this.attrs.image;let p;if(u){const d=this.attrs.cropWidth,f=this.attrs.cropHeight;d&&f?p=[u,this.cropX(),this.cropY(),d,f,0,0,l,h]:p=[u,0,0,l,h]}(this.hasFill()||this.hasStroke()||c)&&(a.beginPath(),c?t.Util.drawRoundedRectPath(a,l,h,c):a.rect(0,0,l,h),a.closePath(),a.fillStrokeShape(this)),u&&(c&&a.clip(),a.drawImage.apply(a,p))}_hitFunc(a){const l=this.width(),h=this.height(),c=this.cornerRadius();a.beginPath(),c?t.Util.drawRoundedRectPath(a,l,h,c):a.rect(0,0,l,h),a.closePath(),a.fillStrokeShape(this)}getWidth(){var a,l;return(a=this.attrs.width)!==null&&a!==void 0?a:(l=this.image())===null||l===void 0?void 0:l.width}getHeight(){var a,l;return(a=this.attrs.height)!==null&&a!==void 0?a:(l=this.image())===null||l===void 0?void 0:l.height}static fromURL(a,l,h=null){const c=t.Util.createImageElement();c.onload=function(){const u=new s({image:c});l(u)},c.onerror=h,c.crossOrigin="Anonymous",c.src=a}}return $n.Image=s,s.prototype.className="Image",(0,i._registerNode)(s),e.Factory.addGetterSetter(s,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(s,"image"),e.Factory.addComponentsGetterSetter(s,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(s,"cropX",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(s,"cropY",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(s,"cropWidth",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(s,"cropHeight",0,(0,r.getNumberValidator)()),$n}var nn={},Aa;function Rf(){if(Aa)return nn;Aa=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.Tag=nn.Label=void 0;const t=pt(),e=Ut(),n=oo(),i=mt(),r=gt(),s=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],o="Change.konva",a="none",l="up",h="right",c="down",u="left",p=s.length;let d=class extends n.Group{constructor(b){super(b),this.on("add.konva",function(E){this._addListeners(E.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(b){let E=this,m;const g=function(){E._sync()};for(m=0;m<p;m++)b.on(s[m]+o,g)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let b=this.getText(),E=this.getTag(),m,g,y,C,T,L,P;if(b&&E){switch(m=b.width(),g=b.height(),y=E.pointerDirection(),C=E.pointerWidth(),P=E.pointerHeight(),T=0,L=0,y){case l:T=m/2,L=-1*P;break;case h:T=m+C,L=g/2;break;case c:T=m/2,L=g+P;break;case u:T=-1*C,L=g/2;break}E.setAttrs({x:-1*T,y:-1*L,width:m,height:g}),b.setAttrs({x:-1*T,y:-1*L})}}};nn.Label=d,d.prototype.className="Label",(0,r._registerNode)(d);class f extends e.Shape{_sceneFunc(b){const E=this.width(),m=this.height(),g=this.pointerDirection(),y=this.pointerWidth(),C=this.pointerHeight(),T=this.cornerRadius();let L=0,P=0,w=0,x=0;typeof T=="number"?L=P=w=x=Math.min(T,E/2,m/2):(L=Math.min(T[0]||0,E/2,m/2),P=Math.min(T[1]||0,E/2,m/2),x=Math.min(T[2]||0,E/2,m/2),w=Math.min(T[3]||0,E/2,m/2)),b.beginPath(),b.moveTo(L,0),g===l&&(b.lineTo((E-y)/2,0),b.lineTo(E/2,-1*C),b.lineTo((E+y)/2,0)),b.lineTo(E-P,0),b.arc(E-P,P,P,Math.PI*3/2,0,!1),g===h&&(b.lineTo(E,(m-C)/2),b.lineTo(E+y,m/2),b.lineTo(E,(m+C)/2)),b.lineTo(E,m-x),b.arc(E-x,m-x,x,0,Math.PI/2,!1),g===c&&(b.lineTo((E+y)/2,m),b.lineTo(E/2,m+C),b.lineTo((E-y)/2,m)),b.lineTo(w,m),b.arc(w,m-w,w,Math.PI/2,Math.PI,!1),g===u&&(b.lineTo(0,(m+C)/2),b.lineTo(-1*y,m/2),b.lineTo(0,(m-C)/2)),b.lineTo(0,L),b.arc(L,L,L,Math.PI,Math.PI*3/2,!1),b.closePath(),b.fillStrokeShape(this)}getSelfRect(){let b=0,E=0,m=this.pointerWidth(),g=this.pointerHeight(),y=this.pointerDirection(),C=this.width(),T=this.height();return y===l?(E-=g,T+=g):y===c?T+=g:y===u?(b-=m*1.5,C+=m):y===h&&(C+=m*1.5),{x:b,y:E,width:C,height:T}}}return nn.Tag=f,f.prototype.className="Tag",(0,r._registerNode)(f),t.Factory.addGetterSetter(f,"pointerDirection",a),t.Factory.addGetterSetter(f,"pointerWidth",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(f,"pointerHeight",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(f,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),nn}var jn={},Oa;function th(){if(Oa)return jn;Oa=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.Rect=void 0;const t=pt(),e=Ut(),n=gt(),i=Ot(),r=mt();let s=class extends e.Shape{_sceneFunc(a){const l=this.cornerRadius(),h=this.width(),c=this.height();a.beginPath(),l?i.Util.drawRoundedRectPath(a,h,c,l):a.rect(0,0,h,c),a.closePath(),a.fillStrokeShape(this)}};return jn.Rect=s,s.prototype.className="Rect",(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),jn}var Wn={},ka;function Af(){if(ka)return Wn;ka=1,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.RegularPolygon=void 0;const t=pt(),e=Ut(),n=mt(),i=gt();let r=class extends e.Shape{_sceneFunc(o){const a=this._getPoints();o.beginPath(),o.moveTo(a[0].x,a[0].y);for(let l=1;l<a.length;l++)o.lineTo(a[l].x,a[l].y);o.closePath(),o.fillStrokeShape(this)}_getPoints(){const o=this.attrs.sides,a=this.attrs.radius||0,l=[];for(let h=0;h<o;h++)l.push({x:a*Math.sin(h*2*Math.PI/o),y:-1*a*Math.cos(h*2*Math.PI/o)});return l}getSelfRect(){const o=this._getPoints();let a=o[0].x,l=o[0].y,h=o[0].x,c=o[0].y;return o.forEach(u=>{a=Math.min(a,u.x),l=Math.max(l,u.x),h=Math.min(h,u.y),c=Math.max(c,u.y)}),{x:a,y:h,width:l-a,height:c-h}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return Wn.RegularPolygon=r,r.prototype.className="RegularPolygon",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(r),t.Factory.addGetterSetter(r,"radius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"sides",0,(0,n.getNumberValidator)()),Wn}var qn={},Fa;function Of(){if(Fa)return qn;Fa=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.Ring=void 0;const t=pt(),e=Ut(),n=mt(),i=gt(),r=Math.PI*2;let s=class extends e.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.innerRadius(),0,r,!1),a.moveTo(this.outerRadius(),0),a.arc(0,0,this.outerRadius(),r,0,!0),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}};return qn.Ring=s,s.prototype.className="Ring",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"innerRadius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"outerRadius",0,(0,n.getNumberValidator)()),qn}var Kn={},Ma;function kf(){if(Ma)return Kn;Ma=1,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.Sprite=void 0;const t=pt(),e=Ut(),n=ao(),i=mt(),r=gt();let s=class extends e.Shape{constructor(a){super(a),this._updated=!0,this.anim=new n.Animation(()=>{const l=this._updated;return this._updated=!1,l}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(a){const l=this.animation(),h=this.frameIndex(),c=h*4,u=this.animations()[l],p=this.frameOffsets(),d=u[c+0],f=u[c+1],_=u[c+2],b=u[c+3],E=this.image();if((this.hasFill()||this.hasStroke())&&(a.beginPath(),a.rect(0,0,_,b),a.closePath(),a.fillStrokeShape(this)),E)if(p){const m=p[l],g=h*2;a.drawImage(E,d,f,_,b,m[g+0],m[g+1],_,b)}else a.drawImage(E,d,f,_,b,0,0,_,b)}_hitFunc(a){const l=this.animation(),h=this.frameIndex(),c=h*4,u=this.animations()[l],p=this.frameOffsets(),d=u[c+2],f=u[c+3];if(a.beginPath(),p){const _=p[l],b=h*2;a.rect(_[b+0],_[b+1],d,f)}else a.rect(0,0,d,f);a.closePath(),a.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const a=this;this.interval=setInterval(function(){a._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const a=this.getLayer();this.anim.setLayers(a),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const a=this.frameIndex(),l=this.animation(),h=this.animations(),c=h[l],u=c.length/4;a<u-1?this.frameIndex(a+1):this.frameIndex(0)}};return Kn.Sprite=s,s.prototype.className="Sprite",(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"animation"),t.Factory.addGetterSetter(s,"animations"),t.Factory.addGetterSetter(s,"frameOffsets"),t.Factory.addGetterSetter(s,"image"),t.Factory.addGetterSetter(s,"frameIndex",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"frameRate",17,(0,i.getNumberValidator)()),t.Factory.backCompat(s,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Kn}var Yn={},Na;function Ff(){if(Na)return Yn;Na=1,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.Star=void 0;const t=pt(),e=Ut(),n=mt(),i=gt();let r=class extends e.Shape{_sceneFunc(o){const a=this.innerRadius(),l=this.outerRadius(),h=this.numPoints();o.beginPath(),o.moveTo(0,0-l);for(let c=1;c<h*2;c++){const u=c%2===0?l:a,p=u*Math.sin(c*Math.PI/h),d=-1*u*Math.cos(c*Math.PI/h);o.lineTo(p,d)}o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return Yn.Star=r,r.prototype.className="Star",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(r),t.Factory.addGetterSetter(r,"numPoints",5,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"innerRadius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"outerRadius",0,(0,n.getNumberValidator)()),Yn}var un={},Ia;function eh(){if(Ia)return un;Ia=1,Object.defineProperty(un,"__esModule",{value:!0}),un.Text=void 0,un.stringToArray=o;const t=Ot(),e=pt(),n=Ut(),i=gt(),r=mt(),s=gt();function o(Y){return[...Y].reduce((z,X,nt,st)=>{if(new RegExp("\\p{Emoji}","u").test(X)){const O=st[nt+1];O&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(O)?(z.push(X+O),st[nt+1]=""):z.push(X)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(X+(st[nt+1]||""))?z.push(X+st[nt+1]):nt>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(X)?z[z.length-1]+=X:X&&z.push(X);return z},[])}const a="auto",l="center",h="inherit",c="justify",u="Change.konva",p="2d",d="-",f="left",_="text",b="Text",E="top",m="bottom",g="middle",y="normal",C="px ",T=" ",L="right",P="rtl",w="word",x="char",k="none",N="…",v=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],R=v.length;function S(Y){return Y.split(",").map(z=>{z=z.trim();const X=z.indexOf(" ")>=0,nt=z.indexOf('"')>=0||z.indexOf("'")>=0;return X&&!nt&&(z=`"${z}"`),z}).join(", ")}let A;function F(){return A||(A=t.Util.createCanvasElement().getContext(p),A)}function D(Y){Y.fillText(this._partialText,this._partialTextX,this._partialTextY)}function j(Y){Y.setAttr("miterLimit",2),Y.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function H(Y){return Y=Y||{},!Y.fillLinearGradientColorStops&&!Y.fillRadialGradientColorStops&&!Y.fillPatternImage&&(Y.fill=Y.fill||"black"),Y}let U=class extends n.Shape{constructor(z){super(H(z)),this._partialTextX=0,this._partialTextY=0;for(let X=0;X<R;X++)this.on(v[X]+u,this._setTextData);this._setTextData()}_sceneFunc(z){const X=this.textArr,nt=X.length;if(!this.text())return;let st=this.padding(),O=this.fontSize(),G=this.lineHeight()*O,V=this.verticalAlign(),W=this.direction(),tt=0,M=this.align(),I=this.getWidth(),B=this.letterSpacing(),$=this.fill(),K=this.textDecoration(),q=K.indexOf("underline")!==-1,Q=K.indexOf("line-through")!==-1,it;W=W===h?z.direction:W;let et=G/2,Z=g;if(i.Konva._fixTextRendering){const Rt=this.measureSize("M");Z="alphabetic",et=(Rt.fontBoundingBoxAscent-Rt.fontBoundingBoxDescent)/2+G/2}var ot=0,rt=0;for(W===P&&z.setAttr("direction",W),z.setAttr("font",this._getContextFont()),z.setAttr("textBaseline",Z),z.setAttr("textAlign",f),V===g?tt=(this.getHeight()-nt*G-st*2)/2:V===m&&(tt=this.getHeight()-nt*G-st*2),z.translate(st,tt+st),it=0;it<nt;it++){var ot=0,rt=0,at=X[it],lt=at.text,ct=at.width,vt=at.lastInParagraph,ft,kt;if(z.save(),M===L?ot+=I-ct-st*2:M===l&&(ot+=(I-ct-st*2)/2),q){z.save(),z.beginPath();const Ft=i.Konva._fixTextRendering?Math.round(O/4):Math.round(O/2),jt=ot,Jt=et+rt+Ft;z.moveTo(jt,Jt),ft=lt.split(" ").length-1,kt=M===c&&!vt?I-st*2:ct,z.lineTo(jt+Math.round(kt),Jt),z.lineWidth=O/15;const Vt=this._getLinearGradient();z.strokeStyle=Vt||$,z.stroke(),z.restore()}if(Q){z.save(),z.beginPath();const Ft=i.Konva._fixTextRendering?-Math.round(O/4):0;z.moveTo(ot,et+rt+Ft),ft=lt.split(" ").length-1,kt=M===c&&!vt?I-st*2:ct,z.lineTo(ot+Math.round(kt),et+rt+Ft),z.lineWidth=O/15;const jt=this._getLinearGradient();z.strokeStyle=jt||$,z.stroke(),z.restore()}if(W!==P&&(B!==0||M===c)){ft=lt.split(" ").length-1;const Ft=o(lt);for(let jt=0;jt<Ft.length;jt++){const Jt=Ft[jt];Jt===" "&&!vt&&M===c&&(ot+=(I-st*2-ct)/ft),this._partialTextX=ot,this._partialTextY=et+rt,this._partialText=Jt,z.fillStrokeShape(this),ot+=this.measureSize(Jt).width+B}}else B!==0&&z.setAttr("letterSpacing",`${B}px`),this._partialTextX=ot,this._partialTextY=et+rt,this._partialText=lt,z.fillStrokeShape(this);z.restore(),nt>1&&(et+=G)}}_hitFunc(z){const X=this.getWidth(),nt=this.getHeight();z.beginPath(),z.rect(0,0,X,nt),z.closePath(),z.fillStrokeShape(this)}setText(z){const X=t.Util._isString(z)?z:z==null?"":z+"";return this._setAttr(_,X),this}getWidth(){return this.attrs.width===a||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===a||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(z){var X,nt,st,O,G,V,W,tt,M,I,B;let $=F(),K=this.fontSize(),q;$.save(),$.font=this._getContextFont(),q=$.measureText(z),$.restore();const Q=K/100;return{actualBoundingBoxAscent:(X=q.actualBoundingBoxAscent)!==null&&X!==void 0?X:71.58203125*Q,actualBoundingBoxDescent:(nt=q.actualBoundingBoxDescent)!==null&&nt!==void 0?nt:0,actualBoundingBoxLeft:(st=q.actualBoundingBoxLeft)!==null&&st!==void 0?st:-7.421875*Q,actualBoundingBoxRight:(O=q.actualBoundingBoxRight)!==null&&O!==void 0?O:75.732421875*Q,alphabeticBaseline:(G=q.alphabeticBaseline)!==null&&G!==void 0?G:0,emHeightAscent:(V=q.emHeightAscent)!==null&&V!==void 0?V:100*Q,emHeightDescent:(W=q.emHeightDescent)!==null&&W!==void 0?W:-20*Q,fontBoundingBoxAscent:(tt=q.fontBoundingBoxAscent)!==null&&tt!==void 0?tt:91*Q,fontBoundingBoxDescent:(M=q.fontBoundingBoxDescent)!==null&&M!==void 0?M:21*Q,hangingBaseline:(I=q.hangingBaseline)!==null&&I!==void 0?I:72.80000305175781*Q,ideographicBaseline:(B=q.ideographicBaseline)!==null&&B!==void 0?B:-21*Q,width:q.width,height:K}}_getContextFont(){return this.fontStyle()+T+this.fontVariant()+T+(this.fontSize()+C)+S(this.fontFamily())}_addTextLine(z){this.align()===c&&(z=z.trim());const nt=this._getTextWidth(z);return this.textArr.push({text:z,width:nt,lastInParagraph:!1})}_getTextWidth(z){const X=this.letterSpacing(),nt=z.length;return F().measureText(z).width+X*nt}_setTextData(){let z=this.text().split(`
`),X=+this.fontSize(),nt=0,st=this.lineHeight()*X,O=this.attrs.width,G=this.attrs.height,V=O!==a&&O!==void 0,W=G!==a&&G!==void 0,tt=this.padding(),M=O-tt*2,I=G-tt*2,B=0,$=this.wrap(),K=$!==k,q=$!==x&&K,Q=this.ellipsis();this.textArr=[],F().font=this._getContextFont();const it=Q?this._getTextWidth(N):0;for(let et=0,Z=z.length;et<Z;++et){let ot=z[et],rt=this._getTextWidth(ot);if(V&&rt>M)for(;ot.length>0;){let at=0,lt=o(ot).length,ct="",vt=0;for(;at<lt;){const ft=at+lt>>>1,kt=o(ot),Rt=kt.slice(0,ft+1).join(""),Gt=this._getTextWidth(Rt)+it;Gt<=M?(at=ft+1,ct=Rt,vt=Gt):lt=ft}if(ct){if(q){const Rt=o(ot),Gt=o(ct),Ft=Rt[Gt.length],jt=Ft===T||Ft===d;let Jt;if(jt&&vt<=M)Jt=Gt.length;else{const Vt=Gt.lastIndexOf(T),ue=Gt.lastIndexOf(d);Jt=Math.max(Vt,ue)+1}Jt>0&&(at=Jt,ct=Rt.slice(0,at).join(""),vt=this._getTextWidth(ct))}if(ct=ct.trimRight(),this._addTextLine(ct),nt=Math.max(nt,vt),B+=st,this._shouldHandleEllipsis(B)){this._tryToAddEllipsisToLastLine();break}if(ot=o(ot).slice(at).join("").trimLeft(),ot.length>0&&(rt=this._getTextWidth(ot),rt<=M)){this._addTextLine(ot),B+=st,nt=Math.max(nt,rt);break}}else break}else this._addTextLine(ot),B+=st,nt=Math.max(nt,rt),this._shouldHandleEllipsis(B)&&et<Z-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),W&&B+st>I)break}this.textHeight=X,this.textWidth=nt}_shouldHandleEllipsis(z){const X=+this.fontSize(),nt=this.lineHeight()*X,st=this.attrs.height,O=st!==a&&st!==void 0,G=this.padding(),V=st-G*2;return!(this.wrap()!==k)||O&&z+nt>V}_tryToAddEllipsisToLastLine(){const z=this.attrs.width,X=z!==a&&z!==void 0,nt=this.padding(),st=z-nt*2,O=this.ellipsis(),G=this.textArr[this.textArr.length-1];!G||!O||(X&&(this._getTextWidth(G.text+N)<st||(G.text=G.text.slice(0,G.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(G.text+N))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const z=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,X=this.hasShadow();return z&&X?!0:super._useBufferCanvas()}};return un.Text=U,U.prototype._fillFunc=D,U.prototype._strokeFunc=j,U.prototype.className=b,U.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,s._registerNode)(U),e.Factory.overWriteSetter(U,"width",(0,r.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(U,"height",(0,r.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(U,"direction",h),e.Factory.addGetterSetter(U,"fontFamily","Arial"),e.Factory.addGetterSetter(U,"fontSize",12,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(U,"fontStyle",y),e.Factory.addGetterSetter(U,"fontVariant",y),e.Factory.addGetterSetter(U,"padding",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(U,"align",f),e.Factory.addGetterSetter(U,"verticalAlign",E),e.Factory.addGetterSetter(U,"lineHeight",1,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(U,"wrap",w),e.Factory.addGetterSetter(U,"ellipsis",!1,(0,r.getBooleanValidator)()),e.Factory.addGetterSetter(U,"letterSpacing",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(U,"text","",(0,r.getStringValidator)()),e.Factory.addGetterSetter(U,"textDecoration",""),un}var Xn={},La;function Mf(){if(La)return Xn;La=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.TextPath=void 0;const t=Ot(),e=pt(),n=Ut(),i=lo(),r=eh(),s=mt(),o=gt(),a="",l="normal";function h(p){p.fillText(this.partialText,0,0)}function c(p){p.strokeText(this.partialText,0,0)}let u=class extends n.Shape{constructor(d){super(d),this.dummyCanvas=t.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return i.Path.getPathLength(this.dataArray)}_getPointAtLength(d){if(!this.attrs.data)return null;const f=this.pathLength;return d-1>f?null:i.Path.getPointAtLengthOfDataArray(d,this.dataArray)}_readDataAttribute(){this.dataArray=i.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(d){d.setAttr("font",this._getContextFont()),d.setAttr("textBaseline",this.textBaseline()),d.setAttr("textAlign","left"),d.save();const f=this.textDecoration(),_=this.fill(),b=this.fontSize(),E=this.glyphInfo;f==="underline"&&d.beginPath();for(let m=0;m<E.length;m++){d.save();const g=E[m].p0;d.translate(g.x,g.y),d.rotate(E[m].rotation),this.partialText=E[m].text,d.fillStrokeShape(this),f==="underline"&&(m===0&&d.moveTo(0,b/2+1),d.lineTo(b,b/2+1)),d.restore()}f==="underline"&&(d.strokeStyle=_,d.lineWidth=b/20,d.stroke()),d.restore()}_hitFunc(d){d.beginPath();const f=this.glyphInfo;if(f.length>=1){const _=f[0].p0;d.moveTo(_.x,_.y)}for(let _=0;_<f.length;_++){const b=f[_].p1;d.lineTo(b.x,b.y)}d.setAttr("lineWidth",this.fontSize()),d.setAttr("strokeStyle",this.colorKey),d.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(d){return r.Text.prototype.setText.call(this,d)}_getContextFont(){return r.Text.prototype._getContextFont.call(this)}_getTextSize(d){const _=this.dummyCanvas.getContext("2d");_.save(),_.font=this._getContextFont();const b=_.measureText(d);return _.restore(),{width:b.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:d,height:f}=this._getTextSize(this.attrs.text);if(this.textWidth=d,this.textHeight=f,this.glyphInfo=[],!this.attrs.data)return null;const _=this.letterSpacing(),b=this.align(),E=this.kerningFunc(),m=Math.max(this.textWidth+((this.attrs.text||"").length-1)*_,0);let g=0;b==="center"&&(g=Math.max(0,this.pathLength/2-m/2)),b==="right"&&(g=Math.max(0,this.pathLength-m));const y=(0,r.stringToArray)(this.text());let C=g;for(let T=0;T<y.length;T++){const L=this._getPointAtLength(C);if(!L)return;let P=this._getTextSize(y[T]).width+_;if(y[T]===" "&&b==="justify"){const R=this.text().split(" ").length-1;P+=(this.pathLength-m)/R}const w=this._getPointAtLength(C+P);if(!w)return;const x=i.Path.getLineLength(L.x,L.y,w.x,w.y);let k=0;if(E)try{k=E(y[T-1],y[T])*this.fontSize()}catch{k=0}L.x+=k,w.x+=k,this.textWidth+=k;const N=i.Path.getPointOnLine(k+x/2,L.x,L.y,w.x,w.y),v=Math.atan2(w.y-L.y,w.x-L.x);this.glyphInfo.push({transposeX:N.x,transposeY:N.y,text:y[T],rotation:v,p0:L,p1:w}),C+=P}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const d=[];this.glyphInfo.forEach(function(C){d.push(C.p0.x),d.push(C.p0.y),d.push(C.p1.x),d.push(C.p1.y)});let f=d[0]||0,_=d[0]||0,b=d[1]||0,E=d[1]||0,m,g;for(let C=0;C<d.length/2;C++)m=d[C*2],g=d[C*2+1],f=Math.min(f,m),_=Math.max(_,m),b=Math.min(b,g),E=Math.max(E,g);const y=this.fontSize();return{x:f-y/2,y:b-y/2,width:_-f+y,height:E-b+y}}destroy(){return t.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Xn.TextPath=u,u.prototype._fillFunc=h,u.prototype._strokeFunc=c,u.prototype._fillFuncHit=h,u.prototype._strokeFuncHit=c,u.prototype.className="TextPath",u.prototype._attrsAffectingSize=["text","fontSize","data"],(0,o._registerNode)(u),e.Factory.addGetterSetter(u,"data"),e.Factory.addGetterSetter(u,"fontFamily","Arial"),e.Factory.addGetterSetter(u,"fontSize",12,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(u,"fontStyle",l),e.Factory.addGetterSetter(u,"align","left"),e.Factory.addGetterSetter(u,"letterSpacing",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(u,"textBaseline","middle"),e.Factory.addGetterSetter(u,"fontVariant",l),e.Factory.addGetterSetter(u,"text",a),e.Factory.addGetterSetter(u,"textDecoration",""),e.Factory.addGetterSetter(u,"kerningFunc",void 0),Xn}var Zn={},Da;function Nf(){if(Da)return Zn;Da=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.Transformer=void 0;const t=Ot(),e=pt(),n=Mt(),i=Ut(),r=th(),s=oo(),o=gt(),a=mt(),l=gt(),h="tr-konva",c=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(P=>P+`.${h}`).join(" "),u="nodesRect",p=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],d={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},f="ontouchstart"in o.Konva._global;function _(P,w,x){if(P==="rotater")return x;w+=t.Util.degToRad(d[P]||0);const k=(t.Util.radToDeg(w)%360+360)%360;return t.Util._inRange(k,315+22.5,360)||t.Util._inRange(k,0,22.5)?"ns-resize":t.Util._inRange(k,45-22.5,45+22.5)?"nesw-resize":t.Util._inRange(k,90-22.5,90+22.5)?"ew-resize":t.Util._inRange(k,135-22.5,135+22.5)?"nwse-resize":t.Util._inRange(k,180-22.5,180+22.5)?"ns-resize":t.Util._inRange(k,225-22.5,225+22.5)?"nesw-resize":t.Util._inRange(k,270-22.5,270+22.5)?"ew-resize":t.Util._inRange(k,315-22.5,315+22.5)?"nwse-resize":(t.Util.error("Transformer has unknown angle for cursor detection: "+k),"pointer")}const b=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function E(P){return{x:P.x+P.width/2*Math.cos(P.rotation)+P.height/2*Math.sin(-P.rotation),y:P.y+P.height/2*Math.cos(P.rotation)+P.width/2*Math.sin(P.rotation)}}function m(P,w,x){const k=x.x+(P.x-x.x)*Math.cos(w)-(P.y-x.y)*Math.sin(w),N=x.y+(P.x-x.x)*Math.sin(w)+(P.y-x.y)*Math.cos(w);return{...P,rotation:P.rotation+w,x:k,y:N}}function g(P,w){const x=E(P);return m(P,w,x)}function y(P,w,x){let k=w;for(let N=0;N<P.length;N++){const v=o.Konva.getAngle(P[N]),R=Math.abs(v-w)%(Math.PI*2);Math.min(R,Math.PI*2-R)<x&&(k=v)}return k}let C=0,T=class extends s.Group{constructor(w){super(w),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(c,this.update),this.getNode()&&this.update()}attachTo(w){return this.setNode(w),this}setNode(w){return t.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([w])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return h+this._id}setNodes(w=[]){this._nodes&&this._nodes.length&&this.detach();const x=w.filter(N=>N.isAncestorOf(this)?(t.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=w=x,w.length===1&&this.useSingleNodeRotation()?this.rotation(w[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(N=>{const v=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(N._attrsAffectingSize.length){const R=N._attrsAffectingSize.map(S=>S+"Change."+this._getEventNamespace()).join(" ");N.on(R,v)}N.on(p.map(R=>R+`.${this._getEventNamespace()}`).join(" "),v),N.on(`absoluteTransformChange.${this._getEventNamespace()}`,v),this._proxyDrag(N)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(w){let x;w.on(`dragstart.${this._getEventNamespace()}`,k=>{x=w.getAbsolutePosition(),!this.isDragging()&&w!==this.findOne(".back")&&this.startDrag(k,!1)}),w.on(`dragmove.${this._getEventNamespace()}`,k=>{if(!x)return;const N=w.getAbsolutePosition(),v=N.x-x.x,R=N.y-x.y;this.nodes().forEach(S=>{if(S===w||S.isDragging())return;const A=S.getAbsolutePosition();S.setAbsolutePosition({x:A.x+v,y:A.y+R}),S.startDrag(k)}),x=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(w=>{w.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(u),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(u,this.__getNodeRect)}__getNodeShape(w,x=this.rotation(),k){const N=w.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),v=w.getAbsoluteScale(k),R=w.getAbsolutePosition(k),S=N.x*v.x-w.offsetX()*v.x,A=N.y*v.y-w.offsetY()*v.y,F=(o.Konva.getAngle(w.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),D={x:R.x+S*Math.cos(F)+A*Math.sin(-F),y:R.y+A*Math.cos(F)+S*Math.sin(F),width:N.width*v.x,height:N.height*v.y,rotation:F};return m(D,-o.Konva.getAngle(x),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const x=[];this.nodes().map(F=>{const D=F.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),j=[{x:D.x,y:D.y},{x:D.x+D.width,y:D.y},{x:D.x+D.width,y:D.y+D.height},{x:D.x,y:D.y+D.height}],H=F.getAbsoluteTransform();j.forEach(function(U){const Y=H.point(U);x.push(Y)})});const k=new t.Transform;k.rotate(-o.Konva.getAngle(this.rotation()));let N=1/0,v=1/0,R=-1/0,S=-1/0;x.forEach(function(F){const D=k.point(F);N===void 0&&(N=R=D.x,v=S=D.y),N=Math.min(N,D.x),v=Math.min(v,D.y),R=Math.max(R,D.x),S=Math.max(S,D.y)}),k.invert();const A=k.point({x:N,y:v});return{x:A.x,y:A.y,width:R-N,height:S-v,rotation:o.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),b.forEach(w=>{this._createAnchor(w)}),this._createAnchor("rotater")}_createAnchor(w){const x=new r.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:w+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:f?10:"auto"}),k=this;x.on("mousedown touchstart",function(N){k._handleMouseDown(N)}),x.on("dragstart",N=>{x.stopDrag(),N.cancelBubble=!0}),x.on("dragend",N=>{N.cancelBubble=!0}),x.on("mouseenter",()=>{const N=o.Konva.getAngle(this.rotation()),v=this.rotateAnchorCursor(),R=_(w,N,v);x.getStage().content&&(x.getStage().content.style.cursor=R),this._cursorChange=!0}),x.on("mouseout",()=>{x.getStage().content&&(x.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(x)}_createBack(){const w=new i.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(x,k){const N=k.getParent(),v=N.padding();x.beginPath(),x.rect(-v,-v,k.width()+v*2,k.height()+v*2),x.moveTo(k.width()/2,-v),N.rotateEnabled()&&N.rotateLineVisible()&&x.lineTo(k.width()/2,-N.rotateAnchorOffset()*t.Util._sign(k.height())-v),x.fillStrokeShape(k)},hitFunc:(x,k)=>{if(!this.shouldOverdrawWholeArea())return;const N=this.padding();x.beginPath(),x.rect(-N,-N,k.width()+N*2,k.height()+N*2),x.fillStrokeShape(k)}});this.add(w),this._proxyDrag(w),w.on("dragstart",x=>{x.cancelBubble=!0}),w.on("dragmove",x=>{x.cancelBubble=!0}),w.on("dragend",x=>{x.cancelBubble=!0}),this.on("dragmove",x=>{this.update()})}_handleMouseDown(w){if(this._transforming)return;this._movingAnchorName=w.target.name().split(" ")[0];const x=this._getNodeRect(),k=x.width,N=x.height,v=Math.sqrt(Math.pow(k,2)+Math.pow(N,2));this.sin=Math.abs(N/v),this.cos=Math.abs(k/v),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const R=w.target.getAbsolutePosition(),S=w.target.getStage().getPointerPosition();this._anchorDragOffset={x:S.x-R.x,y:S.y-R.y},C++,this._fire("transformstart",{evt:w.evt,target:this.getNode()}),this._nodes.forEach(A=>{A._fire("transformstart",{evt:w.evt,target:A})})}_handleMouseMove(w){let x,k,N;const v=this.findOne("."+this._movingAnchorName),R=v.getStage();R.setPointersPositions(w);const S=R.getPointerPosition();let A={x:S.x-this._anchorDragOffset.x,y:S.y-this._anchorDragOffset.y};const F=v.getAbsolutePosition();this.anchorDragBoundFunc()&&(A=this.anchorDragBoundFunc()(F,A,w)),v.setAbsolutePosition(A);const D=v.getAbsolutePosition();if(F.x===D.x&&F.y===D.y)return;if(this._movingAnchorName==="rotater"){const V=this._getNodeRect();x=v.x()-V.width/2,k=-v.y()+V.height/2;let W=Math.atan2(-k,x)+Math.PI/2;V.height<0&&(W-=Math.PI);const M=o.Konva.getAngle(this.rotation())+W,I=o.Konva.getAngle(this.rotationSnapTolerance()),$=y(this.rotationSnaps(),M,I)-V.rotation,K=g(V,$);this._fitNodesInto(K,w);return}const j=this.shiftBehavior();let H;j==="inverted"?H=this.keepRatio()&&!w.shiftKey:j==="none"?H=this.keepRatio():H=this.keepRatio()||w.shiftKey;var nt=this.centeredScaling()||w.altKey;if(this._movingAnchorName==="top-left"){if(H){var U=nt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};N=Math.sqrt(Math.pow(U.x-v.x(),2)+Math.pow(U.y-v.y(),2));var Y=this.findOne(".top-left").x()>U.x?-1:1,z=this.findOne(".top-left").y()>U.y?-1:1;x=N*this.cos*Y,k=N*this.sin*z,this.findOne(".top-left").x(U.x-x),this.findOne(".top-left").y(U.y-k)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(v.y());else if(this._movingAnchorName==="top-right"){if(H){var U=nt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};N=Math.sqrt(Math.pow(v.x()-U.x,2)+Math.pow(U.y-v.y(),2));var Y=this.findOne(".top-right").x()<U.x?-1:1,z=this.findOne(".top-right").y()>U.y?-1:1;x=N*this.cos*Y,k=N*this.sin*z,this.findOne(".top-right").x(U.x+x),this.findOne(".top-right").y(U.y-k)}var X=v.position();this.findOne(".top-left").y(X.y),this.findOne(".bottom-right").x(X.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(v.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(v.x());else if(this._movingAnchorName==="bottom-left"){if(H){var U=nt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};N=Math.sqrt(Math.pow(U.x-v.x(),2)+Math.pow(v.y()-U.y,2));var Y=U.x<v.x()?-1:1,z=v.y()<U.y?-1:1;x=N*this.cos*Y,k=N*this.sin*z,v.x(U.x-x),v.y(U.y+k)}X=v.position(),this.findOne(".top-left").x(X.x),this.findOne(".bottom-right").y(X.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(v.y());else if(this._movingAnchorName==="bottom-right"){if(H){var U=nt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};N=Math.sqrt(Math.pow(v.x()-U.x,2)+Math.pow(v.y()-U.y,2));var Y=this.findOne(".bottom-right").x()<U.x?-1:1,z=this.findOne(".bottom-right").y()<U.y?-1:1;x=N*this.cos*Y,k=N*this.sin*z,this.findOne(".bottom-right").x(U.x+x),this.findOne(".bottom-right").y(U.y+k)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var nt=this.centeredScaling()||w.altKey;if(nt){const V=this.findOne(".top-left"),W=this.findOne(".bottom-right"),tt=V.x(),M=V.y(),I=this.getWidth()-W.x(),B=this.getHeight()-W.y();W.move({x:-tt,y:-M}),V.move({x:I,y:B})}const st=this.findOne(".top-left").getAbsolutePosition();x=st.x,k=st.y;const O=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),G=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x,y:k,width:O,height:G,rotation:o.Konva.getAngle(this.rotation())},w)}_handleMouseUp(w){this._removeEvents(w)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(w){var x;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const k=this.getNode();C--,this._fire("transformend",{evt:w,target:k}),(x=this.getLayer())===null||x===void 0||x.batchDraw(),k&&this._nodes.forEach(N=>{var v;N._fire("transformend",{evt:w,target:N}),(v=N.getLayer())===null||v===void 0||v.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(w,x){const k=this._getNodeRect(),N=1;if(t.Util._inRange(w.width,-this.padding()*2-N,N)){this.update();return}if(t.Util._inRange(w.height,-this.padding()*2-N,N)){this.update();return}const v=new t.Transform;if(v.rotate(o.Konva.getAngle(this.rotation())),this._movingAnchorName&&w.width<0&&this._movingAnchorName.indexOf("left")>=0){const H=v.point({x:-this.padding()*2,y:0});w.x+=H.x,w.y+=H.y,w.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=H.x,this._anchorDragOffset.y-=H.y}else if(this._movingAnchorName&&w.width<0&&this._movingAnchorName.indexOf("right")>=0){const H=v.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=H.x,this._anchorDragOffset.y-=H.y,w.width+=this.padding()*2}if(this._movingAnchorName&&w.height<0&&this._movingAnchorName.indexOf("top")>=0){const H=v.point({x:0,y:-this.padding()*2});w.x+=H.x,w.y+=H.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=H.x,this._anchorDragOffset.y-=H.y,w.height+=this.padding()*2}else if(this._movingAnchorName&&w.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const H=v.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=H.x,this._anchorDragOffset.y-=H.y,w.height+=this.padding()*2}if(this.boundBoxFunc()){const H=this.boundBoxFunc()(k,w);H?w=H:t.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const R=1e7,S=new t.Transform;S.translate(k.x,k.y),S.rotate(k.rotation),S.scale(k.width/R,k.height/R);const A=new t.Transform,F=w.width/R,D=w.height/R;this.flipEnabled()===!1?(A.translate(w.x,w.y),A.rotate(w.rotation),A.translate(w.width<0?w.width:0,w.height<0?w.height:0),A.scale(Math.abs(F),Math.abs(D))):(A.translate(w.x,w.y),A.rotate(w.rotation),A.scale(F,D));const j=A.multiply(S.invert());this._nodes.forEach(H=>{var U;const Y=H.getParent().getAbsoluteTransform(),z=H.getTransform().copy();z.translate(H.offsetX(),H.offsetY());const X=new t.Transform;X.multiply(Y.copy().invert()).multiply(j).multiply(Y).multiply(z);const nt=X.decompose();H.setAttrs(nt),(U=H.getLayer())===null||U===void 0||U.batchDraw()}),this.rotation(t.Util._getRotation(w.rotation)),this._nodes.forEach(H=>{this._fire("transform",{evt:x,target:H}),H._fire("transform",{evt:x,target:H})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(w,x){this.findOne(w).setAttrs(x)}update(){var w;const x=this._getNodeRect();this.rotation(t.Util._getRotation(x.rotation));const k=x.width,N=x.height,v=this.enabledAnchors(),R=this.resizeEnabled(),S=this.padding(),A=this.anchorSize(),F=this.find("._anchor");F.forEach(j=>{j.setAttrs({width:A,height:A,offsetX:A/2,offsetY:A/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:A/2+S,offsetY:A/2+S,visible:R&&v.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:k/2,y:0,offsetY:A/2+S,visible:R&&v.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:k,y:0,offsetX:A/2-S,offsetY:A/2+S,visible:R&&v.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:N/2,offsetX:A/2+S,visible:R&&v.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:k,y:N/2,offsetX:A/2-S,visible:R&&v.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:N,offsetX:A/2+S,offsetY:A/2-S,visible:R&&v.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:k/2,y:N,offsetY:A/2-S,visible:R&&v.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:k,y:N,offsetX:A/2-S,offsetY:A/2-S,visible:R&&v.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:k/2,y:-this.rotateAnchorOffset()*t.Util._sign(N)-S,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:k,height:N,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const D=this.anchorStyleFunc();D&&F.forEach(j=>{D(j)}),(w=this.getLayer())===null||w===void 0||w.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const w=this.findOne("."+this._movingAnchorName);w&&w.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),s.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return n.Node.prototype.toObject.call(this)}clone(w){return n.Node.prototype.clone.call(this,w)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Zn.Transformer=T,T.isTransforming=()=>C>0;function L(P){return P instanceof Array||t.Util.warn("enabledAnchors value should be an array"),P instanceof Array&&P.forEach(function(w){b.indexOf(w)===-1&&t.Util.warn("Unknown anchor name: "+w+". Available names are: "+b.join(", "))}),P||[]}return T.prototype.className="Transformer",(0,l._registerNode)(T),e.Factory.addGetterSetter(T,"enabledAnchors",b,L),e.Factory.addGetterSetter(T,"flipEnabled",!0,(0,a.getBooleanValidator)()),e.Factory.addGetterSetter(T,"resizeEnabled",!0),e.Factory.addGetterSetter(T,"anchorSize",10,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(T,"rotateEnabled",!0),e.Factory.addGetterSetter(T,"rotateLineVisible",!0),e.Factory.addGetterSetter(T,"rotationSnaps",[]),e.Factory.addGetterSetter(T,"rotateAnchorOffset",50,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(T,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(T,"rotationSnapTolerance",5,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(T,"borderEnabled",!0),e.Factory.addGetterSetter(T,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(T,"anchorStrokeWidth",1,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(T,"anchorFill","white"),e.Factory.addGetterSetter(T,"anchorCornerRadius",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(T,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(T,"borderStrokeWidth",1,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(T,"borderDash"),e.Factory.addGetterSetter(T,"keepRatio",!0),e.Factory.addGetterSetter(T,"shiftBehavior","default"),e.Factory.addGetterSetter(T,"centeredScaling",!1),e.Factory.addGetterSetter(T,"ignoreStroke",!1),e.Factory.addGetterSetter(T,"padding",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(T,"nodes"),e.Factory.addGetterSetter(T,"node"),e.Factory.addGetterSetter(T,"boundBoxFunc"),e.Factory.addGetterSetter(T,"anchorDragBoundFunc"),e.Factory.addGetterSetter(T,"anchorStyleFunc"),e.Factory.addGetterSetter(T,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(T,"useSingleNodeRotation",!0),e.Factory.backCompat(T,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Zn}var Qn={},Ga;function If(){if(Ga)return Qn;Ga=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.Wedge=void 0;const t=pt(),e=Ut(),n=gt(),i=mt(),r=gt();let s=class extends e.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.radius(),0,n.Konva.getAngle(this.angle()),this.clockwise()),a.lineTo(0,0),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius(a/2)}setHeight(a){this.radius(a/2)}};return Qn.Wedge=s,s.prototype.className="Wedge",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"angle",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"clockwise",!1),t.Factory.backCompat(s,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Qn}var Jn={},Ba;function Lf(){if(Ba)return Jn;Ba=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.Blur=void 0;const t=pt(),e=Mt(),n=mt();function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const r=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],s=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function o(l,h){const c=l.data,u=l.width,p=l.height;let d,f,_,b,E,m,g,y,C,T,L,P,w,x,k,N,v,R,S,A,F,D,j,H;const U=h+h+1,Y=u-1,z=p-1,X=h+1,nt=X*(X+1)/2,st=new i,O=r[h],G=s[h];let V=null,W=st,tt=null,M=null;for(_=1;_<U;_++)W=W.next=new i,_===X&&(V=W);for(W.next=st,g=m=0,f=0;f<p;f++){for(N=v=R=S=y=C=T=L=0,P=X*(A=c[m]),w=X*(F=c[m+1]),x=X*(D=c[m+2]),k=X*(j=c[m+3]),y+=nt*A,C+=nt*F,T+=nt*D,L+=nt*j,W=st,_=0;_<X;_++)W.r=A,W.g=F,W.b=D,W.a=j,W=W.next;for(_=1;_<X;_++)b=m+((Y<_?Y:_)<<2),y+=(W.r=A=c[b])*(H=X-_),C+=(W.g=F=c[b+1])*H,T+=(W.b=D=c[b+2])*H,L+=(W.a=j=c[b+3])*H,N+=A,v+=F,R+=D,S+=j,W=W.next;for(tt=st,M=V,d=0;d<u;d++)c[m+3]=j=L*O>>G,j!==0?(j=255/j,c[m]=(y*O>>G)*j,c[m+1]=(C*O>>G)*j,c[m+2]=(T*O>>G)*j):c[m]=c[m+1]=c[m+2]=0,y-=P,C-=w,T-=x,L-=k,P-=tt.r,w-=tt.g,x-=tt.b,k-=tt.a,b=g+((b=d+h+1)<Y?b:Y)<<2,N+=tt.r=c[b],v+=tt.g=c[b+1],R+=tt.b=c[b+2],S+=tt.a=c[b+3],y+=N,C+=v,T+=R,L+=S,tt=tt.next,P+=A=M.r,w+=F=M.g,x+=D=M.b,k+=j=M.a,N-=A,v-=F,R-=D,S-=j,M=M.next,m+=4;g+=u}for(d=0;d<u;d++){for(v=R=S=N=C=T=L=y=0,m=d<<2,P=X*(A=c[m]),w=X*(F=c[m+1]),x=X*(D=c[m+2]),k=X*(j=c[m+3]),y+=nt*A,C+=nt*F,T+=nt*D,L+=nt*j,W=st,_=0;_<X;_++)W.r=A,W.g=F,W.b=D,W.a=j,W=W.next;for(E=u,_=1;_<=h;_++)m=E+d<<2,y+=(W.r=A=c[m])*(H=X-_),C+=(W.g=F=c[m+1])*H,T+=(W.b=D=c[m+2])*H,L+=(W.a=j=c[m+3])*H,N+=A,v+=F,R+=D,S+=j,W=W.next,_<z&&(E+=u);for(m=d,tt=st,M=V,f=0;f<p;f++)b=m<<2,c[b+3]=j=L*O>>G,j>0?(j=255/j,c[b]=(y*O>>G)*j,c[b+1]=(C*O>>G)*j,c[b+2]=(T*O>>G)*j):c[b]=c[b+1]=c[b+2]=0,y-=P,C-=w,T-=x,L-=k,P-=tt.r,w-=tt.g,x-=tt.b,k-=tt.a,b=d+((b=f+X)<z?b:z)*u<<2,y+=N+=tt.r=c[b],C+=v+=tt.g=c[b+1],T+=R+=tt.b=c[b+2],L+=S+=tt.a=c[b+3],tt=tt.next,P+=A=M.r,w+=F=M.g,x+=D=M.b,k+=j=M.a,N-=A,v-=F,R-=D,S-=j,M=M.next,m+=u}}const a=function(h){const c=Math.round(this.blurRadius());c>0&&o(h,c)};return Jn.Blur=a,t.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Jn}var ti={},Ua;function Df(){if(Ua)return ti;Ua=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.Brighten=void 0;const t=pt(),e=Mt(),n=mt(),i=function(r){const s=this.brightness()*255,o=r.data,a=o.length;for(let l=0;l<a;l+=4)o[l]+=s,o[l+1]+=s,o[l+2]+=s};return ti.Brighten=i,t.Factory.addGetterSetter(e.Node,"brightness",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),ti}var ei={},Va;function Gf(){if(Va)return ei;Va=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.Contrast=void 0;const t=pt(),e=Mt(),n=mt(),i=function(r){const s=Math.pow((this.contrast()+100)/100,2),o=r.data,a=o.length;let l=150,h=150,c=150;for(let u=0;u<a;u+=4)l=o[u],h=o[u+1],c=o[u+2],l/=255,l-=.5,l*=s,l+=.5,l*=255,h/=255,h-=.5,h*=s,h+=.5,h*=255,c/=255,c-=.5,c*=s,c+=.5,c*=255,l=l<0?0:l>255?255:l,h=h<0?0:h>255?255:h,c=c<0?0:c>255?255:c,o[u]=l,o[u+1]=h,o[u+2]=c};return ei.Contrast=i,t.Factory.addGetterSetter(e.Node,"contrast",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),ei}var ni={},Ha;function Bf(){if(Ha)return ni;Ha=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.Emboss=void 0;const t=pt(),e=Mt(),n=Ot(),i=mt(),r=function(s){const o=this.embossStrength()*10,a=this.embossWhiteLevel()*255,l=this.embossDirection(),h=this.embossBlend(),c=s.data,u=s.width,p=s.height,d=u*4;let f=0,_=0,b=p;switch(l){case"top-left":f=-1,_=-1;break;case"top":f=-1,_=0;break;case"top-right":f=-1,_=1;break;case"right":f=0,_=1;break;case"bottom-right":f=1,_=1;break;case"bottom":f=1,_=0;break;case"bottom-left":f=1,_=-1;break;case"left":f=0,_=-1;break;default:n.Util.error("Unknown emboss direction: "+l)}do{const E=(b-1)*d;let m=f;b+m<1&&(m=0),b+m>p&&(m=0);const g=(b-1+m)*u*4;let y=u;do{const C=E+(y-1)*4;let T=_;y+T<1&&(T=0),y+T>u&&(T=0);const L=g+(y-1+T)*4,P=c[C]-c[L],w=c[C+1]-c[L+1],x=c[C+2]-c[L+2];let k=P;const N=k>0?k:-k,v=w>0?w:-w,R=x>0?x:-x;if(v>N&&(k=w),R>N&&(k=x),k*=o,h){const S=c[C]+k,A=c[C+1]+k,F=c[C+2]+k;c[C]=S>255?255:S<0?0:S,c[C+1]=A>255?255:A<0?0:A,c[C+2]=F>255?255:F<0?0:F}else{let S=a-k;S<0?S=0:S>255&&(S=255),c[C]=c[C+1]=c[C+2]=S}}while(--y)}while(--b)};return ni.Emboss=r,t.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossDirection","top-left",void 0,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossBlend",!1,void 0,t.Factory.afterSetFilter),ni}var ii={},za;function Uf(){if(za)return ii;za=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.Enhance=void 0;const t=pt(),e=Mt(),n=mt();function i(s,o,a,l,h){const c=a-o,u=h-l;if(c===0)return l+u/2;if(u===0)return l;let p=(s-o)/c;return p=u*p+l,p}const r=function(s){const o=s.data,a=o.length;let l=o[0],h=l,c,u=o[1],p=u,d,f=o[2],_=f,b;const E=this.enhance();if(E===0)return;for(let k=0;k<a;k+=4)c=o[k+0],c<l?l=c:c>h&&(h=c),d=o[k+1],d<u?u=d:d>p&&(p=d),b=o[k+2],b<f?f=b:b>_&&(_=b);h===l&&(h=255,l=0),p===u&&(p=255,u=0),_===f&&(_=255,f=0);let m,g,y,C,T,L,P,w,x;E>0?(g=h+E*(255-h),y=l-E*(l-0),T=p+E*(255-p),L=u-E*(u-0),w=_+E*(255-_),x=f-E*(f-0)):(m=(h+l)*.5,g=h+E*(h-m),y=l+E*(l-m),C=(p+u)*.5,T=p+E*(p-C),L=u+E*(u-C),P=(_+f)*.5,w=_+E*(_-P),x=f+E*(f-P));for(let k=0;k<a;k+=4)o[k+0]=i(o[k+0],l,h,y,g),o[k+1]=i(o[k+1],u,p,L,T),o[k+2]=i(o[k+2],f,_,x,w)};return ii.Enhance=r,t.Factory.addGetterSetter(e.Node,"enhance",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),ii}var ri={},$a;function Vf(){if($a)return ri;$a=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.Grayscale=void 0;const t=function(e){const n=e.data,i=n.length;for(let r=0;r<i;r+=4){const s=.34*n[r]+.5*n[r+1]+.16*n[r+2];n[r]=s,n[r+1]=s,n[r+2]=s}};return ri.Grayscale=t,ri}var si={},ja;function Hf(){if(ja)return si;ja=1,Object.defineProperty(si,"__esModule",{value:!0}),si.HSL=void 0;const t=pt(),e=Mt(),n=mt();t.Factory.addGetterSetter(e.Node,"hue",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"luminance",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter);const i=function(r){const s=r.data,o=s.length,a=1,l=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,c=this.luminance()*127,u=a*l*Math.cos(h*Math.PI/180),p=a*l*Math.sin(h*Math.PI/180),d=.299*a+.701*u+.167*p,f=.587*a-.587*u+.33*p,_=.114*a-.114*u-.497*p,b=.299*a-.299*u-.328*p,E=.587*a+.413*u+.035*p,m=.114*a-.114*u+.293*p,g=.299*a-.3*u+1.25*p,y=.587*a-.586*u-1.05*p,C=.114*a+.886*u-.2*p;let T,L,P,w;for(let x=0;x<o;x+=4)T=s[x+0],L=s[x+1],P=s[x+2],w=s[x+3],s[x+0]=d*T+f*L+_*P+c,s[x+1]=b*T+E*L+m*P+c,s[x+2]=g*T+y*L+C*P+c,s[x+3]=w};return si.HSL=i,si}var oi={},Wa;function zf(){if(Wa)return oi;Wa=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.HSV=void 0;const t=pt(),e=Mt(),n=mt(),i=function(r){const s=r.data,o=s.length,a=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,c=a*l*Math.cos(h*Math.PI/180),u=a*l*Math.sin(h*Math.PI/180),p=.299*a+.701*c+.167*u,d=.587*a-.587*c+.33*u,f=.114*a-.114*c-.497*u,_=.299*a-.299*c-.328*u,b=.587*a+.413*c+.035*u,E=.114*a-.114*c+.293*u,m=.299*a-.3*c+1.25*u,g=.587*a-.586*c-1.05*u,y=.114*a+.886*c-.2*u;let C,T,L,P;for(let w=0;w<o;w+=4)C=s[w+0],T=s[w+1],L=s[w+2],P=s[w+3],s[w+0]=p*C+d*T+f*L,s[w+1]=_*C+b*T+E*L,s[w+2]=m*C+g*T+y*L,s[w+3]=P};return oi.HSV=i,t.Factory.addGetterSetter(e.Node,"hue",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"value",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),oi}var ai={},qa;function $f(){if(qa)return ai;qa=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.Invert=void 0;const t=function(e){const n=e.data,i=n.length;for(let r=0;r<i;r+=4)n[r]=255-n[r],n[r+1]=255-n[r+1],n[r+2]=255-n[r+2]};return ai.Invert=t,ai}var li={},Ka;function jf(){if(Ka)return li;Ka=1,Object.defineProperty(li,"__esModule",{value:!0}),li.Kaleidoscope=void 0;const t=pt(),e=Mt(),n=Ot(),i=mt(),r=function(a,l,h){const c=a.data,u=l.data,p=a.width,d=a.height,f=h.polarCenterX||p/2,_=h.polarCenterY||d/2;let b=Math.sqrt(f*f+_*_),E=p-f,m=d-_;const g=Math.sqrt(E*E+m*m);b=g>b?g:b;const y=d,C=p,T=360/C*Math.PI/180;for(let L=0;L<C;L+=1){const P=Math.sin(L*T),w=Math.cos(L*T);for(let x=0;x<y;x+=1){E=Math.floor(f+b*x/y*w),m=Math.floor(_+b*x/y*P);let k=(m*p+E)*4;const N=c[k+0],v=c[k+1],R=c[k+2],S=c[k+3];k=(L+x*p)*4,u[k+0]=N,u[k+1]=v,u[k+2]=R,u[k+3]=S}}},s=function(a,l,h){const c=a.data,u=l.data,p=a.width,d=a.height,f=h.polarCenterX||p/2,_=h.polarCenterY||d/2;let b=Math.sqrt(f*f+_*_),E=p-f,m=d-_;const g=Math.sqrt(E*E+m*m);b=g>b?g:b;const y=d,C=p,T=0;let L,P;for(E=0;E<p;E+=1)for(m=0;m<d;m+=1){const w=E-f,x=m-_,k=Math.sqrt(w*w+x*x)*y/b;let N=(Math.atan2(x,w)*180/Math.PI+360+T)%360;N=N*C/360,L=Math.floor(N),P=Math.floor(k);let v=(P*p+L)*4;const R=c[v+0],S=c[v+1],A=c[v+2],F=c[v+3];v=(m*p+E)*4,u[v+0]=R,u[v+1]=S,u[v+2]=A,u[v+3]=F}},o=function(a){const l=a.width,h=a.height;let c,u,p,d,f,_,b,E,m,g,y=Math.round(this.kaleidoscopePower());const C=Math.round(this.kaleidoscopeAngle()),T=Math.floor(l*(C%360)/360);if(y<1)return;const L=n.Util.createCanvasElement();L.width=l,L.height=h;const P=L.getContext("2d").getImageData(0,0,l,h);n.Util.releaseCanvas(L),r(a,P,{polarCenterX:l/2,polarCenterY:h/2});let w=l/Math.pow(2,y);for(;w<=8;)w=w*2,y-=1;w=Math.ceil(w);let x=w,k=0,N=x,v=1;for(T+w>l&&(k=x,N=0,v=-1),u=0;u<h;u+=1)for(c=k;c!==N;c+=v)p=Math.round(c+T)%l,m=(l*u+p)*4,f=P.data[m+0],_=P.data[m+1],b=P.data[m+2],E=P.data[m+3],g=(l*u+c)*4,P.data[g+0]=f,P.data[g+1]=_,P.data[g+2]=b,P.data[g+3]=E;for(u=0;u<h;u+=1)for(x=Math.floor(w),d=0;d<y;d+=1){for(c=0;c<x+1;c+=1)m=(l*u+c)*4,f=P.data[m+0],_=P.data[m+1],b=P.data[m+2],E=P.data[m+3],g=(l*u+x*2-c-1)*4,P.data[g+0]=f,P.data[g+1]=_,P.data[g+2]=b,P.data[g+3]=E;x*=2}s(P,a,{})};return li.Kaleidoscope=o,t.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),li}var ci={},Ya;function Wf(){if(Ya)return ci;Ya=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.Mask=void 0;const t=pt(),e=Mt(),n=mt();function i(p,d,f){let _=(f*p.width+d)*4;const b=[];return b.push(p.data[_++],p.data[_++],p.data[_++],p.data[_++]),b}function r(p,d){return Math.sqrt(Math.pow(p[0]-d[0],2)+Math.pow(p[1]-d[1],2)+Math.pow(p[2]-d[2],2))}function s(p){const d=[0,0,0];for(let f=0;f<p.length;f++)d[0]+=p[f][0],d[1]+=p[f][1],d[2]+=p[f][2];return d[0]/=p.length,d[1]/=p.length,d[2]/=p.length,d}function o(p,d){const f=i(p,0,0),_=i(p,p.width-1,0),b=i(p,0,p.height-1),E=i(p,p.width-1,p.height-1),m=d||10;if(r(f,_)<m&&r(_,E)<m&&r(E,b)<m&&r(b,f)<m){const g=s([_,f,E,b]),y=[];for(let C=0;C<p.width*p.height;C++){const T=r(g,[p.data[C*4],p.data[C*4+1],p.data[C*4+2]]);y[C]=T<m?0:255}return y}}function a(p,d){for(let f=0;f<p.width*p.height;f++)p.data[4*f+3]=d[f]}function l(p,d,f){const _=[1,1,1,1,0,1,1,1,1],b=Math.round(Math.sqrt(_.length)),E=Math.floor(b/2),m=[];for(let g=0;g<f;g++)for(let y=0;y<d;y++){const C=g*d+y;let T=0;for(let L=0;L<b;L++)for(let P=0;P<b;P++){const w=g+L-E,x=y+P-E;if(w>=0&&w<f&&x>=0&&x<d){const k=w*d+x,N=_[L*b+P];T+=p[k]*N}}m[C]=T===255*8?255:0}return m}function h(p,d,f){const _=[1,1,1,1,1,1,1,1,1],b=Math.round(Math.sqrt(_.length)),E=Math.floor(b/2),m=[];for(let g=0;g<f;g++)for(let y=0;y<d;y++){const C=g*d+y;let T=0;for(let L=0;L<b;L++)for(let P=0;P<b;P++){const w=g+L-E,x=y+P-E;if(w>=0&&w<f&&x>=0&&x<d){const k=w*d+x,N=_[L*b+P];T+=p[k]*N}}m[C]=T>=255*4?255:0}return m}function c(p,d,f){const _=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],b=Math.round(Math.sqrt(_.length)),E=Math.floor(b/2),m=[];for(let g=0;g<f;g++)for(let y=0;y<d;y++){const C=g*d+y;let T=0;for(let L=0;L<b;L++)for(let P=0;P<b;P++){const w=g+L-E,x=y+P-E;if(w>=0&&w<f&&x>=0&&x<d){const k=w*d+x,N=_[L*b+P];T+=p[k]*N}}m[C]=T}return m}const u=function(p){const d=this.threshold();let f=o(p,d);return f&&(f=l(f,p.width,p.height),f=h(f,p.width,p.height),f=c(f,p.width,p.height),a(p,f)),p};return ci.Mask=u,t.Factory.addGetterSetter(e.Node,"threshold",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),ci}var hi={},Xa;function qf(){if(Xa)return hi;Xa=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.Noise=void 0;const t=pt(),e=Mt(),n=mt(),i=function(r){const s=this.noise()*255,o=r.data,a=o.length,l=s/2;for(let h=0;h<a;h+=4)o[h+0]+=l-2*l*Math.random(),o[h+1]+=l-2*l*Math.random(),o[h+2]+=l-2*l*Math.random()};return hi.Noise=i,t.Factory.addGetterSetter(e.Node,"noise",.2,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),hi}var ui={},Za;function Kf(){if(Za)return ui;Za=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.Pixelate=void 0;const t=pt(),e=Ot(),n=Mt(),i=mt(),r=function(s){let o=Math.ceil(this.pixelSize()),a=s.width,l=s.height,h,c,u,p,d,f,_,b=Math.ceil(a/o),E=Math.ceil(l/o),m,g,y,C,T,L,P,w=s.data;if(o<=0){e.Util.error("pixelSize value can not be <= 0");return}for(T=0;T<b;T+=1)for(L=0;L<E;L+=1){for(p=0,d=0,f=0,_=0,m=T*o,g=m+o,y=L*o,C=y+o,P=0,h=m;h<g;h+=1)if(!(h>=a))for(c=y;c<C;c+=1)c>=l||(u=(a*c+h)*4,p+=w[u+0],d+=w[u+1],f+=w[u+2],_+=w[u+3],P+=1);for(p=p/P,d=d/P,f=f/P,_=_/P,h=m;h<g;h+=1)if(!(h>=a))for(c=y;c<C;c+=1)c>=l||(u=(a*c+h)*4,w[u+0]=p,w[u+1]=d,w[u+2]=f,w[u+3]=_)}};return ui.Pixelate=r,t.Factory.addGetterSetter(n.Node,"pixelSize",8,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),ui}var di={},Qa;function Yf(){if(Qa)return di;Qa=1,Object.defineProperty(di,"__esModule",{value:!0}),di.Posterize=void 0;const t=pt(),e=Mt(),n=mt(),i=function(r){const s=Math.round(this.levels()*254)+1,o=r.data,a=o.length,l=255/s;for(let h=0;h<a;h+=1)o[h]=Math.floor(o[h]/l)*l};return di.Posterize=i,t.Factory.addGetterSetter(e.Node,"levels",.5,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),di}var fi={},Ja;function Xf(){if(Ja)return fi;Ja=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.RGB=void 0;const t=pt(),e=Mt(),n=mt(),i=function(r){const s=r.data,o=s.length,a=this.red(),l=this.green(),h=this.blue();for(let c=0;c<o;c+=4){const u=(.34*s[c]+.5*s[c+1]+.16*s[c+2])/255;s[c]=u*a,s[c+1]=u*l,s[c+2]=u*h,s[c+3]=s[c+3]}};return fi.RGB=i,t.Factory.addGetterSetter(e.Node,"red",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),t.Factory.addGetterSetter(e.Node,"green",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),t.Factory.addGetterSetter(e.Node,"blue",0,n.RGBComponent,t.Factory.afterSetFilter),fi}var gi={},tl;function Zf(){if(tl)return gi;tl=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.RGBA=void 0;const t=pt(),e=Mt(),n=mt(),i=function(r){const s=r.data,o=s.length,a=this.red(),l=this.green(),h=this.blue(),c=this.alpha();for(let u=0;u<o;u+=4){const p=1-c;s[u]=a*c+s[u]*p,s[u+1]=l*c+s[u+1]*p,s[u+2]=h*c+s[u+2]*p}};return gi.RGBA=i,t.Factory.addGetterSetter(e.Node,"red",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),t.Factory.addGetterSetter(e.Node,"green",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),t.Factory.addGetterSetter(e.Node,"blue",0,n.RGBComponent,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"alpha",1,function(r){return this._filterUpToDate=!1,r>1?1:r<0?0:r}),gi}var pi={},el;function Qf(){if(el)return pi;el=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.Sepia=void 0;const t=function(e){const n=e.data,i=n.length;for(let r=0;r<i;r+=4){const s=n[r+0],o=n[r+1],a=n[r+2];n[r+0]=Math.min(255,s*.393+o*.769+a*.189),n[r+1]=Math.min(255,s*.349+o*.686+a*.168),n[r+2]=Math.min(255,s*.272+o*.534+a*.131)}};return pi.Sepia=t,pi}var mi={},nl;function Jf(){if(nl)return mi;nl=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.Solarize=void 0;const t=function(e){const n=e.data,i=e.width,r=e.height,s=i*4;let o=r;do{const a=(o-1)*s;let l=i;do{const h=a+(l-1)*4;let c=n[h],u=n[h+1],p=n[h+2];c>127&&(c=255-c),u>127&&(u=255-u),p>127&&(p=255-p),n[h]=c,n[h+1]=u,n[h+2]=p}while(--l)}while(--o)};return mi.Solarize=t,mi}var vi={},il;function t0(){if(il)return vi;il=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.Threshold=void 0;const t=pt(),e=Mt(),n=mt(),i=function(r){const s=this.threshold()*255,o=r.data,a=o.length;for(let l=0;l<a;l+=1)o[l]=o[l]<s?0:255};return vi.Threshold=i,t.Factory.addGetterSetter(e.Node,"threshold",.5,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),vi}var rl;function e0(){if(rl)return kn;rl=1,Object.defineProperty(kn,"__esModule",{value:!0}),kn.Konva=void 0;const t=Sf(),e=Cf(),n=xf(),i=Pf(),r=Ef(),s=Tf(),o=Rf(),a=Jc(),l=lo(),h=th(),c=Af(),u=Of(),p=kf(),d=Ff(),f=eh(),_=Mf(),b=Nf(),E=If(),m=Lf(),g=Df(),y=Gf(),C=Bf(),T=Uf(),L=Vf(),P=Hf(),w=zf(),x=$f(),k=jf(),N=Wf(),v=qf(),R=Kf(),S=Yf(),A=Xf(),F=Zf(),D=Qf(),j=Jf(),H=t0();return kn.Konva=t.Konva.Util._assign(t.Konva,{Arc:e.Arc,Arrow:n.Arrow,Circle:i.Circle,Ellipse:r.Ellipse,Image:s.Image,Label:o.Label,Tag:o.Tag,Line:a.Line,Path:l.Path,Rect:h.Rect,RegularPolygon:c.RegularPolygon,Ring:u.Ring,Sprite:p.Sprite,Star:d.Star,Text:f.Text,TextPath:_.TextPath,Transformer:b.Transformer,Wedge:E.Wedge,Filters:{Blur:m.Blur,Brighten:g.Brighten,Contrast:y.Contrast,Emboss:C.Emboss,Enhance:T.Enhance,Grayscale:L.Grayscale,HSL:P.HSL,HSV:w.HSV,Invert:x.Invert,Kaleidoscope:k.Kaleidoscope,Mask:N.Mask,Noise:v.Noise,Pixelate:R.Pixelate,Posterize:S.Posterize,RGB:A.RGB,RGBA:F.RGBA,Sepia:D.Sepia,Solarize:j.Solarize,Threshold:H.Threshold}}),kn}var n0=dr.exports,sl;function i0(){if(sl)return dr.exports;sl=1,Object.defineProperty(n0,"__esModule",{value:!0});const t=e0();return dr.exports=t.Konva,dr.exports}var r0=i0();const Pt=vf(r0);function wr(t){if(!Pt.autoDrawEnabled){const e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const ol={key:!0,style:!0,elm:!0,isRootInsert:!0},ds=".vue-konva-event";function nh(t,e,n,i){const r=t.__konvaNode,s={};let o=!1;for(let a in n){if(ol.hasOwnProperty(a))continue;const l=a.slice(0,2)==="on",h=n[a]!==e[a];if(l&&h){let c=a.slice(2).toLowerCase();c.slice(0,7)==="content"&&(c="content"+c.slice(7,1).toUpperCase()+c.slice(8)),r==null||r.off(c+ds,n[a])}!e.hasOwnProperty(a)&&(r==null||r.setAttr(a,void 0))}for(let a in e){if(ol.hasOwnProperty(a))continue;let l=a.slice(0,2)==="on";const h=n[a]!==e[a];if(l&&h){let c=a.slice(2).toLowerCase();c.slice(0,7)==="content"&&(c="content"+c.slice(7,1).toUpperCase()+c.slice(8)),e[a]&&(r==null||r.off(c+ds),r==null||r.on(c+ds,e[a]))}!l&&(e[a]!==n[a]||i&&e[a]!==(r==null?void 0:r.getAttr(a)))&&(o=!0,s[a]=e[a])}o&&r&&(r.setAttrs(s),wr(r))}const s0="v";function o0(t){function e(n){return n!=null&&n.__konvaNode?n:n!=null&&n.parent?e(n.parent):(console.error("vue-konva error: Can not find parent node"),null)}return e(t.parent)}function ih(t){return t.component?t.component.__konvaNode||ih(t.component.subTree):null}function a0(t){const{el:e,component:n}=t,i=ih(t);if(e!=null&&e.tagName&&n&&!i){const r=e.tagName.toLowerCase();return console.error(`vue-konva error: You are trying to render "${r}" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.`),null}return i}function l0(t){const e=r=>!!(r!=null&&r.hasOwnProperty("component")),n=r=>Array.isArray(r),i=r=>e(r)?[r,...i(r.children)]:n(r)?r.flatMap(i):[];return i(t.children)}function rh(t,e){const n=l0(t),i=[];n.forEach(s=>{const o=a0(s);o&&i.push(o)});let r=!1;i.forEach((s,o)=>{s.getZIndex()!==o&&(s.setZIndex(o),r=!0)}),r&&wr(e)}const c0=Dt({name:"Stage",props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:i}){const r=Re();if(!r)return;const s=Zt({}),o=dt(null),a=new Pt.Stage({width:t.config.width,height:t.config.height,container:document.createElement("div")});r.__konvaNode=a,c();function l(){return r==null?void 0:r.__konvaNode}function h(){return r==null?void 0:r.__konvaNode}function c(){if(!r)return;const u=s||{},p={...e,...t.config};nh(r,p,u,t.__useStrictMode),Object.assign(s,p)}return ye(()=>{o.value&&(o.value.innerHTML="",a.container(o.value)),c()}),Zs(()=>{c(),rh(r.subTree,a)}),Ze(()=>{a.destroy()}),Et(()=>t.config,c,{deep:!0}),i({getStage:h,getNode:l}),console.log(e),()=>{var u;return Zi("div",{ref:o,style:e==null?void 0:e.style},(u=n.default)==null?void 0:u.call(n))}}}),h0=".vue-konva-event",u0={Group:!0,Layer:!0,FastLayer:!0,Label:!0};function d0(t,e){return Dt({name:t,props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup(n,{attrs:i,slots:r,expose:s}){const o=Re();if(!o)return;const a=Zt({}),l=new e;o.__konvaNode=l,o.vnode.__konvaNode=l,u();function h(){return o==null?void 0:o.__konvaNode}function c(){return o==null?void 0:o.__konvaNode}function u(){if(!o)return;const d={};for(const b in o==null?void 0:o.vnode.props)b.slice(0,2)==="on"&&(d[b]=o.vnode.props[b]);const f=a||{},_={...i,...n.config,...d};nh(o,_,f,n.__useStrictMode),Object.assign(a,_)}ye(()=>{var d;const f=(d=o0(o))==null?void 0:d.__konvaNode;f&&"add"in f&&f.add(l),wr(l)}),Yi(()=>{wr(l),l.destroy(),l.off(h0)}),Zs(()=>{u(),rh(o.subTree,l)}),Et(()=>n.config,u,{deep:!0}),s({getStage:c,getNode:h});const p=u0.hasOwnProperty(t);return()=>{var d;return p?Zi("template",{},(d=r.default)==null?void 0:d.call(r)):null}}})}typeof window<"u"&&!window.Konva&&require("konva");const f0={install:(t,e)=>{const n=(e==null?void 0:e.prefix)||s0,i={Arc:Pt.Arc,Arrow:Pt.Arrow,Circle:Pt.Circle,Ellipse:Pt.Ellipse,FastLayer:Pt.FastLayer,Group:Pt.Group,Image:Pt.Image,Label:Pt.Label,Layer:Pt.Layer,Line:Pt.Line,Path:Pt.Path,Rect:Pt.Rect,RegularPolygon:Pt.RegularPolygon,Ring:Pt.Ring,Shape:Pt.Shape,Sprite:Pt.Sprite,Star:Pt.Star,Tag:Pt.Tag,Text:Pt.Text,TextPath:Pt.TextPath,Transformer:Pt.Transformer,Wedge:Pt.Wedge,...e==null?void 0:e.customNodes};[c0,...Object.entries(i).map(([r,s])=>d0(r,s))].forEach(r=>{t.component(`${n}${r.name}`,r)})}};function g0(){}const ve=Object.assign,co=typeof window<"u",ho=t=>t!==null&&typeof t=="object",Ge=t=>t!=null,xr=t=>typeof t=="function",sh=t=>ho(t)&&xr(t.then)&&xr(t.catch),oh=t=>typeof t=="number"||/^\d+(\.\d+)?$/.test(t),p0=()=>co?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function al(t,e){const n=e.split(".");let i=t;return n.forEach(r=>{var s;i=ho(i)&&(s=i[r])!=null?s:""}),i}function wi(t,e,n){return e.reduce((i,r)=>((!n||t[r]!==void 0)&&(i[r]=t[r]),i),{})}const ah=t=>Array.isArray(t)?t:[t],Pr=null,Tt=[Number,String],wt={type:Boolean,default:!0},xi=t=>({type:t,required:!0}),lh=()=>({type:Array,default:()=>[]}),xe=t=>({type:Tt,default:t}),Nt=t=>({type:String,default:t});var Qi=typeof window<"u";function Ms(t){return Qi?requestAnimationFrame(t):-1}function rr(t){Ms(()=>Ms(t))}var m0=t=>t===window,ll=(t,e)=>({top:0,left:0,right:t,bottom:e,width:t,height:e}),ch=t=>{const e=le(t);if(m0(e)){const n=e.innerWidth,i=e.innerHeight;return ll(n,i)}return e!=null&&e.getBoundingClientRect?e.getBoundingClientRect():ll(0,0)};function hh(t){const e=se(t,null);if(e){const n=Re(),{link:i,unlink:r,internalChildren:s}=e;i(n),Yi(()=>r(n));const o=_t(()=>s.indexOf(n));return{parent:e,index:o}}return{parent:null,index:dt(-1)}}function v0(t){const e=[],n=i=>{Array.isArray(i)&&i.forEach(r=>{var s;Hi(r)&&(e.push(r),(s=r.component)!=null&&s.subTree&&(e.push(r.component.subTree),n(r.component.subTree.children)),r.children&&n(r.children))})};return n(t),e}var cl=(t,e)=>{const n=t.indexOf(e);return n===-1?t.findIndex(i=>e.key!==void 0&&e.key!==null&&i.type===e.type&&i.key===e.key):n};function _0(t,e,n){const i=v0(t.subTree.children);n.sort((s,o)=>cl(i,s.vnode)-cl(i,o.vnode));const r=n.map(s=>s.proxy);e.sort((s,o)=>{const a=r.indexOf(s),l=r.indexOf(o);return a-l})}function uh(t){const e=Zt([]),n=Zt([]),i=Re();return{children:e,linkChildren:s=>{wn(t,Object.assign({link:l=>{l.proxy&&(n.push(l),e.push(l.proxy),_0(i,e,n))},unlink:l=>{const h=n.indexOf(l);e.splice(h,1),n.splice(h,1)},children:e,internalChildren:n},s))}}}function dh(t){let e;ye(()=>{t(),Ee(()=>{e=!0})}),Lr(()=>{e&&t()})}function zr(t,e,n={}){if(!Qi)return;const{target:i=window,passive:r=!1,capture:s=!1}=n;let o=!1,a;const l=u=>{if(o)return;const p=le(u);p&&!a&&(p.addEventListener(t,e,{capture:s,passive:r}),a=!0)},h=u=>{if(o)return;const p=le(u);p&&a&&(p.removeEventListener(t,e,s),a=!1)};Yi(()=>h(i)),Ki(()=>h(i)),dh(()=>l(i));let c;return $t(i)&&(c=Et(i,(u,p)=>{h(p),l(u)})),()=>{c==null||c(),h(i),o=!0}}var sr,fs;function y0(){if(!sr&&(sr=dt(0),fs=dt(0),Qi)){const t=()=>{sr.value=window.innerWidth,fs.value=window.innerHeight};t(),window.addEventListener("resize",t,{passive:!0}),window.addEventListener("orientationchange",t,{passive:!0})}return{width:sr,height:fs}}var b0=/scroll|auto|overlay/i,S0=Qi?window:void 0;function C0(t){return t.tagName!=="HTML"&&t.tagName!=="BODY"&&t.nodeType===1}function w0(t,e=S0){let n=t;for(;n&&n!==e&&C0(n);){const{overflowY:i}=window.getComputedStyle(n);if(b0.test(i))return n;n=n.parentNode}return e}var or;function x0(){if(!or&&(or=dt("visible"),Qi)){const t=()=>{or.value=document.hidden?"hidden":"visible"};t(),window.addEventListener("visibilitychange",t)}return or}var P0=Symbol("van-field");function E0(t){const e=se(P0,null);e&&!e.customValue.value&&(e.customValue.value=t,Et(t,()=>{e.resetValidation(),e.validateWithTrigger("onChange")}))}p0();const T0=t=>t.stopPropagation();function an(t,e){(typeof t.cancelable!="boolean"||t.cancelable)&&t.preventDefault(),e&&T0(t)}function hl(t){const e=le(t);if(!e)return!1;const n=window.getComputedStyle(e),i=n.display==="none",r=e.offsetParent===null&&n.position!=="fixed";return i||r}const{width:fh,height:gh}=y0();function Ht(t){if(Ge(t))return oh(t)?`${t}px`:String(t)}function uo(t){if(Ge(t)){if(Array.isArray(t))return{width:Ht(t[0]),height:Ht(t[1])};const e=Ht(t);return{width:e,height:e}}}function R0(t){const e={};return t!==void 0&&(e.zIndex=+t),e}const A0=/-(\w)/g,ph=t=>t.replace(A0,(e,n)=>n.toUpperCase()),Ce=(t,e,n)=>Math.min(Math.max(t,e),n),{hasOwnProperty:O0}=Object.prototype;function k0(t,e,n){const i=e[n];Ge(i)&&(!O0.call(t,n)||!ho(i)?t[n]=i:t[n]=mh(Object(t[n]),i))}function mh(t,e){return Object.keys(e).forEach(n=>{k0(t,e,n)}),t}var F0={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(t,e)=>`${t}年${e}月`,rangePrompt:t=>`最多选择 ${t} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:t=>`${t}折`,condition:t=>`满${t}元可用`},vanCouponCell:{title:"优惠券",count:t=>`${t}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const ul=dt("zh-CN"),dl=Zt({"zh-CN":F0}),M0={messages(){return dl[ul.value]},use(t,e){ul.value=t,this.add({[t]:e})},add(t={}){mh(dl,t)}};var N0=M0;function I0(t){const e=ph(t)+".";return(n,...i)=>{const r=N0.messages(),s=al(r,e+n)||al(r,n);return xr(s)?s(...i):s}}function Ns(t,e){return e?typeof e=="string"?` ${t}--${e}`:Array.isArray(e)?e.reduce((n,i)=>n+Ns(t,i),""):Object.keys(e).reduce((n,i)=>n+(e[i]?Ns(t,i):""),""):""}function L0(t){return(e,n)=>(e&&typeof e!="string"&&(n=e,e=""),e=e?`${t}__${e}`:t,`${e}${Ns(e,n)}`)}function Qt(t){const e=`van-${t}`;return[e,L0(e),I0(e)]}const fo="van-hairline",D0=`${fo}--top`,G0=`${fo}--surround`,vh="van-haptics-feedback",B0=500,fl=5;function go(t,{args:e=[],done:n,canceled:i,error:r}){if(t){const s=t.apply(null,e);sh(s)?s.then(o=>{o?n():i&&i()}).catch(r||g0):s?n():i&&i()}else n()}function he(t){return t.install=e=>{const{name:n}=t;n&&(e.component(n,t),e.component(ph(`-${n}`),t))},t}const _h=Symbol();function U0(t){const e=se(_h,null);e&&Et(e,n=>{n&&t()})}function cn(t){const e=Re();e&&ve(e.proxy,t)}const yh={to:[String,Object],url:String,replace:Boolean};function V0({to:t,url:e,replace:n,$router:i}){t&&i?i[n?"replace":"push"](t):e&&(n?location.replace(e):location.href=e)}function bh(){const t=Re().proxy;return()=>V0(t)}const[H0,gl]=Qt("badge"),z0={dot:Boolean,max:Tt,tag:Nt("div"),color:String,offset:Array,content:Tt,showZero:wt,position:Nt("top-right")};var $0=Dt({name:H0,props:z0,setup(t,{slots:e}){const n=()=>{if(e.content)return!0;const{content:a,showZero:l}=t;return Ge(a)&&a!==""&&(l||a!==0&&a!=="0")},i=()=>{const{dot:a,max:l,content:h}=t;if(!a&&n())return e.content?e.content():Ge(l)&&oh(h)&&+h>+l?`${l}+`:h},r=a=>a.startsWith("-")?a.replace("-",""):`-${a}`,s=_t(()=>{const a={background:t.color};if(t.offset){const[l,h]=t.offset,{position:c}=t,[u,p]=c.split("-");e.default?(typeof h=="number"?a[u]=Ht(u==="top"?h:-h):a[u]=u==="top"?Ht(h):r(h),typeof l=="number"?a[p]=Ht(p==="left"?l:-l):a[p]=p==="left"?Ht(l):r(l)):(a.marginTop=Ht(h),a.marginLeft=Ht(l))}return a}),o=()=>{if(n()||t.dot)return J("div",{class:gl([t.position,{dot:t.dot,fixed:!!e.default}]),style:s.value},[i()])};return()=>{if(e.default){const{tag:a}=t;return J(a,{class:gl("wrapper")},{default:()=>[e.default(),o()]})}return o()}}});const Sh=he($0);let j0=2e3;const W0=()=>++j0,[q0,G2]=Qt("config-provider"),K0=Symbol(q0),[Y0,pl]=Qt("icon"),X0=t=>t==null?void 0:t.includes("/"),Z0={dot:Boolean,tag:Nt("i"),name:String,size:Tt,badge:Tt,color:String,badgeProps:Object,classPrefix:String};var Q0=Dt({name:Y0,props:Z0,setup(t,{slots:e}){const n=se(K0,null),i=_t(()=>t.classPrefix||(n==null?void 0:n.iconPrefix)||pl());return()=>{const{tag:r,dot:s,name:o,size:a,badge:l,color:h}=t,c=X0(o);return J(Sh,Te({dot:s,tag:r,class:[i.value,c?"":`${i.value}-${o}`],style:{color:h,fontSize:Ht(a)},content:l},t.badgeProps),{default:()=>{var u;return[(u=e.default)==null?void 0:u.call(e),c&&J("img",{class:pl("image"),src:o},null)]}})}}});const De=he(Q0),[J0,Ni]=Qt("loading"),tg=Array(12).fill(null).map((t,e)=>J("i",{class:Ni("line",String(e+1))},null)),eg=J("svg",{class:Ni("circular"),viewBox:"25 25 50 50"},[J("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),ng={size:Tt,type:Nt("circular"),color:String,vertical:Boolean,textSize:Tt,textColor:String};var ig=Dt({name:J0,props:ng,setup(t,{slots:e}){const n=_t(()=>ve({color:t.color},uo(t.size))),i=()=>{const s=t.type==="spinner"?tg:eg;return J("span",{class:Ni("spinner",t.type),style:n.value},[e.icon?e.icon():s])},r=()=>{var s;if(e.default)return J("span",{class:Ni("text"),style:{fontSize:Ht(t.textSize),color:(s=t.textColor)!=null?s:t.color}},[e.default()])};return()=>{const{type:s,vertical:o}=t;return J("div",{class:Ni([s,{vertical:o}]),"aria-live":"polite","aria-busy":!0},[i(),r()])}}});const po=he(ig),[rg,dn]=Qt("button"),sg=ve({},yh,{tag:Nt("button"),text:String,icon:String,type:Nt("default"),size:Nt("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:Nt("button"),loadingSize:Tt,loadingText:String,loadingType:String,iconPosition:Nt("left")});var og=Dt({name:rg,props:sg,emits:["click"],setup(t,{emit:e,slots:n}){const i=bh(),r=()=>n.loading?n.loading():J(po,{size:t.loadingSize,type:t.loadingType,class:dn("loading")},null),s=()=>{if(t.loading)return r();if(n.icon)return J("div",{class:dn("icon")},[n.icon()]);if(t.icon)return J(De,{name:t.icon,class:dn("icon"),classPrefix:t.iconPrefix},null)},o=()=>{let h;if(t.loading?h=t.loadingText:h=n.default?n.default():t.text,h)return J("span",{class:dn("text")},[h])},a=()=>{const{color:h,plain:c}=t;if(h){const u={color:c?h:"white"};return c||(u.background=h),h.includes("gradient")?u.border=0:u.borderColor=h,u}},l=h=>{t.loading?an(h):t.disabled||(e("click",h),i())};return()=>{const{tag:h,type:c,size:u,block:p,round:d,plain:f,square:_,loading:b,disabled:E,hairline:m,nativeType:g,iconPosition:y}=t,C=[dn([c,u,{plain:f,block:p,round:d,square:_,loading:b,disabled:E,hairline:m}]),{[G0]:m}];return J(h,{type:g,class:C,style:a(),disabled:E,onClick:l},{default:()=>[J("div",{class:dn("content")},[y==="left"&&s(),o(),y==="right"&&s()])]})}}});const ag=he(og),lg={show:Boolean,zIndex:Tt,overlay:wt,duration:Tt,teleport:[String,Object],lockScroll:wt,lazyRender:wt,beforeClose:Function,overlayStyle:Object,overlayClass:Pr,transitionAppear:Boolean,closeOnClickOverlay:wt};function cg(t,e){return t>e?"horizontal":e>t?"vertical":""}function mo(){const t=dt(0),e=dt(0),n=dt(0),i=dt(0),r=dt(0),s=dt(0),o=dt(""),a=dt(!0),l=()=>o.value==="vertical",h=()=>o.value==="horizontal",c=()=>{n.value=0,i.value=0,r.value=0,s.value=0,o.value="",a.value=!0};return{move:d=>{const f=d.touches[0];n.value=(f.clientX<0?0:f.clientX)-t.value,i.value=f.clientY-e.value,r.value=Math.abs(n.value),s.value=Math.abs(i.value);const _=10;(!o.value||r.value<_&&s.value<_)&&(o.value=cg(r.value,s.value)),a.value&&(r.value>fl||s.value>fl)&&(a.value=!1)},start:d=>{c(),t.value=d.touches[0].clientX,e.value=d.touches[0].clientY},reset:c,startX:t,startY:e,deltaX:n,deltaY:i,offsetX:r,offsetY:s,direction:o,isVertical:l,isHorizontal:h,isTap:a}}let _i=0;const ml="van-overflow-hidden";function hg(t,e){const n=mo(),i="01",r="10",s=c=>{n.move(c);const u=n.deltaY.value>0?r:i,p=w0(c.target,t.value),{scrollHeight:d,offsetHeight:f,scrollTop:_}=p;let b="11";_===0?b=f>=d?"00":"01":_+f>=d&&(b="10"),b!=="11"&&n.isVertical()&&!(parseInt(b,2)&parseInt(u,2))&&an(c,!0)},o=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",s,{passive:!1}),_i||document.body.classList.add(ml),_i++},a=()=>{_i&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",s),_i--,_i||document.body.classList.remove(ml))},l=()=>e()&&o(),h=()=>e()&&a();dh(l),Ki(h),Ze(h),Et(e,c=>{c?o():a()})}function Ch(t){const e=dt(!1);return Et(t,n=>{n&&(e.value=n)},{immediate:!0}),n=>()=>e.value?n():null}const vl=()=>{var t;const{scopeId:e}=((t=Re())==null?void 0:t.vnode)||{};return e?{[e]:""}:null},[ug,dg]=Qt("overlay"),fg={show:Boolean,zIndex:Tt,duration:Tt,className:Pr,lockScroll:wt,lazyRender:wt,customStyle:Object,teleport:[String,Object]};var gg=Dt({name:ug,props:fg,setup(t,{slots:e}){const n=dt(),i=Ch(()=>t.show||!t.lazyRender),r=o=>{t.lockScroll&&an(o,!0)},s=i(()=>{var o;const a=ve(R0(t.zIndex),t.customStyle);return Ge(t.duration)&&(a.animationDuration=`${t.duration}s`),Bi(J("div",{ref:n,style:a,class:[dg(),t.className]},[(o=e.default)==null?void 0:o.call(e)]),[[Cr,t.show]])});return zr("touchmove",r,{target:n}),()=>{const o=J(qc,{name:"van-fade",appear:!0},{default:s});return t.teleport?J(dc,{to:t.teleport},{default:()=>[o]}):o}}});const pg=he(gg),mg=ve({},lg,{round:Boolean,position:Nt("center"),closeIcon:Nt("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Nt("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[vg,_l]=Qt("popup");var _g=Dt({name:vg,inheritAttrs:!1,props:mg,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(t,{emit:e,attrs:n,slots:i}){let r,s;const o=dt(),a=dt(),l=Ch(()=>t.show||!t.lazyRender),h=_t(()=>{const T={zIndex:o.value};if(Ge(t.duration)){const L=t.position==="center"?"animationDuration":"transitionDuration";T[L]=`${t.duration}s`}return T}),c=()=>{r||(r=!0,o.value=t.zIndex!==void 0?+t.zIndex:W0(),e("open"))},u=()=>{r&&go(t.beforeClose,{done(){r=!1,e("close"),e("update:show",!1)}})},p=T=>{e("clickOverlay",T),t.closeOnClickOverlay&&u()},d=()=>{if(t.overlay)return J(pg,Te({show:t.show,class:t.overlayClass,zIndex:o.value,duration:t.duration,customStyle:t.overlayStyle,role:t.closeOnClickOverlay?"button":void 0,tabindex:t.closeOnClickOverlay?0:void 0},vl(),{onClick:p}),{default:i["overlay-content"]})},f=T=>{e("clickCloseIcon",T),u()},_=()=>{if(t.closeable)return J(De,{role:"button",tabindex:0,name:t.closeIcon,class:[_l("close-icon",t.closeIconPosition),vh],classPrefix:t.iconPrefix,onClick:f},null)};let b;const E=()=>{b&&clearTimeout(b),b=setTimeout(()=>{e("opened")})},m=()=>e("closed"),g=T=>e("keydown",T),y=l(()=>{var T;const{destroyOnClose:L,round:P,position:w,safeAreaInsetTop:x,safeAreaInsetBottom:k,show:N}=t;if(!(!N&&L))return Bi(J("div",Te({ref:a,style:h.value,role:"dialog",tabindex:0,class:[_l({round:P,[w]:w}),{"van-safe-area-top":x,"van-safe-area-bottom":k}],onKeydown:g},n,vl()),[(T=i.default)==null?void 0:T.call(i),_()]),[[Cr,N]])}),C=()=>{const{position:T,transition:L,transitionAppear:P}=t,w=T==="center"?"van-fade":`van-popup-slide-${T}`;return J(qc,{name:L||w,appear:P,onAfterEnter:E,onAfterLeave:m},{default:y})};return Et(()=>t.show,T=>{T&&!r&&(c(),n.tabindex===0&&Ee(()=>{var L;(L=a.value)==null||L.focus()})),!T&&r&&(r=!1,e("close"))}),cn({popupRef:a}),hg(a,()=>t.show&&t.lockScroll),zr("popstate",()=>{t.closeOnPopstate&&(u(),s=!1)}),ye(()=>{t.show&&c()}),Lr(()=>{s&&(e("update:show",!0),s=!1)}),Ki(()=>{t.show&&t.teleport&&(u(),s=!0)}),wn(_h,()=>t.show),()=>t.teleport?J(dc,{to:t.teleport},{default:()=>[d(),C()]}):J(fe,null,[d(),C()])}});const yg=he(_g),[wh,ar]=Qt("swipe"),bg={loop:wt,width:Tt,height:Tt,vertical:Boolean,autoplay:xe(0),duration:xe(500),touchable:wt,lazyRender:Boolean,initialSwipe:xe(0),indicatorColor:String,showIndicators:wt,stopPropagation:wt},xh=Symbol(wh);var Sg=Dt({name:wh,props:bg,emits:["change","dragStart","dragEnd"],setup(t,{emit:e,slots:n}){const i=dt(),r=dt(),s=Zt({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let o=!1;const a=mo(),{children:l,linkChildren:h}=uh(xh),c=_t(()=>l.length),u=_t(()=>s[t.vertical?"height":"width"]),p=_t(()=>t.vertical?a.deltaY.value:a.deltaX.value),d=_t(()=>s.rect?(t.vertical?s.rect.height:s.rect.width)-u.value*c.value:0),f=_t(()=>u.value?Math.ceil(Math.abs(d.value)/u.value):c.value),_=_t(()=>c.value*u.value),b=_t(()=>(s.active+c.value)%c.value),E=_t(()=>{const U=t.vertical?"vertical":"horizontal";return a.direction.value===U}),m=_t(()=>{const U={transitionDuration:`${s.swiping?0:t.duration}ms`,transform:`translate${t.vertical?"Y":"X"}(${+s.offset.toFixed(2)}px)`};if(u.value){const Y=t.vertical?"height":"width",z=t.vertical?"width":"height";U[Y]=`${_.value}px`,U[z]=t[z]?`${t[z]}px`:""}return U}),g=U=>{const{active:Y}=s;return U?t.loop?Ce(Y+U,-1,c.value):Ce(Y+U,0,f.value):Y},y=(U,Y=0)=>{let z=U*u.value;t.loop||(z=Math.min(z,-d.value));let X=Y-z;return t.loop||(X=Ce(X,d.value,0)),X},C=({pace:U=0,offset:Y=0,emitChange:z})=>{if(c.value<=1)return;const{active:X}=s,nt=g(U),st=y(nt,Y);if(t.loop){if(l[0]&&st!==d.value){const O=st<d.value;l[0].setOffset(O?_.value:0)}if(l[c.value-1]&&st!==0){const O=st>0;l[c.value-1].setOffset(O?-_.value:0)}}s.active=nt,s.offset=st,z&&nt!==X&&e("change",b.value)},T=()=>{s.swiping=!0,s.active<=-1?C({pace:c.value}):s.active>=c.value&&C({pace:-c.value})},L=()=>{T(),a.reset(),rr(()=>{s.swiping=!1,C({pace:-1,emitChange:!0})})},P=()=>{T(),a.reset(),rr(()=>{s.swiping=!1,C({pace:1,emitChange:!0})})};let w;const x=()=>clearTimeout(w),k=()=>{x(),+t.autoplay>0&&c.value>1&&(w=setTimeout(()=>{P(),k()},+t.autoplay))},N=(U=+t.initialSwipe)=>{if(!i.value)return;const Y=()=>{var z,X;if(!hl(i)){const nt={width:i.value.offsetWidth,height:i.value.offsetHeight};s.rect=nt,s.width=+((z=t.width)!=null?z:nt.width),s.height=+((X=t.height)!=null?X:nt.height)}c.value&&(U=Math.min(c.value-1,U),U===-1&&(U=c.value-1)),s.active=U,s.swiping=!0,s.offset=y(U),l.forEach(nt=>{nt.setOffset(0)}),k()};hl(i)?Ee().then(Y):Y()},v=()=>N(s.active);let R;const S=U=>{!t.touchable||U.touches.length>1||(a.start(U),o=!1,R=Date.now(),x(),T())},A=U=>{t.touchable&&s.swiping&&(a.move(U),E.value&&(!t.loop&&(s.active===0&&p.value>0||s.active===c.value-1&&p.value<0)||(an(U,t.stopPropagation),C({offset:p.value}),o||(e("dragStart",{index:b.value}),o=!0))))},F=()=>{if(!t.touchable||!s.swiping)return;const U=Date.now()-R,Y=p.value/U;if((Math.abs(Y)>.25||Math.abs(p.value)>u.value/2)&&E.value){const X=t.vertical?a.offsetY.value:a.offsetX.value;let nt=0;t.loop?nt=X>0?p.value>0?-1:1:0:nt=-Math[p.value>0?"ceil":"floor"](p.value/u.value),C({pace:nt,emitChange:!0})}else p.value&&C({pace:0});o=!1,s.swiping=!1,e("dragEnd",{index:b.value}),k()},D=(U,Y={})=>{T(),a.reset(),rr(()=>{let z;t.loop&&U===c.value?z=s.active===0?0:U:z=U%c.value,Y.immediate?rr(()=>{s.swiping=!1}):s.swiping=!1,C({pace:z-s.active,emitChange:!0})})},j=(U,Y)=>{const z=Y===b.value,X=z?{backgroundColor:t.indicatorColor}:void 0;return J("i",{style:X,class:ar("indicator",{active:z})},null)},H=()=>{if(n.indicator)return n.indicator({active:b.value,total:c.value});if(t.showIndicators&&c.value>1)return J("div",{class:ar("indicators",{vertical:t.vertical})},[Array(c.value).fill("").map(j)])};return cn({prev:L,next:P,state:s,resize:v,swipeTo:D}),h({size:u,props:t,count:c,activeIndicator:b}),Et(()=>t.initialSwipe,U=>N(+U)),Et(c,()=>N(s.active)),Et(()=>t.autoplay,k),Et([fh,gh,()=>t.width,()=>t.height],v),Et(x0(),U=>{U==="visible"?k():x()}),ye(N),Lr(()=>N(s.active)),U0(()=>N(s.active)),Ki(x),Ze(x),zr("touchmove",A,{target:r}),()=>{var U;return J("div",{ref:i,class:ar()},[J("div",{ref:r,style:m.value,class:ar("track",{vertical:t.vertical}),onTouchstartPassive:S,onTouchend:F,onTouchcancel:F},[(U=n.default)==null?void 0:U.call(n)]),H()])}}});const Cg=he(Sg),[wg,xg]=Qt("swipe-item");var Pg=Dt({name:wg,setup(t,{slots:e}){let n;const i=Zt({offset:0,inited:!1,mounted:!1}),{parent:r,index:s}=hh(xh);if(!r)return;const o=_t(()=>{const h={},{vertical:c}=r.props;return r.size.value&&(h[c?"height":"width"]=`${r.size.value}px`),i.offset&&(h.transform=`translate${c?"Y":"X"}(${i.offset}px)`),h}),a=_t(()=>{const{loop:h,lazyRender:c}=r.props;if(!c||n)return!0;if(!i.mounted)return!1;const u=r.activeIndicator.value,p=r.count.value-1,d=u===0&&h?p:u-1,f=u===p&&h?0:u+1;return n=s.value===u||s.value===d||s.value===f,n}),l=h=>{i.offset=h};return ye(()=>{Ee(()=>{i.mounted=!0})}),cn({setOffset:l}),()=>{var h;return J("div",{class:xg(),style:o.value},[a.value?(h=e.default)==null?void 0:h.call(e):null])}}});const Eg=he(Pg);function Tg(){const t=Zt({show:!1}),e=r=>{t.show=r},n=r=>{ve(t,r,{transitionAppear:!0}),e(!0)},i=()=>e(!1);return cn({open:n,close:i,toggle:e}),{open:n,close:i,state:t,toggle:e}}function Rg(t){const e=Yc(t),n=document.createElement("div");return document.body.appendChild(n),{instance:e.mount(n),unmount(){e.unmount(),document.body.removeChild(n)}}}const[Ag,fn]=Qt("image"),Og={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:Tt,height:Tt,radius:Tt,lazyLoad:Boolean,iconSize:Tt,showError:wt,errorIcon:Nt("photo-fail"),iconPrefix:String,showLoading:wt,loadingIcon:Nt("photo"),crossorigin:String,referrerpolicy:String};var kg=Dt({name:Ag,props:Og,emits:["load","error"],setup(t,{emit:e,slots:n}){const i=dt(!1),r=dt(!0),s=dt(),{$Lazyload:o}=Re().proxy,a=_t(()=>{const b={width:Ht(t.width),height:Ht(t.height)};return Ge(t.radius)&&(b.overflow="hidden",b.borderRadius=Ht(t.radius)),b});Et(()=>t.src,()=>{i.value=!1,r.value=!0});const l=b=>{r.value&&(r.value=!1,e("load",b))},h=()=>{const b=new Event("load");Object.defineProperty(b,"target",{value:s.value,enumerable:!0}),l(b)},c=b=>{i.value=!0,r.value=!1,e("error",b)},u=(b,E,m)=>m?m():J(De,{name:b,size:t.iconSize,class:E,classPrefix:t.iconPrefix},null),p=()=>{if(r.value&&t.showLoading)return J("div",{class:fn("loading")},[u(t.loadingIcon,fn("loading-icon"),n.loading)]);if(i.value&&t.showError)return J("div",{class:fn("error")},[u(t.errorIcon,fn("error-icon"),n.error)])},d=()=>{if(i.value||!t.src)return;const b={alt:t.alt,class:fn("img"),style:{objectFit:t.fit,objectPosition:t.position},crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy};return t.lazyLoad?Bi(J("img",Te({ref:s},b),null),[[Qu("lazy"),t.src]]):J("img",Te({ref:s,src:t.src,onLoad:l,onError:c},b),null)},f=({el:b})=>{const E=()=>{b===s.value&&r.value&&h()};s.value?E():Ee(E)},_=({el:b})=>{b===s.value&&!i.value&&c()};return o&&co&&(o.$on("loaded",f),o.$on("error",_),Ze(()=>{o.$off("loaded",f),o.$off("error",_)})),ye(()=>{Ee(()=>{var b;(b=s.value)!=null&&b.complete&&!t.lazyLoad&&h()})}),()=>{var b;return J("div",{class:fn({round:t.round,block:t.block}),style:a.value},[d(),p(),(b=n.default)==null?void 0:b.call(n)])}}});const Ph=he(kg),[Eh,Fg]=Qt("grid"),Mg={square:Boolean,center:wt,border:wt,gutter:Tt,reverse:Boolean,iconSize:Tt,direction:String,clickable:Boolean,columnNum:xe(4)},Th=Symbol(Eh);var Ng=Dt({name:Eh,props:Mg,setup(t,{slots:e}){const{linkChildren:n}=uh(Th);return n({props:t}),()=>{var i;return J("div",{style:{paddingLeft:Ht(t.gutter)},class:[Fg(),{[D0]:t.border&&!t.gutter}]},[(i=e.default)==null?void 0:i.call(e)])}}});const Ig=he(Ng),[Lg,lr]=Qt("grid-item"),Dg=ve({},yh,{dot:Boolean,text:String,icon:String,badge:Tt,iconColor:String,iconPrefix:String,badgeProps:Object});var Gg=Dt({name:Lg,props:Dg,setup(t,{slots:e}){const{parent:n,index:i}=hh(Th),r=bh();if(!n)return;const s=_t(()=>{const{square:c,gutter:u,columnNum:p}=n.props,d=`${100/+p}%`,f={flexBasis:d};if(c)f.paddingTop=d;else if(u){const _=Ht(u);f.paddingRight=_,i.value>=+p&&(f.marginTop=_)}return f}),o=_t(()=>{const{square:c,gutter:u}=n.props;if(c&&u){const p=Ht(u);return{right:p,bottom:p,height:"auto"}}}),a=()=>{if(e.icon)return J(Sh,Te({dot:t.dot,content:t.badge},t.badgeProps),{default:e.icon});if(t.icon)return J(De,{dot:t.dot,name:t.icon,size:n.props.iconSize,badge:t.badge,class:lr("icon"),color:t.iconColor,badgeProps:t.badgeProps,classPrefix:t.iconPrefix},null)},l=()=>{if(e.text)return e.text();if(t.text)return J("span",{class:lr("text")},[t.text])},h=()=>e.default?e.default():[a(),l()];return()=>{const{center:c,border:u,square:p,gutter:d,reverse:f,direction:_,clickable:b}=n.props,E=[lr("content",[_,{center:c,square:p,reverse:f,clickable:b,surround:u&&d}]),{[fo]:u}];return J("div",{class:[lr({square:p})],style:s.value},[J("div",{role:b?"button":void 0,class:E,style:o.value,tabindex:b?0:void 0,onClick:r},[h()])])}}});const Bg=he(Gg),yl=t=>Math.sqrt((t[0].clientX-t[1].clientX)**2+(t[0].clientY-t[1].clientY)**2),Ug=t=>({x:(t[0].clientX+t[1].clientX)/2,y:(t[0].clientY+t[1].clientY)/2}),gs=Qt("image-preview")[1],bl=2.6,Vg={src:String,show:Boolean,active:Number,minZoom:xi(Tt),maxZoom:xi(Tt),rootWidth:xi(Number),rootHeight:xi(Number),disableZoom:Boolean,doubleScale:Boolean,closeOnClickImage:Boolean,closeOnClickOverlay:Boolean,vertical:Boolean};var Hg=Dt({props:Vg,emits:["scale","close","longPress"],setup(t,{emit:e,slots:n}){const i=Zt({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,initializing:!1,imageRatio:0}),r=mo(),s=dt(),o=dt(),a=dt(!1),l=dt(!1);let h=0;const c=_t(()=>{const{scale:A,moveX:F,moveY:D,moving:j,zooming:H,initializing:U}=i,Y={transitionDuration:H||j||U?"0s":".3s"};return(A!==1||l.value)&&(Y.transform=`matrix(${A}, 0, 0, ${A}, ${F}, ${D})`),Y}),u=_t(()=>{if(i.imageRatio){const{rootWidth:A,rootHeight:F}=t,D=a.value?F/i.imageRatio:A;return Math.max(0,(i.scale*D-A)/2)}return 0}),p=_t(()=>{if(i.imageRatio){const{rootWidth:A,rootHeight:F}=t,D=a.value?F:A*i.imageRatio;return Math.max(0,(i.scale*D-F)/2)}return 0}),d=(A,F)=>{var D;if(A=Ce(A,+t.minZoom,+t.maxZoom+1),A!==i.scale){const j=A/i.scale;if(i.scale=A,F){const H=ch((D=s.value)==null?void 0:D.$el),U={x:H.width*.5,y:H.height*.5},Y=i.moveX-(F.x-H.left-U.x)*(j-1),z=i.moveY-(F.y-H.top-U.y)*(j-1);i.moveX=Ce(Y,-u.value,u.value),i.moveY=Ce(z,-p.value,p.value)}else i.moveX=0,i.moveY=l.value?h:0;e("scale",{scale:A,index:t.active})}},f=()=>{d(1)},_=()=>{const A=i.scale>1?1:2;d(A,A===2||l.value?{x:r.startX.value,y:r.startY.value}:void 0)};let b,E,m,g,y,C,T,L,P=!1;const w=A=>{const{touches:F}=A;if(b=F.length,b===2&&t.disableZoom)return;const{offsetX:D}=r;r.start(A),E=i.moveX,m=i.moveY,L=Date.now(),P=!1,i.moving=b===1&&(i.scale!==1||l.value),i.zooming=b===2&&!D.value,i.zooming&&(g=i.scale,y=yl(F))},x=A=>{const{touches:F}=A;if(r.move(A),i.moving){const{deltaX:D,deltaY:j}=r,H=D.value+E,U=j.value+m;if((t.vertical?r.isVertical()&&Math.abs(U)>p.value:r.isHorizontal()&&Math.abs(H)>u.value)&&!P){i.moving=!1;return}P=!0,an(A,!0),i.moveX=Ce(H,-u.value,u.value),i.moveY=Ce(U,-p.value,p.value)}if(i.zooming&&(an(A,!0),F.length===2)){const D=yl(F),j=g*D/y;C=Ug(F),d(j,C)}},k=A=>{var F;const D=(F=o.value)==null?void 0:F.$el;if(!D)return;const j=D.firstElementChild,H=A.target===D,U=j==null?void 0:j.contains(A.target);!t.closeOnClickImage&&U||!t.closeOnClickOverlay&&H||e("close")},N=A=>{if(b>1)return;const F=Date.now()-L,D=250;r.isTap.value&&(F<D?t.doubleScale?T?(clearTimeout(T),T=null,_()):T=setTimeout(()=>{k(A),T=null},D):k(A):F>B0&&e("longPress"))},v=A=>{let F=!1;if((i.moving||i.zooming)&&(F=!0,i.moving&&E===i.moveX&&m===i.moveY&&(F=!1),!A.touches.length)){i.zooming&&(i.moveX=Ce(i.moveX,-u.value,u.value),i.moveY=Ce(i.moveY,-p.value,p.value),i.zooming=!1),i.moving=!1,E=0,m=0,g=1,i.scale<1&&f();const D=+t.maxZoom;i.scale>D&&d(D,C)}an(A,F),N(A),r.reset()},R=()=>{const{rootWidth:A,rootHeight:F}=t,D=F/A,{imageRatio:j}=i;a.value=i.imageRatio>D&&j<bl,l.value=i.imageRatio>D&&j>=bl,l.value&&(h=(j*A-F)/2,i.moveY=h,i.initializing=!0,Ms(()=>{i.initializing=!1})),f()},S=A=>{const{naturalWidth:F,naturalHeight:D}=A.target;i.imageRatio=D/F,R()};return Et(()=>t.active,f),Et(()=>t.show,A=>{A||f()}),Et(()=>[t.rootWidth,t.rootHeight],R),zr("touchmove",x,{target:_t(()=>{var A;return(A=o.value)==null?void 0:A.$el})}),cn({resetScale:f}),()=>{const A={loading:()=>J(po,{type:"spinner"},null)};return J(Eg,{ref:o,class:gs("swipe-item"),onTouchstartPassive:w,onTouchend:v,onTouchcancel:v},{default:()=>[n.image?J("div",{class:gs("image-wrap")},[n.image({src:t.src,onLoad:S,style:c.value})]):J(Ph,{ref:s,src:t.src,fit:"contain",class:gs("image",{vertical:a.value}),style:c.value,onLoad:S},A)]})}}});const[zg,gn]=Qt("image-preview"),$g=["show","teleport","transition","overlayStyle","closeOnPopstate"],jg={show:Boolean,loop:wt,images:lh(),minZoom:xe(1/3),maxZoom:xe(3),overlay:wt,vertical:Boolean,closeable:Boolean,showIndex:wt,className:Pr,closeIcon:Nt("clear"),transition:String,beforeClose:Function,doubleScale:wt,overlayClass:Pr,overlayStyle:Object,swipeDuration:xe(300),startPosition:xe(0),showIndicators:Boolean,closeOnPopstate:wt,closeOnClickImage:wt,closeOnClickOverlay:wt,closeIconPosition:Nt("top-right"),teleport:[String,Object]};var Rh=Dt({name:zg,props:jg,emits:["scale","close","closed","change","longPress","update:show"],setup(t,{emit:e,slots:n}){const i=dt(),r=dt(),s=Zt({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),o=()=>{if(i.value){const g=ch(i.value.$el);s.rootWidth=g.width,s.rootHeight=g.height,i.value.resize()}},a=g=>e("scale",g),l=g=>e("update:show",g),h=()=>{go(t.beforeClose,{args:[s.active],done:()=>l(!1)})},c=g=>{g!==s.active&&(s.active=g,e("change",g))},u=()=>{if(t.showIndex)return J("div",{class:gn("index")},[n.index?n.index({index:s.active}):`${s.active+1} / ${t.images.length}`])},p=()=>{if(n.cover)return J("div",{class:gn("cover")},[n.cover()])},d=()=>{s.disableZoom=!0},f=()=>{s.disableZoom=!1},_=()=>J(Cg,{ref:i,lazyRender:!0,loop:t.loop,class:gn("swipe"),vertical:t.vertical,duration:t.swipeDuration,initialSwipe:t.startPosition,showIndicators:t.showIndicators,indicatorColor:"white",onChange:c,onDragEnd:f,onDragStart:d},{default:()=>[t.images.map((g,y)=>J(Hg,{ref:C=>{y===s.active&&(r.value=C)},src:g,show:t.show,active:s.active,maxZoom:t.maxZoom,minZoom:t.minZoom,rootWidth:s.rootWidth,rootHeight:s.rootHeight,disableZoom:s.disableZoom,doubleScale:t.doubleScale,closeOnClickImage:t.closeOnClickImage,closeOnClickOverlay:t.closeOnClickOverlay,vertical:t.vertical,onScale:a,onClose:h,onLongPress:()=>e("longPress",{index:y})},{image:n.image}))]}),b=()=>{if(t.closeable)return J(De,{role:"button",name:t.closeIcon,class:[gn("close-icon",t.closeIconPosition),vh],onClick:h},null)},E=()=>e("closed"),m=(g,y)=>{var C;return(C=i.value)==null?void 0:C.swipeTo(g,y)};return cn({resetScale:()=>{var g;(g=r.value)==null||g.resetScale()},swipeTo:m}),ye(o),Et([fh,gh],o),Et(()=>t.startPosition,g=>c(+g)),Et(()=>t.show,g=>{const{images:y,startPosition:C}=t;g?(c(+C),Ee(()=>{o(),m(+C,{immediate:!0})})):e("close",{index:s.active,url:y[s.active]})}),()=>J(yg,Te({class:[gn(),t.className],overlayClass:[gn("overlay"),t.overlayClass],onClosed:E,"onUpdate:show":l},wi(t,$g)),{default:()=>[b(),_(),u(),p()]})}});let fr;const Wg={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,vertical:!1,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,doubleScale:!0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeOnClickOverlay:!0,closeIconPosition:"top-right"};function qg(){({instance:fr}=Rg({setup(){const{state:t,toggle:e}=Tg(),n=()=>{t.images=[]};return()=>J(Rh,Te(t,{onClosed:n,"onUpdate:show":e}),null)}}))}const Kg=(t,e=0)=>{if(co)return fr||qg(),t=Array.isArray(t)?{images:t,startPosition:e}:t,fr.open(ve({},Wg,t)),fr};he(Rh);const[Yg,Lt,Xg]=Qt("uploader");function Sl(t,e){return new Promise(n=>{if(e==="file"){n();return}const i=new FileReader;i.onload=r=>{n(r.target.result)},e==="dataUrl"?i.readAsDataURL(t):e==="text"&&i.readAsText(t)})}function Ah(t,e){return ah(t).some(n=>n.file?xr(e)?e(n.file):n.file.size>+e:!1)}function Zg(t,e){const n=[],i=[];return t.forEach(r=>{Ah(r,e)?i.push(r):n.push(r)}),{valid:n,invalid:i}}const Qg=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i,Jg=t=>Qg.test(t);function Oh(t){return t.isImage?!0:t.file&&t.file.type?t.file.type.indexOf("image")===0:t.url?Jg(t.url):typeof t.content=="string"?t.content.indexOf("data:image")===0:!1}var t1=Dt({props:{name:Tt,item:xi(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(t,{emit:e,slots:n}){const i=()=>{const{status:c,message:u}=t.item;if(c==="uploading"||c==="failed"){const p=c==="failed"?J(De,{name:"close",class:Lt("mask-icon")},null):J(po,{class:Lt("loading")},null),d=Ge(u)&&u!=="";return J("div",{class:Lt("mask")},[p,d&&J("div",{class:Lt("mask-message")},[u])])}},r=c=>{const{name:u,item:p,index:d,beforeDelete:f}=t;c.stopPropagation(),go(f,{args:[p,{name:u,index:d}],done:()=>e("delete")})},s=()=>e("preview"),o=()=>e("reupload"),a=()=>{if(t.deletable&&t.item.status!=="uploading"){const c=n["preview-delete"];return J("div",{role:"button",class:Lt("preview-delete",{shadow:!c}),tabindex:0,"aria-label":Xg("delete"),onClick:r},[c?c():J(De,{name:"cross",class:Lt("preview-delete-icon")},null)])}},l=()=>{if(n["preview-cover"]){const{index:c,item:u}=t;return J("div",{class:Lt("preview-cover")},[n["preview-cover"](ve({index:c},u))])}},h=()=>{const{item:c,lazyLoad:u,imageFit:p,previewSize:d,reupload:f}=t;return Oh(c)?J(Ph,{fit:p,src:c.objectUrl||c.content||c.url,class:Lt("preview-image"),width:Array.isArray(d)?d[0]:d,height:Array.isArray(d)?d[1]:d,lazyLoad:u,onClick:f?o:s},{default:l}):J("div",{class:Lt("file"),style:uo(t.previewSize)},[J(De,{class:Lt("file-icon"),name:"description"},null),J("div",{class:[Lt("file-name"),"van-ellipsis"]},[c.file?c.file.name:c.url]),l()])};return()=>J("div",{class:Lt("preview")},[h(),i(),a()])}});const e1={name:xe(""),accept:Nt("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:xe(1/0),imageFit:Nt("cover"),resultType:Nt("dataUrl"),uploadIcon:Nt("photograph"),uploadText:String,deletable:wt,reupload:Boolean,afterRead:Function,showUpload:wt,modelValue:lh(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:wt,previewOptions:Object,previewFullImage:wt,maxSize:{type:[Number,String,Function],default:1/0}};var n1=Dt({name:Yg,props:e1,emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(t,{emit:e,slots:n}){const i=dt(),r=[],s=dt(-1),o=dt(!1),a=(P=t.modelValue.length)=>({name:t.name,index:P}),l=()=>{i.value&&(i.value.value="")},h=P=>{if(l(),Ah(P,t.maxSize))if(Array.isArray(P)){const w=Zg(P,t.maxSize);if(P=w.valid,e("oversize",w.invalid,a()),!P.length)return}else{e("oversize",P,a());return}if(P=Zt(P),s.value>-1){const w=[...t.modelValue];w.splice(s.value,1,P),e("update:modelValue",w),s.value=-1}else e("update:modelValue",[...t.modelValue,...ah(P)]);t.afterRead&&t.afterRead(P,a())},c=P=>{const{maxCount:w,modelValue:x,resultType:k}=t;if(Array.isArray(P)){const N=+w-x.length;P.length>N&&(P=P.slice(0,N)),Promise.all(P.map(v=>Sl(v,k))).then(v=>{const R=P.map((S,A)=>{const F={file:S,status:"",message:"",objectUrl:URL.createObjectURL(S)};return v[A]&&(F.content=v[A]),F});h(R)})}else Sl(P,k).then(N=>{const v={file:P,status:"",message:"",objectUrl:URL.createObjectURL(P)};N&&(v.content=N),h(v)})},u=P=>{const{files:w}=P.target;if(t.disabled||!w||!w.length)return;const x=w.length===1?w[0]:[].slice.call(w);if(t.beforeRead){const k=t.beforeRead(x,a());if(!k){l();return}if(sh(k)){k.then(N=>{c(N||x)}).catch(l);return}}c(x)};let p;const d=()=>e("closePreview"),f=P=>{if(t.previewFullImage){const w=t.modelValue.filter(Oh),x=w.map(k=>(k.objectUrl&&!k.url&&k.status!=="failed"&&(k.url=k.objectUrl,r.push(k.url)),k.url)).filter(Boolean);p=Kg(ve({images:x,startPosition:w.indexOf(P),onClose:d},t.previewOptions))}},_=()=>{p&&p.close()},b=(P,w)=>{const x=t.modelValue.slice(0);x.splice(w,1),e("update:modelValue",x),e("delete",P,a(w))},E=P=>{o.value=!0,s.value=P,Ee(()=>L())},m=()=>{o.value||(s.value=-1),o.value=!1},g=(P,w)=>{const x=["imageFit","deletable","reupload","previewSize","beforeDelete"],k=ve(wi(t,x),wi(P,x,!0));return J(t1,Te({item:P,index:w,onClick:()=>e(t.reupload?"clickReupload":"clickPreview",P,a(w)),onDelete:()=>b(P,w),onPreview:()=>f(P),onReupload:()=>E(w)},wi(t,["name","lazyLoad"]),k),wi(n,["preview-cover","preview-delete"]))},y=()=>{if(t.previewImage)return t.modelValue.map(g)},C=P=>e("clickUpload",P),T=()=>{const P=t.modelValue.length<+t.maxCount,w=t.readonly?null:J("input",{ref:i,type:"file",class:Lt("input"),accept:t.accept,capture:t.capture,multiple:t.multiple&&s.value===-1,disabled:t.disabled,onChange:u,onClick:m},null);return n.default?Bi(J("div",{class:Lt("input-wrapper"),onClick:C},[n.default(),w]),[[Cr,P]]):Bi(J("div",{class:Lt("upload",{readonly:t.readonly}),style:uo(t.previewSize),onClick:C},[J(De,{name:t.uploadIcon,class:Lt("upload-icon")},null),t.uploadText&&J("span",{class:Lt("upload-text")},[t.uploadText]),w]),[[Cr,t.showUpload&&P]])},L=()=>{i.value&&!t.disabled&&i.value.click()};return Ze(()=>{r.forEach(P=>URL.revokeObjectURL(P))}),cn({chooseFile:L,reuploadFile:E,closeImagePreview:_}),E0(()=>t.modelValue),()=>J("div",{class:Lt()},[J("div",{class:Lt("wrapper",{disabled:t.disabled})},[y(),T()])])}});const i1=he(n1);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const vn=typeof document<"u";function kh(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function r1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&kh(t.default)}const xt=Object.assign;function ps(t,e){const n={};for(const i in e){const r=e[i];n[i]=_e(r)?r.map(t):t(r)}return n}const Ii=()=>{},_e=Array.isArray,Fh=/#/g,s1=/&/g,o1=/\//g,a1=/=/g,l1=/\?/g,Mh=/\+/g,c1=/%5B/g,h1=/%5D/g,Nh=/%5E/g,u1=/%60/g,Ih=/%7B/g,d1=/%7C/g,Lh=/%7D/g,f1=/%20/g;function vo(t){return encodeURI(""+t).replace(d1,"|").replace(c1,"[").replace(h1,"]")}function g1(t){return vo(t).replace(Ih,"{").replace(Lh,"}").replace(Nh,"^")}function Is(t){return vo(t).replace(Mh,"%2B").replace(f1,"+").replace(Fh,"%23").replace(s1,"%26").replace(u1,"`").replace(Ih,"{").replace(Lh,"}").replace(Nh,"^")}function p1(t){return Is(t).replace(a1,"%3D")}function m1(t){return vo(t).replace(Fh,"%23").replace(l1,"%3F")}function v1(t){return t==null?"":m1(t).replace(o1,"%2F")}function ji(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const _1=/\/$/,y1=t=>t.replace(_1,"");function ms(t,e,n="/"){let i,r={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),r=t(s)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=w1(i??e,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:ji(o)}}function b1(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function S1(t,e,n){const i=e.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&Pn(e.matched[i],n.matched[r])&&Dh(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Pn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Dh(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!C1(t[n],e[n]))return!1;return!0}function C1(t,e){return _e(t)?Cl(t,e):_e(e)?Cl(e,t):t===e}function Cl(t,e){return _e(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function w1(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(o).join("/")}const He={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Wi;(function(t){t.pop="pop",t.push="push"})(Wi||(Wi={}));var Er;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Er||(Er={}));const vs="";function x1(t){if(!t)if(vn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),y1(t)}const P1=/^[^#]+#/;function E1(t,e){return t.replace(P1,"#")+e}function T1(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const R1=()=>({left:window.scrollX,top:window.scrollY});function A1(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=T1(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function wl(t,e){return(history.state?history.state.position-e:-1)+t}const Ls=new Map;function O1(t,e){Ls.set(t,e)}function k1(t){const e=Ls.get(t);return Ls.delete(t),e}function F1(t=""){let e=[],n=[vs],i=0;t=x1(t);function r(a){i++,i!==n.length&&n.splice(i),n.push(a)}function s(a,l,{direction:h,delta:c}){const u={direction:h,delta:c,type:Wi.pop};for(const p of e)p(a,l,u)}const o={location:vs,state:{},base:t,createHref:E1.bind(null,t),replace(a){n.splice(i--,1),r(a)},push(a,l){r(a)},listen(a){return e.push(a),()=>{const l=e.indexOf(a);l>-1&&e.splice(l,1)}},destroy(){e=[],n=[vs],i=0},go(a,l=!0){const h=this.location,c=a<0?Er.back:Er.forward;i=Math.max(0,Math.min(i+a,n.length-1)),l&&s(this.location,h,{direction:c,delta:a})}};return Object.defineProperty(o,"location",{enumerable:!0,get:()=>n[i]}),o}function M1(t){return typeof t=="string"||t&&typeof t=="object"}function Gh(t){return typeof t=="string"||typeof t=="symbol"}const Bh=Symbol("");var xl;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(xl||(xl={}));function En(t,e){return xt(new Error,{type:t,[Bh]:!0},e)}function Me(t,e){return t instanceof Error&&Bh in t&&(e==null||!!(t.type&e))}const Pl="[^/]+?",N1={sensitive:!1,strict:!1,start:!0,end:!0},I1=/[.+*?^${}()[\]/\\]/g;function L1(t,e){const n=xt({},N1,e),i=[];let r=n.start?"^":"";const s=[];for(const h of t){const c=h.length?[]:[90];n.strict&&!h.length&&(r+="/");for(let u=0;u<h.length;u++){const p=h[u];let d=40+(n.sensitive?.25:0);if(p.type===0)u||(r+="/"),r+=p.value.replace(I1,"\\$&"),d+=40;else if(p.type===1){const{value:f,repeatable:_,optional:b,regexp:E}=p;s.push({name:f,repeatable:_,optional:b});const m=E||Pl;if(m!==Pl){d+=10;try{new RegExp(`(${m})`)}catch(y){throw new Error(`Invalid custom RegExp for param "${f}" (${m}): `+y.message)}}let g=_?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;u||(g=b&&h.length<2?`(?:/${g})`:"/"+g),b&&(g+="?"),r+=g,d+=20,b&&(d+=-8),_&&(d+=-20),m===".*"&&(d+=-50)}c.push(d)}i.push(c)}if(n.strict&&n.end){const h=i.length-1;i[h][i[h].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(h){const c=h.match(o),u={};if(!c)return null;for(let p=1;p<c.length;p++){const d=c[p]||"",f=s[p-1];u[f.name]=d&&f.repeatable?d.split("/"):d}return u}function l(h){let c="",u=!1;for(const p of t){(!u||!c.endsWith("/"))&&(c+="/"),u=!1;for(const d of p)if(d.type===0)c+=d.value;else if(d.type===1){const{value:f,repeatable:_,optional:b}=d,E=f in h?h[f]:"";if(_e(E)&&!_)throw new Error(`Provided param "${f}" is an array but it is not repeatable (* or + modifiers)`);const m=_e(E)?E.join("/"):E;if(!m)if(b)p.length<2&&(c.endsWith("/")?c=c.slice(0,-1):u=!0);else throw new Error(`Missing required param "${f}"`);c+=m}}return c||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function D1(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Uh(t,e){let n=0;const i=t.score,r=e.score;for(;n<i.length&&n<r.length;){const s=D1(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(El(i))return 1;if(El(r))return-1}return r.length-i.length}function El(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const G1={type:0,value:""},B1=/[a-zA-Z0-9_]/;function U1(t){if(!t)return[[]];if(t==="/")return[[G1]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${h}": ${d}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,h="",c="";function u(){h&&(n===0?s.push({type:0,value:h}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),h="")}function p(){h+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(h&&u(),o()):l===":"?(u(),n=1):p();break;case 4:p(),n=i;break;case 1:l==="("?n=2:B1.test(l)?p():(u(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:u(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),u(),o(),r}function V1(t,e,n){const i=L1(U1(t.path),n),r=xt(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function H1(t,e){const n=[],i=new Map;e=Ol({strict:!1,end:!0,sensitive:!1},e);function r(u){return i.get(u)}function s(u,p,d){const f=!d,_=Rl(u);_.aliasOf=d&&d.record;const b=Ol(e,u),E=[_];if("alias"in u){const y=typeof u.alias=="string"?[u.alias]:u.alias;for(const C of y)E.push(Rl(xt({},_,{components:d?d.record.components:_.components,path:C,aliasOf:d?d.record:_})))}let m,g;for(const y of E){const{path:C}=y;if(p&&C[0]!=="/"){const T=p.record.path,L=T[T.length-1]==="/"?"":"/";y.path=p.record.path+(C&&L+C)}if(m=V1(y,p,b),d?d.alias.push(m):(g=g||m,g!==m&&g.alias.push(m),f&&u.name&&!Al(m)&&o(u.name)),Vh(m)&&l(m),_.children){const T=_.children;for(let L=0;L<T.length;L++)s(T[L],m,d&&d.children[L])}d=d||m}return g?()=>{o(g)}:Ii}function o(u){if(Gh(u)){const p=i.get(u);p&&(i.delete(u),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(u);p>-1&&(n.splice(p,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){const p=j1(u,n);n.splice(p,0,u),u.record.name&&!Al(u)&&i.set(u.record.name,u)}function h(u,p){let d,f={},_,b;if("name"in u&&u.name){if(d=i.get(u.name),!d)throw En(1,{location:u});b=d.record.name,f=xt(Tl(p.params,d.keys.filter(g=>!g.optional).concat(d.parent?d.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),u.params&&Tl(u.params,d.keys.map(g=>g.name))),_=d.stringify(f)}else if(u.path!=null)_=u.path,d=n.find(g=>g.re.test(_)),d&&(f=d.parse(_),b=d.record.name);else{if(d=p.name?i.get(p.name):n.find(g=>g.re.test(p.path)),!d)throw En(1,{location:u,currentLocation:p});b=d.record.name,f=xt({},p.params,u.params),_=d.stringify(f)}const E=[];let m=d;for(;m;)E.unshift(m.record),m=m.parent;return{name:b,path:_,params:f,matched:E,meta:$1(E)}}t.forEach(u=>s(u));function c(){n.length=0,i.clear()}return{addRoute:s,resolve:h,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function Tl(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function Rl(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:z1(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function z1(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function Al(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function $1(t){return t.reduce((e,n)=>xt(e,n.meta),{})}function Ol(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function j1(t,e){let n=0,i=e.length;for(;n!==i;){const s=n+i>>1;Uh(t,e[s])<0?i=s:n=s+1}const r=W1(t);return r&&(i=e.lastIndexOf(r,i-1)),i}function W1(t){let e=t;for(;e=e.parent;)if(Vh(e)&&Uh(t,e)===0)return e}function Vh({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function q1(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(Mh," "),o=s.indexOf("="),a=ji(o<0?s:s.slice(0,o)),l=o<0?null:ji(s.slice(o+1));if(a in e){let h=e[a];_e(h)||(h=e[a]=[h]),h.push(l)}else e[a]=l}return e}function kl(t){let e="";for(let n in t){const i=t[n];if(n=p1(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(_e(i)?i.map(s=>s&&Is(s)):[i&&Is(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function K1(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=_e(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const Y1=Symbol(""),Fl=Symbol(""),$r=Symbol(""),Hh=Symbol(""),Ds=Symbol("");function yi(){let t=[];function e(i){return t.push(i),()=>{const r=t.indexOf(i);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function We(t,e,n,i,r,s=o=>o()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const h=p=>{p===!1?l(En(4,{from:n,to:e})):p instanceof Error?l(p):M1(p)?l(En(2,{from:e,to:p})):(o&&i.enterCallbacks[r]===o&&typeof p=="function"&&o.push(p),a())},c=s(()=>t.call(i&&i.instances[r],e,n,h));let u=Promise.resolve(c);t.length<3&&(u=u.then(h)),u.catch(p=>l(p))})}function _s(t,e,n,i,r=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(kh(l)){const c=(l.__vccOpts||l)[e];c&&s.push(We(c,n,i,o,a,r))}else{let h=l();s.push(()=>h.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const u=r1(c)?c.default:c;o.mods[a]=c,o.components[a]=u;const d=(u.__vccOpts||u)[e];return d&&We(d,n,i,o,a,r)()}))}}return s}function Ml(t){const e=se($r),n=se(Hh),i=_t(()=>{const l=le(t.to);return e.resolve(l)}),r=_t(()=>{const{matched:l}=i.value,{length:h}=l,c=l[h-1],u=n.matched;if(!c||!u.length)return-1;const p=u.findIndex(Pn.bind(null,c));if(p>-1)return p;const d=Nl(l[h-2]);return h>1&&Nl(c)===d&&u[u.length-1].path!==d?u.findIndex(Pn.bind(null,l[h-2])):p}),s=_t(()=>r.value>-1&&t2(n.params,i.value.params)),o=_t(()=>r.value>-1&&r.value===n.matched.length-1&&Dh(n.params,i.value.params));function a(l={}){if(J1(l)){const h=e[le(t.replace)?"replace":"push"](le(t.to)).catch(Ii);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:i,href:_t(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}function X1(t){return t.length===1?t[0]:t}const Z1=Dt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ml,setup(t,{slots:e}){const n=Zt(Ml(t)),{options:i}=se($r),r=_t(()=>({[Il(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Il(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&X1(e.default(n));return t.custom?s:Zi("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),Q1=Z1;function J1(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function t2(t,e){for(const n in e){const i=e[n],r=t[n];if(typeof i=="string"){if(i!==r)return!1}else if(!_e(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function Nl(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Il=(t,e,n)=>t??e??n,e2=Dt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=se(Ds),r=_t(()=>t.route||i.value),s=se(Fl,0),o=_t(()=>{let h=le(s);const{matched:c}=r.value;let u;for(;(u=c[h])&&!u.components;)h++;return h}),a=_t(()=>r.value.matched[o.value]);wn(Fl,_t(()=>o.value+1)),wn(Y1,a),wn(Ds,r);const l=dt();return Et(()=>[l.value,a.value,t.name],([h,c,u],[p,d,f])=>{c&&(c.instances[u]=h,d&&d!==c&&h&&h===p&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),h&&c&&(!d||!Pn(c,d)||!p)&&(c.enterCallbacks[u]||[]).forEach(_=>_(h))},{flush:"post"}),()=>{const h=r.value,c=t.name,u=a.value,p=u&&u.components[c];if(!p)return Ll(n.default,{Component:p,route:h});const d=u.props[c],f=d?d===!0?h.params:typeof d=="function"?d(h):d:null,b=Zi(p,xt({},f,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(u.instances[c]=null)},ref:l}));return Ll(n.default,{Component:b,route:h})||b}}});function Ll(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const n2=e2;function i2(t){const e=H1(t.routes,t),n=t.parseQuery||q1,i=t.stringifyQuery||kl,r=t.history,s=yi(),o=yi(),a=yi(),l=Tu(He);let h=He;vn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=ps.bind(null,O=>""+O),u=ps.bind(null,v1),p=ps.bind(null,ji);function d(O,G){let V,W;return Gh(O)?(V=e.getRecordMatcher(O),W=G):W=O,e.addRoute(W,V)}function f(O){const G=e.getRecordMatcher(O);G&&e.removeRoute(G)}function _(){return e.getRoutes().map(O=>O.record)}function b(O){return!!e.getRecordMatcher(O)}function E(O,G){if(G=xt({},G||l.value),typeof O=="string"){const B=ms(n,O,G.path),$=e.resolve({path:B.path},G),K=r.createHref(B.fullPath);return xt(B,$,{params:p($.params),hash:ji(B.hash),redirectedFrom:void 0,href:K})}let V;if(O.path!=null)V=xt({},O,{path:ms(n,O.path,G.path).path});else{const B=xt({},O.params);for(const $ in B)B[$]==null&&delete B[$];V=xt({},O,{params:u(B)}),G.params=u(G.params)}const W=e.resolve(V,G),tt=O.hash||"";W.params=c(p(W.params));const M=b1(i,xt({},O,{hash:g1(tt),path:W.path})),I=r.createHref(M);return xt({fullPath:M,hash:tt,query:i===kl?K1(O.query):O.query||{}},W,{redirectedFrom:void 0,href:I})}function m(O){return typeof O=="string"?ms(n,O,l.value.path):xt({},O)}function g(O,G){if(h!==O)return En(8,{from:G,to:O})}function y(O){return L(O)}function C(O){return y(xt(m(O),{replace:!0}))}function T(O){const G=O.matched[O.matched.length-1];if(G&&G.redirect){const{redirect:V}=G;let W=typeof V=="function"?V(O):V;return typeof W=="string"&&(W=W.includes("?")||W.includes("#")?W=m(W):{path:W},W.params={}),xt({query:O.query,hash:O.hash,params:W.path!=null?{}:O.params},W)}}function L(O,G){const V=h=E(O),W=l.value,tt=O.state,M=O.force,I=O.replace===!0,B=T(V);if(B)return L(xt(m(B),{state:typeof B=="object"?xt({},tt,B.state):tt,force:M,replace:I}),G||V);const $=V;$.redirectedFrom=G;let K;return!M&&S1(i,W,V)&&(K=En(16,{to:$,from:W}),U(W,W,!0,!1)),(K?Promise.resolve(K):x($,W)).catch(q=>Me(q)?Me(q,2)?q:H(q):D(q,$,W)).then(q=>{if(q){if(Me(q,2))return L(xt({replace:I},m(q.to),{state:typeof q.to=="object"?xt({},tt,q.to.state):tt,force:M}),G||$)}else q=N($,W,!0,I,tt);return k($,W,q),q})}function P(O,G){const V=g(O,G);return V?Promise.reject(V):Promise.resolve()}function w(O){const G=X.values().next().value;return G&&typeof G.runWithContext=="function"?G.runWithContext(O):O()}function x(O,G){let V;const[W,tt,M]=r2(O,G);V=_s(W.reverse(),"beforeRouteLeave",O,G);for(const B of W)B.leaveGuards.forEach($=>{V.push(We($,O,G))});const I=P.bind(null,O,G);return V.push(I),st(V).then(()=>{V=[];for(const B of s.list())V.push(We(B,O,G));return V.push(I),st(V)}).then(()=>{V=_s(tt,"beforeRouteUpdate",O,G);for(const B of tt)B.updateGuards.forEach($=>{V.push(We($,O,G))});return V.push(I),st(V)}).then(()=>{V=[];for(const B of M)if(B.beforeEnter)if(_e(B.beforeEnter))for(const $ of B.beforeEnter)V.push(We($,O,G));else V.push(We(B.beforeEnter,O,G));return V.push(I),st(V)}).then(()=>(O.matched.forEach(B=>B.enterCallbacks={}),V=_s(M,"beforeRouteEnter",O,G,w),V.push(I),st(V))).then(()=>{V=[];for(const B of o.list())V.push(We(B,O,G));return V.push(I),st(V)}).catch(B=>Me(B,8)?B:Promise.reject(B))}function k(O,G,V){a.list().forEach(W=>w(()=>W(O,G,V)))}function N(O,G,V,W,tt){const M=g(O,G);if(M)return M;const I=G===He,B=vn?history.state:{};V&&(W||I?r.replace(O.fullPath,xt({scroll:I&&B&&B.scroll},tt)):r.push(O.fullPath,tt)),l.value=O,U(O,G,V,I),H()}let v;function R(){v||(v=r.listen((O,G,V)=>{if(!nt.listening)return;const W=E(O),tt=T(W);if(tt){L(xt(tt,{replace:!0,force:!0}),W).catch(Ii);return}h=W;const M=l.value;vn&&O1(wl(M.fullPath,V.delta),R1()),x(W,M).catch(I=>Me(I,12)?I:Me(I,2)?(L(xt(m(I.to),{force:!0}),W).then(B=>{Me(B,20)&&!V.delta&&V.type===Wi.pop&&r.go(-1,!1)}).catch(Ii),Promise.reject()):(V.delta&&r.go(-V.delta,!1),D(I,W,M))).then(I=>{I=I||N(W,M,!1),I&&(V.delta&&!Me(I,8)?r.go(-V.delta,!1):V.type===Wi.pop&&Me(I,20)&&r.go(-1,!1)),k(W,M,I)}).catch(Ii)}))}let S=yi(),A=yi(),F;function D(O,G,V){H(O);const W=A.list();return W.length?W.forEach(tt=>tt(O,G,V)):console.error(O),Promise.reject(O)}function j(){return F&&l.value!==He?Promise.resolve():new Promise((O,G)=>{S.add([O,G])})}function H(O){return F||(F=!O,R(),S.list().forEach(([G,V])=>O?V(O):G()),S.reset()),O}function U(O,G,V,W){const{scrollBehavior:tt}=t;if(!vn||!tt)return Promise.resolve();const M=!V&&k1(wl(O.fullPath,0))||(W||!V)&&history.state&&history.state.scroll||null;return Ee().then(()=>tt(O,G,M)).then(I=>I&&A1(I)).catch(I=>D(I,O,G))}const Y=O=>r.go(O);let z;const X=new Set,nt={currentRoute:l,listening:!0,addRoute:d,removeRoute:f,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:_,resolve:E,options:t,push:y,replace:C,go:Y,back:()=>Y(-1),forward:()=>Y(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:A.add,isReady:j,install(O){const G=this;O.component("RouterLink",Q1),O.component("RouterView",n2),O.config.globalProperties.$router=G,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>le(l)}),vn&&!z&&l.value===He&&(z=!0,y(r.location).catch(tt=>{}));const V={};for(const tt in He)Object.defineProperty(V,tt,{get:()=>l.value[tt],enumerable:!0});O.provide($r,G),O.provide(Hh,tc(V)),O.provide(Ds,l);const W=O.unmount;X.add(O),O.unmount=function(){X.delete(O),X.size<1&&(h=He,v&&v(),v=null,l.value=He,z=!1,F=!1),W()}}};function st(O){return O.reduce((G,V)=>G.then(()=>w(V)),Promise.resolve())}return nt}function r2(t,e){const n=[],i=[],r=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(h=>Pn(h,a))?i.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(h=>Pn(h,l))||r.push(l))}return[n,i,r]}function s2(){return se($r)}const gr=dt({image:null}),o2=()=>gr.value,a2={class:"center"},l2={__name:"HomeView",setup(t){const e=s2(),n=()=>e.push("/edit"),i=r=>{r!=null&&r.content&&(gr.value.image=new Image,gr.value.image.addEventListener("load",n,{once:!0}),gr.value.image.src=r.content)};return(r,s)=>(xn(),eo("main",a2,[J(le(i1),{accept:"image/*","after-read":i})]))}},bi=1080,Si=1350,c2={__name:"Editor",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=Sd(t,"modelValue"),n=dt(),i=dt(),r=dt({width:`${bi}px`,height:`${Si}px`,transform:"scale(0)"}),s=dt({x:0,y:0,width:bi,height:Si,fill:"#ffffff"}),o=dt({image:null}),a=dt(!1),l=()=>{if(!i.value)return;const{clientWidth:h,clientHeight:c}=i.value,u=Math.min(h/bi,c/Si)*.9;r.value.transform=`scale(${u})`};return ye(()=>{l(),window.addEventListener("resize",l),e.value.image&&(e.value.getStage=n.value.getStage,o.value={image:e.value.image,x:(bi-e.value.image.width)/2,y:(Si-e.value.image.height)/2},a.value=!0)}),Ze(()=>window.removeEventListener("resize",l)),(h,c)=>{const u=_n("v-rect"),p=_n("v-image"),d=_n("v-layer"),f=_n("v-stage");return xn(),eo("div",{ref_key:"editorRef",ref:i,class:"editor"},[J(f,{config:{width:bi,height:Si},style:Fr(r.value),ref_key:"stageRef",ref:n},{default:Sn(()=>[J(d,null,{default:Sn(()=>[J(u,{config:s.value},null,8,["config"]),a.value?(xn(),no(p,{key:0,config:o.value},null,8,["config"])):kd("",!0)]),_:1})]),_:1},8,["config","style"])],512)}}},h2={class:"editor-wrapper"},u2={__name:"EditorView",setup(t){const e=dt({image:o2().image}),n=(r,s)=>{const o=document.createElement("a");o.download=s,o.href=r,document.body.appendChild(o),o.click(),document.body.removeChild(o)},i=()=>{const r=e.value.getStage();if(!r)return;const s=r.toDataURL({mimeType:"image/jpeg",quality:.7,imageSmoothingEnabled:!1});n(s,"my-image.jpg")};return(r,s)=>{const o=_n("van-button");return xn(),eo("main",null,[io("div",h2,[J(c2,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=a=>e.value=a)},null,8,["modelValue"])]),J(le(Ig),{"column-num":1},{default:Sn(()=>[J(le(Bg),null,{default:Sn(()=>[J(o,{type:"primary",icon:"success",round:"",onClick:i},{default:Sn(()=>s[1]||(s[1]=[Hc("Save")])),_:1})]),_:1})]),_:1})])}}},d2=i2({history:F1(),routes:[{path:"/",component:l2},{path:"/edit",component:u2}]}),f2=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},g2={};function p2(t,e){const n=_n("RouterView");return xn(),no(n)}const m2=f2(g2,[["render",p2]]),zh=Yc(m2);zh.use(d2).use(f0).use(ag);zh.mount("#app");"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(()=>console.log("Service Worker is registered")).catch(t=>console.log("Service Worker error:",t));
